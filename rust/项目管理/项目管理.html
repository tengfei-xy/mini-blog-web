<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../css/wolai.css"/><title>项目管理 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body class="full-width small-font"><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="项目管理" class="main-title"></div></div></header><article><h1 id="p7EogN7SV72urSWaQLSo5x" class="wolai-block"><span class="inline-wrap">概念</span><details id="ktsJbvGGuLuDCVPxXkCzvo" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">项目(Package)</span></summary><div id="h8wAwRA1QWNpDefjavGtCa" class="wolai-block wolai-text"><div><span class="inline-wrap">包含：独立的</span><span class="inline-wrap"><code>Cargon.toml</code></span><span class="inline-wrap">文件，因为功能性被组织在一起的一个或多个包。</span></div></div><div id="nM71Cf5b6M4UojUYezJxB6" class="wolai-block wolai-text"><div><span class="inline-wrap">注意：一个 </span><span class="inline-wrap"><code>Package</code></span><span class="inline-wrap"> 只能包含</span><span class="inline-wrap"><b>一个</b></span><span class="inline-wrap">库(library)类型的包，但是可以包含</span><span class="inline-wrap"><b>多个</b></span><span class="inline-wrap">二进制可执行类型的包。</span></div></div><div id="dUNZAGVVhJtzZRVDGKTzHC" class="wolai-block wolai-text"><div><span class="inline-wrap">一个 </span><span class="inline-wrap"><code>Cargo</code></span><span class="inline-wrap"> 提供的 </span><span class="inline-wrap"><code>feature</code></span><span class="inline-wrap">，可以用来构建、测试和分享包</span></div></div><details id="4TzQorujySaDsz4asersBt" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">库类型的项目</span></summary><code-block id="n7B35tUZKjMLHNAZqWmWHo" class="wolai-block"><div class="wolai-pre"><div data-lang="Rust" class="marker"></div><pre>$ cargo new my<span class="token operator">-</span>lib <span class="token operator">-</span><span class="token operator">-</span>lib
     <span class="token class-name">Created</span> library `my<span class="token operator">-</span>lib` package
$ ls my<span class="token operator">-</span>lib
<span class="token class-name">Cargo</span><span class="token punctuation">.</span>toml
src
$ ls my<span class="token operator">-</span>lib<span class="token operator">/</span>src
lib<span class="token punctuation">.</span>rs</pre></div></code-block></details></details><details id="hc7GGLYe9vUSeZuGsA73xf" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">包</span></summary><div id="7FBivQSbnXSSzV3a9wGu1S" class="wolai-block wolai-text"><div><span class="inline-wrap">定义：包(Crate)是一个独立的可编译单元</span></div></div><div id="6Hg89aRJo6GUKHNmNjtTB8" class="wolai-block wolai-text"><div><span class="inline-wrap">作用：一个包会将相关联的功能打包在一起</span></div></div><div id="sZzFzfxHwkAoD4ooiiL1E4" class="wolai-block wolai-text"><div><span class="inline-wrap">意义：使得该功能可以很方便的在多个项目中分享</span></div></div><div id="mtPRPm11Jx2EM91beq6acV" class="wolai-block wolai-text"><div><span class="inline-wrap">结果：编译后会生成一个可执行文件或者一个库</span></div></div><div id="6K9tCGuE3ReymPHwSYSqkd" class="wolai-block wolai-text"><div><span class="inline-wrap">注意：同一个包中不能有同名的类型，但是在不同包中就可以</span></div></div></details><details id="6K42BPjEpuDaNVTLxqvh93" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">模块</span></summary><div id="ejq39co2PqcjubgpWShnwD" class="wolai-block wolai-text"><div><span class="blue inline-wrap">定义：</span><span class="inline-wrap">模块(Module)可以一个文件多个模块，也可以一个文件一个模块，模块可以被认为是真实项目中的代码组织单元</span></div></div><div id="obYByDKkqAFB864brjmpeD" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><aside id="7efH4jLKXDm3sZPLfRnqyP" class="bg-cultured wolai-block"><div data-symbol="📌" class="icon"></div><span class="inline-wrap">1. 使用 mod 关键字来创建新模块，后面紧跟着模块名称
2. 模块可以嵌套，这里嵌套的原因是招待客人和服务都发生在前厅，因此我们的代码模拟了真实场景
3. 模块中可以定义各种 Rust 类型，例如函数、结构体、枚举、特征等
4. 所有模块均定义在同一个文件中</span></aside><details id="oEcJrf5t7VNhJoNPj2LTXv" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">创建嵌套模块</span></summary><div id="x4UMQNc2gHppTQKMPvobmT" class="wolai-block wolai-text"><div><span class="inline-wrap">创建的是一个库类型的 </span><span class="inline-wrap"><code>Package</code></span></div></div><code-block id="414XTrWdVTc23gRRk9mAsr" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre> <span class="token function">cargo</span> new <span class="token parameter variable">--lib</span> restauran</pre></div></code-block><div id="gwM7FLKSPe7MWgudh4ngUp" class="wolai-block wolai-text"><div><span class="inline-wrap">写模块到</span><span class="inline-wrap"><code>src/lib.rc</code></span><span class="inline-wrap">中</span></div></div><code-block id="iMidnbERevBwYC1zr3DdqD" class="wolai-block"><div class="wolai-pre"><div data-lang="Rust" class="marker"></div><pre><span class="token comment">// 餐厅前厅，用于吃饭</span>
<span class="token keyword">mod</span> <span class="token module-declaration namespace">front_of_house</span> <span class="token punctuation">{</span>
    <span class="token keyword">mod</span> <span class="token module-declaration namespace">hosting</span> <span class="token punctuation">{</span>
        <span class="token keyword">fn</span> <span class="token function-definition function">add_to_waitlist</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token keyword">fn</span> <span class="token function-definition function">seat_at_table</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">mod</span> <span class="token module-declaration namespace">serving</span> <span class="token punctuation">{</span>
        <span class="token keyword">fn</span> <span class="token function-definition function">take_order</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token keyword">fn</span> <span class="token function-definition function">serve_order</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token keyword">fn</span> <span class="token function-definition function">take_payment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></div></code-block></details><details id="muAq15bXrPHVwEZimomrYa" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">引用模块</span></summary><div id="dd5uiB48AjHiA4Nmh3egYg" class="wolai-block wolai-text"><div><span class="inline-wrap">模块树</span></div></div><code-block id="koKAw8W9YRC8idt6TWCiAV" class="wolai-block"><div class="wolai-pre"><div data-lang="Rust" class="marker"></div><pre><span class="token keyword">crate</span>
 └── front_of_house
     ├── hosting
     │   ├── add_to_waitlist
     │   └── seat_at_table
     └── serving
         ├── take_order
         ├── serve_order
         └── take_payment</pre></div></code-block><details id="tpfhaTyakLGDRtvzcyyPQh" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">绝对路径</span></summary><div id="kcXtqUAX6JUwqHZQfv98CY" class="wolai-block wolai-text"><div><span class="inline-wrap">从包根开始，路径名以包名或者 </span><span class="inline-wrap"><code>crate</code></span><span class="inline-wrap"> 作为开头</span></div></div><code-block id="wriMYUGtZnmd6J3H8hQGCX" class="wolai-block"><div class="wolai-pre"><div data-lang="Rust" class="marker"></div><pre><span class="token keyword">mod</span> <span class="token module-declaration namespace">front_of_house</span> <span class="token punctuation">{</span>
    <span class="token keyword">mod</span> <span class="token module-declaration namespace">hosting</span> <span class="token punctuation">{</span>
        <span class="token keyword">fn</span> <span class="token function-definition function">add_to_waitlist</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">eat_at_restaurant</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 绝对路径</span>
    <span class="token keyword">crate</span><span class="token module-declaration namespace"><span class="token punctuation">::</span>front_of_house<span class="token punctuation">::</span>hosting<span class="token punctuation">::</span></span><span class="token function">add_to_waitlist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span></pre></div></code-block></details><details id="fCyU2GbX1eoKJLYxHWW6pz" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">相对</span><span class="inline-wrap">路径</span></summary><div id="5fj2W75Ns7LwxfFFvnKJe1" class="wolai-block wolai-text"><div><span class="inline-wrap">从当前模块开始，以 </span><span class="inline-wrap"><code>self</code></span><span class="inline-wrap">，</span><span class="inline-wrap"><code>super</code></span><span class="inline-wrap"> 或当前模块的标识符作为开头</span></div></div><code-block id="r4JPjv8rJBRshJbafrjS4b" class="wolai-block"><div class="wolai-pre"><div data-lang="Rust" class="marker"></div><pre><span class="token keyword">mod</span> <span class="token module-declaration namespace">front_of_house</span> <span class="token punctuation">{</span>
    <span class="token keyword">mod</span> <span class="token module-declaration namespace">hosting</span> <span class="token punctuation">{</span>
        <span class="token keyword">fn</span> <span class="token function-definition function">add_to_waitlist</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">eat_at_restaurant</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 相对路径</span>
    <span class="token namespace">front_of_house<span class="token punctuation">::</span>hosting<span class="token punctuation">::</span></span><span class="token function">add_to_waitlist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block></details><details id="e7dA2MdTR5CNhvEeHE8stk" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">引用别名</span></summary><code-block id="pX88PBgcaeFHAv5fGQwM4f" class="wolai-block"><div class="wolai-pre"><div data-lang="Rust" class="marker"></div><pre><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>fmt<span class="token punctuation">::</span></span><span class="token class-name">Result</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>io<span class="token punctuation">::</span></span><span class="token class-name">Result</span> <span class="token keyword">as</span> <span class="token class-name">IoResult</span><span class="token punctuation">;</span>

<span class="token keyword">fn</span> <span class="token function-definition function">function1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">Result</span> <span class="token punctuation">{</span>
    <span class="token comment">// --snip--</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">function2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">IoResult</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token comment">// --snip--</span>
<span class="token punctuation">}</span></pre></div></code-block></details></details></details></h1><h1 id="kfjuEMSMWrTCNY96PtEut1" class="wolai-block"><span class="inline-wrap">项目依赖</span><div id="PV1ia7jAmHiwH3BbRCvNT" class="wolai-block wolai-text"><div><span class="inline-wrap">第三方包：</span><span class="inline-wrap"><a href="https://crates.io/"><span>Rust<span class="jill"></span>社区</span></a></span><span class="inline-wrap">、</span><span class="inline-wrap"><a href="https://lib.rs/"><span>lib.rc</span></a></span></div></div><details id="2GWUo9qXDx2C1ppGaA6aFT" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">依赖写入方式</span></summary><div id="bkz7UATTphRBKr2DEAvNaB" class="wolai-block wolai-text"><div><span class="inline-wrap">在 </span><span class="inline-wrap"><code>Cargo.toml</code></span><span class="inline-wrap"> 中，主要通过各种依赖段落来描述该项目的各种依赖项：</span></div></div><ul class="wolai-block"><li id="h6vNYCQ9SfizGPHcR1J3gv"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">基于 Rust 官方仓库 </span><span class="inline-wrap"><code>crates.io</code></span><span class="inline-wrap">，通过版本说明来描述</span></li><li id="2TyJbxUXDf44i9QyDjyqsk"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">基于项目源代码的 git 仓库地址，通过 URL 来描述</span></li><li id="m3vHrRfzKyGqsNpfyg6r4g"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">基于本地项目的绝对路径或者相对路径，通过类 Unix 模式的路径来描述</span></li></ul><div id="tke9DvZqe4ZB962yKX2CV1" class="wolai-block wolai-text"><div><span class="inline-wrap">这三种形式具体写法如下：</span></div></div><code-block id="jP5TxLnPfsaBX4Ncdg2qs4" class="wolai-block"><div class="wolai-pre"><div data-lang="Rust" class="marker"></div><pre><span class="token punctuation">[</span>dependencies<span class="token punctuation">]</span>
rand <span class="token operator">=</span> <span class="token string">"0.3"</span>
hammer <span class="token operator">=</span> <span class="token punctuation">{</span> version <span class="token operator">=</span> <span class="token string">"0.5.0"</span><span class="token punctuation">}</span>
color <span class="token operator">=</span> <span class="token punctuation">{</span> git <span class="token operator">=</span> <span class="token string">"https://github.com/bjz/color-rs"</span> <span class="token punctuation">}</span>
geometry <span class="token operator">=</span> <span class="token punctuation">{</span> path <span class="token operator">=</span> <span class="token string">"crates/geometry"</span> <span class="token punctuation">}</span></pre></div></code-block></details><details id="qGNFE7Nf7rZA6LmKqfHAp8" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">代码简化引入</span></summary><details id="md2kwyJW5nRhqF7BewnCei" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">部分引入</span></summary><code-block id="sFPAczNbXifSTuwYSFagxz" class="wolai-block"><div class="wolai-pre"><div data-lang="Rust" class="marker"></div><pre><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>collections<span class="token punctuation">::</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>collections<span class="token punctuation">::</span></span><span class="token class-name">BTreeMap</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>collections<span class="token punctuation">::</span></span><span class="token class-name">HashSet</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>cmp<span class="token punctuation">::</span></span><span class="token class-name">Ordering</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span></span>io<span class="token punctuation">;</span>

<span class="token comment">//简化为</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>collections<span class="token punctuation">::</span></span><span class="token punctuation">{</span><span class="token class-name">HashMap</span><span class="token punctuation">,</span><span class="token class-name">BTreeMap</span><span class="token punctuation">,</span><span class="token class-name">HashSet</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span></span><span class="token punctuation">{</span><span class="token namespace">cmp<span class="token punctuation">::</span></span><span class="token class-name">Ordering</span><span class="token punctuation">,</span> io<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre></div></code-block></details><details id="2Fh4sFLFzHpd8YBXt5RDo4" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">所有引入</span></summary><code-block id="divQSLtzZFCcb8bsg1yemi" class="wolai-block"><div class="wolai-pre"><div data-lang="Rust" class="marker"></div><pre><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>collections<span class="token punctuation">::</span></span><span class="token operator">*</span><span class="token punctuation">;</span></pre></div></code-block></details></details><div id="jcoaBKyKPFSjhR2by8s4AQ" class="wolai-block wolai-text"><div><span class="inline-wrap"><a href="https://course.rs/basic/crate-module/use.html#受限的可见性"><span>参考受限的可见性</span></a></span></div></div></h1><h1 id="tDWhghAtGM2jPQyYUiRWMr" class="wolai-block"><span class="inline-wrap">结构</span><div id="xyATDxsFAdqd3XfqedpfiB" class="wolai-block wolai-text"><div><span class="inline-wrap">这种目录结构基本上是 Rust 的标准目录结构，一个真实项目中典型的 </span><span class="inline-wrap"><code>Package</code></span><span class="inline-wrap">，会包含多个二进制包，这些包文件被放在 </span><span class="inline-wrap"><code>src/bin</code></span><span class="inline-wrap"> 目录下，每一个文件都是独立的二进制包，同时也会包含一个库包，该包只能存在一个 </span><span class="inline-wrap"><code>src/lib.rs</code></span><span class="inline-wrap">。</span><span class="inline-wrap">在 </span><span class="inline-wrap"><code>GitHub</code></span><span class="inline-wrap"> 的大多数项目上，你都将看到它的身影。</span></div></div><code-block id="qFGxNzEJJmgXk4Sc3fqrZ8" class="wolai-block"><div class="wolai-pre"><div data-lang="Rust" class="marker"></div><pre><span class="token punctuation">.</span>
├── <span class="token class-name">Cargo</span><span class="token punctuation">.</span>toml
├── <span class="token class-name">Cargo</span><span class="token punctuation">.</span>lock
├── src
│   ├── main<span class="token punctuation">.</span>rs
│   ├── lib<span class="token punctuation">.</span>rs
│   └── bin
│       └── main1<span class="token punctuation">.</span>rs
│       └── main2<span class="token punctuation">.</span>rs
├── tests
│   └── some_integration_tests<span class="token punctuation">.</span>rs
├── benches
│   └── simple_bench<span class="token punctuation">.</span>rs
└── examples
    └── simple_example<span class="token punctuation">.</span>rs</pre></div></code-block><details id="wtTa8KUqJPBQj15YoMY5xh" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">项目文件说明</span></summary><div id="449CZ2AvnBmoirDw5s3xLA" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>Cargo.toml</code></span><span class="inline-wrap"> 是 </span><span class="inline-wrap"><code>cargo</code></span><span class="inline-wrap"> 特有的</span><span class="inline-wrap"><b>项目数据描述文件</b></span><span class="inline-wrap">。它存储了项目的所有元配置信息，如果 Rust 开发者希望 Rust 项目能够按照期望的方式进行构建、测试和运行，那么，必须按照合理的方式构建 </span><span class="inline-wrap"><code>Cargo.toml</code></span><span class="inline-wrap">。</span></div></div><div id="bU8p7m4PXa5yxmvMHWCcjj" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>Cargo.lock</code></span><span class="inline-wrap"> 是 </span><span class="inline-wrap"><code>cargo</code></span><span class="inline-wrap"> 工具根据同一项目的 </span><span class="inline-wrap"><code>toml</code></span><span class="inline-wrap"> 文件生成的</span><span class="inline-wrap"><b>项目依赖详细清单</b></span><span class="inline-wrap">，因此我们一般不用修改它，只需要对着 </span><span class="inline-wrap"><code>Cargo.toml</code></span><span class="inline-wrap"> 文件撸就行了。</span></div></div><div id="iSRiG5W6VNNoPHom7ebbVk" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>src/lib.rs</code></span><span class="inline-wrap">：唯一库包</span></div></div><div id="7G5GjNLVix4iHCFnivpFo6" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>src/main.rs</code></span><span class="inline-wrap">：默认二进制包，编译后生成的可执行文件与 </span><span class="inline-wrap"><code>Package</code></span><span class="inline-wrap"> 同名</span></div></div><div id="aVz7dh5TFoQDBLtwnRhLv" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>src/bin/main1.rs</code></span><span class="inline-wrap"> 和 </span><span class="inline-wrap"><code>src/bin/main2.rs</code></span><span class="inline-wrap">，其余二进制包，它们会分别生成一个文件同名的二进制可执行文件</span></div></div><div id="5BAAQQM9JhpVKP9GdmGiWu" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>tests/</code></span><span class="inline-wrap"> ：集成测试文件</span></div></div><div id="gQVcyrMq1knxr8UaCx3qja" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>benches/</code></span><span class="inline-wrap"> ：基准性能测试 </span></div></div><div id="qNGZbj5FcjjSZG5yveBsxS" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>example/</code></span><span class="inline-wrap"> 项目示例</span></div></div></details></h1><h1 id="8kXEUnB5VTtdocke94te8S" class="wolai-block"><span class="inline-wrap">生命周期</span><details id="xyhNupEBs8HviND1GVzQAh" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">创建项目</span></summary><code-block id="jp9HwFaVa8sF9URopPrGhA" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token function">cargo</span> new hello_word</pre></div></code-block></details><details id="psJ9qh9pZoiw6HGGwwxqyk" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">运行项目</span></summary><details id="9ceb6fqX82yMUcbhK7QvpL" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">自动编译与运行</span></summary><code-block id="tUQQd9BZUPtcCdT4CtaLH1" class="wolai-block"><div class="wolai-pre"><div data-lang="Rust" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">$ cargo run
   <span class="token class-name">Compiling</span> world_hello v0<span class="token number">.1</span><span class="token punctuation">.</span><span class="token number">0</span> <span class="token punctuation">(</span><span class="token operator">/</span><span class="token class-name">Users</span><span class="token operator">/</span>sunfei<span class="token operator">/</span>development<span class="token operator">/</span>rust<span class="token operator">/</span>world_hello<span class="token punctuation">)</span>
    <span class="token class-name">Finished</span> dev <span class="token punctuation">[</span>unoptimized <span class="token operator">+</span> debuginfo<span class="token punctuation">]</span> <span class="token function">target</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token number">0</span><span class="token punctuation">.</span>43s
     <span class="token class-name">Running</span> `target<span class="token operator">/</span>debug<span class="token operator">/</span>world_hello`
<span class="token class-name">Hello</span><span class="token punctuation">,</span> <span class="token macro property">world!</span></pre></div></code-block></details><details id="wgJEHtMgBKtp6XCxUiN6xZ" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">手动编译与手动运行</span></summary><div id="6qzTEuSc6oPWUDspMhEw33" class="wolai-block wolai-text"><div><span class="inline-wrap">编译</span></div></div><code-block id="s2Hx75iwNGkxGvpKcgN79J" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">$ <span class="token function">cargo</span> build
    Finished dev <span class="token punctuation">[</span>unoptimized + debuginfo<span class="token punctuation">]</span> target<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token number">0</span>.00s</pre></div></code-block><div id="xyjPmBHsGf3UGBESeF5EHs" class="wolai-block wolai-text"><div><span class="inline-wrap">运行</span></div></div><code-block id="m7w2wZBZi4wxMg6m67RyYD" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">$ ./target/debug/world_hello
Hello, world<span class="token operator">!</span></pre></div></code-block></details></details></h1><div id="bQ6bjYxyb8aXgtVqKpiWY9" class="wolai-block wolai-text"><div></div></div></article><footer></footer></body></html>