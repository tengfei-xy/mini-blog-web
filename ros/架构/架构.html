<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../css/wolai.css"/><title>架构 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body class="full-width small-font less-lead"><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="架构" class="main-title"></div></div></header><article><h2 id="xodX9fjUHDLvwQzQ19zj2g" class="wolai-block"><span class="inline-wrap">框架</span></h2><div id="4SmwUqn246MkMeHXzRj2Av" class="wolai-block wolai-text"><div><span class="inline-wrap">ROS<span class="jill"></span>是机器人分布式框架。分为三个层次，</span><span class="inline-wrap"><b>OS<span class="jill"></span>层</b></span><span class="inline-wrap">、</span><span class="inline-wrap"><b>中间层</b></span><span class="inline-wrap">和</span><span class="inline-wrap"><b>应用层</b></span></div></div><h3 id="bet4vMcXN1hMFUuDa68a1W" class="wolai-block"><span class="inline-wrap">OS<span class="jill"></span>层</span></h3><div id="caCcT9sdi6ZD3BpsPpGQ2H" class="wolai-block wolai-text"><div><span class="inline-wrap">OS<span class="jill"></span>层不是操作系统，需要依托于操作系统。</span></div></div><h3 id="qPJjaFeRCCQ6rD619JxYdc" class="wolai-block"><span class="inline-wrap">中间层</span></h3><div id="n9z8Fh5NWuQJHzvmM7saPm" class="wolai-block wolai-text"><div><span class="inline-wrap">ROS<span class="jill"></span>在中间层做了大量工作，最重要的是基于</span><span class="inline-wrap"><b>TCPROS/UDPROS</b></span><span class="inline-wrap">通信系统。此系统基于<span class="jill"></span>TCP/UDP。通信系统使用</span><span class="inline-wrap"><b>发布/订阅</b></span><span class="inline-wrap">、</span><span class="inline-wrap"><b>客户端/服务器</b></span><span class="inline-wrap">模型。还有对数据传输实时性要求较高的</span><span class="inline-wrap"><b>Nodelet</b></span><span class="inline-wrap">通信方法。提供了大量机器人开发相关的库，数据类型定义，坐标变换、运动控制等，可以给应用层使用。</span></div></div><h3 id="jjc1nzuQaJYPG7NotApFj4" class="wolai-block"><span class="inline-wrap">应用层</span></h3><div id="5rYZebPCefhLGN9VbDowQU" class="wolai-block wolai-text"><div><span class="inline-wrap">Master<span class="jill"></span>负责整个系统运行。应用功能包以节点为单位运行，以<span class="jill"></span>ROS<span class="jill"></span>标准的输入输出作为接口，开发不需要关注模块的内部实现机制。</span></div></div><div id="eQagkyfCzwKnoBMS9wVUiq" class="wolai-block wolai-text"><div><span class="inline-wrap">从系统实现来看可以分为三分层次：文件系统、计算图和开源社区</span></div></div><h2 id="cFQvLLQu2PGK8YSZeJ4TsB" class="wolai-block"><span class="inline-wrap">计算图</span></h2><h3 id="ckLHC3JJirWtAWqLgUvGNt" class="wolai-block"><span class="inline-wrap">节点</span></h3><div id="pbAm4k4v2mqRsqQV3hJeDR" class="wolai-block wolai-text"><div><span class="inline-wrap">节点是执行运算任务的进程，一个系统一般由多个节点组成，成为</span><span class="inline-wrap"><b>软件模块</b></span><span class="inline-wrap">。</span></div></div><h3 id="g64vQDzChLWYVbfzEUomhr" class="wolai-block"><span class="inline-wrap">消息</span></h3><div id="vgzs5UE588wshbdBVPGKm1" class="wolai-block wolai-text"><div><span class="inline-wrap">节点间最重要的消息通信机智是基于发布/订阅通信。每个消息是严格的结构体。</span></div></div><h3 id="nqjd3G2YPy56iKCDBcixFN" class="wolai-block"><span class="inline-wrap">话题</span></h3><div id="oqyZZHJNqPzf1k8GXDTT4W" class="wolai-block wolai-text"><div><span class="inline-wrap">消息以一种</span><span class="inline-wrap"><b>订阅/发布</b></span><span class="inline-wrap">的方式传递。一个节点可以针对一个话题（Topic）发布消息，关注话题订阅特定类型的数据。</span></div></div><h3 id="doYjH3P8pu78EwESnM5SCS" class="wolai-block"><span class="inline-wrap">服务</span></h3><div id="aPwGW2d3auMzHb331qqB3W" class="wolai-block wolai-text"><div><span class="inline-wrap">双向同步模式：服务。通信数据类型分为请求和应答。ROS<span class="jill"></span>只允许一个节点提供服务</span></div></div><h3 id="2QGMaPZnSAikap5WRpot3c" class="wolai-block"><span class="inline-wrap">节点管理器</span></h3><div id="oSC57G1ojQKvFA3WsJn2ss" class="wolai-block wolai-text"><div><span class="inline-wrap">ROS<span class="jill"></span>节点管理器（ROS Master）通过<span class="jill"></span>RPC<span class="jill"></span>远程调用提供登记列表和对其他计算图表的查找功能，帮助<span class="jill"></span>ROS<span class="jill"></span>节点之阿金相互查找、建立连接，同时为系统提供参数</span></div></div><h2 id="ns9F7K5w6S8gsB1y5cpir3" class="wolai-block"><span class="inline-wrap">文件系统</span></h2><div id="1T7DqQ8Dsp9RTBEPbngTva" class="wolai-block wolai-text"><div><span class="inline-wrap">功能包（Package）：功能包<span class="jill"></span>ROS<span class="jill"></span>软件中的基本单元，包含<span class="jill"></span>ROS<span class="jill"></span>节点、库、配置文件</span></div></div><div id="xy2LyvWQQBPv3wnaX5yMQe" class="wolai-block wolai-text"><div><span class="inline-wrap">功能包清单（Package Manifest）每个功能包都有一个<span class="jill"></span>package.xml。用于记录功能包的基本信息，作者信息、许可信息、依赖选项、编译标志。</span></div></div><div id="wtMybhAmUXBisiqJ8ESUGW" class="wolai-block wolai-text"><div><span class="inline-wrap">元功能包（Meta Package）：将功能包集（Stack）的概念升级为元功能包。比如一个<span class="jill"></span>ROS<span class="jill"></span>导航的元功能包中会包含建模、定位、导航等多个功能包</span></div></div><div id="6sQBToWwDRMPrjmNaNNMcz" class="wolai-block wolai-text"><div><span class="inline-wrap">元功能包清单,会包含运行时需要以来的功能包或者一些引用的标签</span></div></div></article><footer></footer></body></html>