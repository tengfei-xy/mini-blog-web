<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/wolai.css"/><title>默认变量 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body class="full-width small-font less-lead"><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="默认变量" class="main-title"></div></div></header><article><div id="1iKS947t9s98zpv8GZ9FgK" class="wolai-block wolai-simple-table"><table><thead><tr><th style="width: 370px"><span class="inline-wrap">变量名</span></th><th style="width: 370px"><span class="inline-wrap">定义</span></th></tr></thead><tbody><tr><td><span class="inline-wrap">$arg_PARAMETER</span></td><td><span class="inline-wrap">GET<span class="jill"></span>请求中变量名<span class="jill"></span>PARAMETER<span class="jill"></span>参数的值。</span></td></tr><tr><td><span class="inline-wrap">$args</span></td><td><span class="inline-wrap">这个变量等于<span class="jill"></span>GET<span class="jill"></span>请求中的参数。例如，foo=123&amp;bar=blahblah;这个变量只可以被修改</span></td></tr><tr><td><span class="inline-wrap">$binary_remote_addr</span></td><td><span class="inline-wrap">二进制码形式的客户端地址。</span></td></tr><tr><td><span class="inline-wrap">$body_bytes_sent</span></td><td><span class="inline-wrap">传送页面的字节数</span></td></tr><tr><td><span class="inline-wrap">$content_length</span></td><td><span class="inline-wrap">请求头中的<span class="jill"></span>Content-length<span class="jill"></span>字段。</span></td></tr><tr><td><span class="inline-wrap">$content_type</span></td><td><span class="inline-wrap">请求头中的<span class="jill"></span>Content-Type<span class="jill"></span>字段。</span></td></tr><tr><td><span class="inline-wrap">$cookie_COOKIE</span></td><td><span class="inline-wrap">cookie COOKIE<span class="jill"></span>的值。</span></td></tr><tr><td><span class="inline-wrap">$document_root</span></td><td><span class="inline-wrap">当前请求在<span class="jill"></span>root<span class="jill"></span>指令中指定的值。</span></td></tr><tr><td><span class="inline-wrap">$document_uri</span></td><td><span class="inline-wrap">与<span class="jill"></span>$uri<span class="jill"></span>相同。</span></td></tr><tr><td><span class="inline-wrap">$host</span></td><td><span class="inline-wrap">请求中的主机头(Host)字段，如果请求中的主机头不可用或者空，则为处理请求的<span class="jill"></span>server<span class="jill"></span>名称(处理请求的<span class="jill"></span>server<span class="jill"></span>的<span class="jill"></span>server_name<span class="jill"></span>指令的值)。值为小写，不包含端口。</span></td></tr><tr><td><span class="inline-wrap">$hostname</span></td><td><span class="inline-wrap">机器名使用 gethostname<span class="jill"></span>系统调用的值</span></td></tr><tr><td><span class="inline-wrap">$http_HEADER</span></td><td><span class="inline-wrap">HTTP<span class="jill"></span>请求头中的内容，HEADER<span class="jill"></span>为<span class="jill"></span>HTTP<span class="jill"></span>请求中的内容转为小写，-变为 _(破折号变为下划线)，例如：$http_user_agent(Uaer-Agent<span class="jill"></span>的值);</span><span class="inline-wrap">HTTP<span class="jill"></span>请求头中的内容，HEADER<span class="jill"></span>为<span class="jill"></span>HTTP<span class="jill"></span>请求中的内容转为小写，-变为 _(破折号变为下划线)，例如：$http_user_agent(Uaer-Agent<span class="jill"></span>的值);</span></td></tr><tr><td><span class="inline-wrap">$sent_http_HEADER</span></td><td><span class="inline-wrap">HTTP<span class="jill"></span>响应头中的内容，HEADER<span class="jill"></span>为<span class="jill"></span>HTTP<span class="jill"></span>响应中的内容转为小写，-变为 _(破折号变为下划线)，例如：</span><span class="inline-wrap">HTTP<span class="jill"></span>响应头中的内容，HEADER<span class="jill"></span>为<span class="jill"></span>HTTP<span class="jill"></span>响应中的内容转为小写，-变为 _(破折号变为下划线)，例如：</span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>e</mi><mi>n</mi><msub><mi>t</mi><mi>h</mi></msub><mi>t</mi><mi>t</mi><msub><mi>p</mi><mi>c</mi></msub><mi>a</mi><mi>c</mi><mi>h</mi><msub><mi>e</mi><mi>c</mi></msub><mi>o</mi><mi>n</mi><mi>t</mi><mi>r</mi><mi>o</mi><mi>l</mi><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">sent_http_cache_control, </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">se</span><span class="mord mathnormal">n</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">tt</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal">h</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ro</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span></span></span></span></span><span class="inline-wrap">sent_http_content_type…;</span></td></tr><tr><td><span class="inline-wrap">$is_args</span></td><td><span class="inline-wrap">如果<span class="jill"></span>$args<span class="jill"></span>设置，值为&quot;?&quot;，否则为&quot;&quot;。</span></td></tr><tr><td><span class="inline-wrap">$limit_rate</span></td><td><span class="inline-wrap">这个变量可以限制连接速率。</span></td></tr><tr><td><span class="inline-wrap">$nginx_version</span></td><td><span class="inline-wrap">当前运行的<span class="jill"></span>nginx<span class="jill"></span>版本号。</span></td></tr><tr><td><span class="inline-wrap">$query_string</span></td><td><span class="inline-wrap">与<span class="jill"></span>$args<span class="jill"></span>相同。</span></td></tr><tr><td><span class="inline-wrap">$remote_addr</span></td><td><span class="inline-wrap">客户端的<span class="jill"></span>IP<span class="jill"></span>地址。</span></td></tr><tr><td><span class="inline-wrap">$remote_port</span></td><td><span class="inline-wrap">客户端的端口。</span></td></tr><tr><td><span class="inline-wrap">$remote_user</span></td><td><span class="inline-wrap">已经经过<span class="jill"></span>Auth Basic Module<span class="jill"></span>验证的用户名。</span></td></tr><tr><td><span class="inline-wrap">$request_filename</span></td><td><span class="inline-wrap">当前连接请求的文件路径，由<span class="jill"></span>root<span class="jill"></span>或<span class="jill"></span>alias<span class="jill"></span>指令与<span class="jill"></span>URI<span class="jill"></span>请求生成。</span></td></tr><tr><td><span class="inline-wrap">$request_body</span></td><td><span class="inline-wrap">这个变量（0.7.58+）包含请求的主要信息。在使用<span class="jill"></span>proxy_pass<span class="jill"></span>或<span class="jill"></span>fastcgi_pass<span class="jill"></span>指令的<span class="jill"></span>location<span class="jill"></span>中比较有意义。</span></td></tr><tr><td><span class="inline-wrap">$request_body_file</span></td><td><span class="inline-wrap">客户端请求主体信息的临时文件名。</span></td></tr><tr><td><span class="inline-wrap">$request_completion</span></td><td><span class="inline-wrap">如果请求成功，设为&quot;OK&quot;；如果请求未完成或者不是一系列请求中最后一部分则设为空。</span></td></tr><tr><td><span class="inline-wrap">$request_method</span></td><td><span class="inline-wrap">这个变量是客户端请求的动作，通常为<span class="jill"></span>GET<span class="jill"></span>或<span class="jill"></span>POST。包括<span class="jill"></span>0.8.20<span class="jill"></span>及之前的版本中，这个变量总为<span class="jill"></span>main request<span class="jill"></span>中的动作，如果当前请求是一个子请求，并不使用这个当前请求的动作。</span></td></tr><tr><td><span class="inline-wrap">$request_uri</span></td><td><span class="inline-wrap">这个变量等于包含一些客户端请求参数的原始<span class="jill"></span>URI，它无法修改，请查看<span class="jill"></span>$uri<span class="jill"></span>更改或重写<span class="jill"></span>URI。</span></td></tr><tr><td><span class="inline-wrap">$scheme</span></td><td><span class="inline-wrap">所用的协议，比如<span class="jill"></span>http<span class="jill"></span>或者是<span class="jill"></span>https，比如<span class="jill"></span>rewrite ^(.+)</span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow></mrow><annotation encoding="application/x-tex"> </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"></span></span></span><span class="inline-wrap">scheme://example.com$1 redirect;</span></td></tr><tr><td><span class="inline-wrap">$server_addr</span></td><td><span class="inline-wrap">服务器地址，在完成一次系统调用后可以确定这个值，如果要绕开系统调用，则必须在<span class="jill"></span>listen<span class="jill"></span>中指定地址并且使用<span class="jill"></span>bind<span class="jill"></span>参数。</span></td></tr><tr><td><span class="inline-wrap">$server_name</span></td><td><span class="inline-wrap">服务器名称。</span></td></tr><tr><td><span class="inline-wrap">$server_port</span></td><td><span class="inline-wrap">请求到达服务器的端口号。</span></td></tr><tr><td><span class="inline-wrap">$server_protocol</span></td><td><span class="inline-wrap">请求使用的协议，通常是<span class="jill"></span>HTTP/1.0<span class="jill"></span>或<span class="jill"></span>HTTP/1.1。</span></td></tr><tr><td><span class="inline-wrap">$uri</span></td><td><span class="inline-wrap">请求中的当前<span class="jill"></span>URI(不带请求参数，参数位于<span class="jill"></span>a r g s ) ， 不 同 于 浏 览 器 传 递 的 args)，不同于浏览器传递的</span><span class="inline-wrap"><i></i></span><span class="inline-wrap"><i>a</i></span><span class="inline-wrap"><i><b></b></i></span><span class="inline-wrap"><i><b>r</b></i></span><span class="inline-wrap"><i>g**s</i></span><span class="inline-wrap">)，不同于浏览器传递的<span class="jill"></span>request_uri<span class="jill"></span>的值，它可以通过内部重定向，或者使用<span class="jill"></span>index<span class="jill"></span>指令进行修改。不包括协议和主机名，例如/foo/bar.html</span></td></tr></tbody></table></div></article><footer></footer></body></html>