<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../css/wolai.css"/><title>ç»„ä»¶æ•°æ® - wolai ç¬”è®°</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body class="full-width small-font"><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="ç»„ä»¶æ•°æ®" class="main-title"></div></div></header><article><details id="aK9rxmKMi1U4nFLzM4M4Sj" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">æ•°æ®è®¡ç®—</span></summary><div id="vhZJ494T5GtzcDHpxatJYP" class="wolai-block wolai-text"><div><span class="blue inline-wrap">å®šä¹‰</span><span class="inline-wrap">ï¼šè®¡ç®—å±æ€§æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„å±æ€§</span></div></div><div id="b7vE645wzcjTtn8eDQQNJn" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ä½œç”¨</span><span class="inline-wrap">ï¼šè®¡ç®—å±æ€§å¯ä»¥æ ¹æ®å±æ€§çš„å“åº”å¼å˜åŒ–è€ŒåŠ¨æ€è®¡ç®—å…¶å€¼</span></div></div><div id="9PmFxgF7QsixuWWK5oCnYo" class="wolai-block wolai-text"><div><span class="blue inline-wrap">èŒè´£</span><span class="inline-wrap">ï¼šä»…ä¸ºè®¡ç®—å’Œè¿”å›è¯¥å€¼</span></div></div><div id="e3gcZZtTnJwNTJbHKKjh5g" class="wolai-block wolai-text"><div><span class="blue inline-wrap">é»˜è®¤</span><span class="inline-wrap">ï¼šè®¡ç®—å±æ€§åªå…·æœ‰<span class="jill"></span>getter<span class="jill"></span>å‡½æ•°</span></div></div><details id="acg9MCCppsNqejQqAYfXAv" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ä¼˜åŠ¿</span></summary><ul class="wolai-block"><li id="gsaZw4JP6Z8wzyTGiME6a9"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">å¯ä»¥å°†å¤æ‚çš„è®¡ç®—é€»è¾‘å°è£…æˆä¸€ä¸ªå±æ€§ï¼Œä½¿ä»£ç æ›´åŠ ç®€æ´æ˜“è¯»ã€‚</span></li><li id="gHEEkHAipPocJdFS3Pxh2d"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">å¯ä»¥æé«˜æ€§èƒ½ï¼Œå› ä¸ºè®¡ç®—å±æ€§åªä¼šåœ¨å…¶ä¾èµ–çš„å±æ€§å‘ç”Ÿå˜åŒ–æ—¶é‡æ–°è®¡ç®—ã€‚</span></li><li id="5zfQLn1GWTE2xhb1EMHKrN"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">å¯ä»¥æ–¹ä¾¿åœ°åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ï¼Œå°±åƒä½¿ç”¨æ™®é€šå±æ€§ä¸€æ ·ã€‚</span></li></ul></details><details id="cWy4PUb3TATkcVJD1v4GXF" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">æœ€ä½³å®è·µ</span></summary><details id="ouhUYhp4YrjbkP6HMae2mE" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">Getter<span class="jill"></span>ä¸åº”å…·æœ‰å‰¯ä½œç”¨</span></summary><aside id="dZMJ4wAd1BW9GD9ZJ4uAop" class="bg-cultured wolai-block"><div data-symbol="ğŸ“Œ" class="icon"></div><span class="inline-wrap">1. ä¸è¦æ”¹å˜å…¶ä»–çŠ¶æ€
2. åœ¨ getter ä¸­åšå¼‚æ­¥è¯·æ±‚æˆ–è€…æ›´æ”¹ DOMï¼</span></aside></details><details id="hwELZ3s3y6J9h2R5f6TL8k" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">é¿å…ç›´æ¥ä¿®æ”¹è®¡ç®—å±æ€§å€¼</span></summary><ol class="wolai-block"><li id="4eCKPDzSPLKkfY7oTkHmHB"><div class="marker"></div><span class="inline-wrap">è®¡ç®—å±æ€§è¿”å›çš„å€¼æ˜¯æ´¾ç”ŸçŠ¶æ€ï¼Œå¯ä»¥åªè¯»ä¸”ä¸ä¸»åŠ¨æ›´æ”¹</span></li><li id="2VBtKG7dw6JNCY1WtpWnDT"><div class="marker"></div><span class="inline-wrap">æ¯æ¬¡æºçŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œéƒ½ä¼šè·å–æ–°çŠ¶æ€</span></li></ol></details></details><details id="uCuthBEf8P8EocYSaDte22" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ç¤ºä¾‹</span></summary><details id="jAQQg2EhCStRP3WZppQoRV" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">é€‰é¡¹å¼<span class="jill"></span>API</span></summary><details id="cjyG2XnELQYhyiVZB6wVEg" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ä¸€èˆ¬ç¤ºä¾‹</span></summary><div id="f3KE6LqnDBPgZWgBjoC9PW" class="wolai-block wolai-text"><div><span class="inline-wrap">ä»£ç å®šä¹‰äº†ä¸€ä¸ªè®¡ç®—å±æ€§ </span><span class="inline-wrap"><code>fullName</code></span><span class="inline-wrap">ï¼Œå®ƒå°† </span><span class="inline-wrap"><code>firstName</code></span><span class="inline-wrap"> å’Œ </span><span class="inline-wrap"><code>lastName</code></span><span class="inline-wrap"> å±æ€§è¿æ¥åœ¨ä¸€èµ·</span></div></div><code-block id="a1E5UtWSnNgYoa7L2QTdK9" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">lastName</span><span class="token operator">:</span> <span class="token string">'Doe'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">fullName</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">firstName</span> <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">lastName</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></div></code-block></details><details id="iMkFhGUMr1q9aBFvDWZkTh" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å…·æœ‰<span class="jill"></span>get<span class="jill"></span>å‡½æ•°å’Œ<span class="jill"></span>set<span class="jill"></span>å‡½æ•°çš„ç¤ºä¾‹</span></summary><div id="emnaWSf1cRN1LscNcRSCby" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯´æ˜</span><span class="inline-wrap">ï¼šç°åœ¨å½“ä½ å†è¿è¡Œ </span><span class="inline-wrap"><code>this.fullName = &#39;John Doe&#39;</code></span><span class="inline-wrap"> æ—¶ï¼Œsetter ä¼šè¢«è°ƒç”¨è€Œ </span><span class="inline-wrap"><code>this.firstName</code></span><span class="inline-wrap"> å’Œ </span><span class="inline-wrap"><code>this.lastName</code></span><span class="inline-wrap"> ä¼šéšä¹‹æ›´æ–°ã€‚</span></div></div><code-block id="piL5oUQXB7APD6bLfDRbpv" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">lastName</span><span class="token operator">:</span> <span class="token string">'Doe'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">fullName</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// getter</span>
      <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">firstName</span> <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">lastName</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// setter</span>
      <span class="token function">set</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ³¨æ„ï¼šæˆ‘ä»¬è¿™é‡Œä½¿ç”¨çš„æ˜¯è§£æ„èµ‹å€¼è¯­æ³•</span>
        <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">firstName</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">lastName</span><span class="token punctuation">]</span> <span class="token operator">=</span> newValue<span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></div></code-block></details></details><details id="gTQ8t8sxMmV8PXMPD8K8QH" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ç»„åˆå¼<span class="jill"></span>API / ts</span></summary><details id="3SpzgQe84it1ozs9qpqpKW" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ä¸€èˆ¬ç¤ºä¾‹</span></summary><code-block id="juoWE77M6akTPqXU2teJUM" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// åœ¨ Vue 3 çš„å†™æ³•ï¼š</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å®šä¹‰åŸºæœ¬çš„æ•°æ®</span>
    <span class="token keyword">const</span> firstName <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token string">'Bill'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> lastName <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token string">'Gates'</span><span class="token punctuation">)</span>

    <span class="token comment">// å®šä¹‰éœ€è¦è®¡ç®—æ‹¼æ¥ç»“æœçš„æ•°æ®</span>
    <span class="token keyword">const</span> fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lastName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>

    <span class="token comment">// 2s åæ”¹å˜æŸä¸ªæ•°æ®çš„å€¼</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      firstName<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'Petter'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>

    <span class="token comment">// template é‚£è¾¹åœ¨ 2s åä¹Ÿä¼šæ˜¾ç¤ºä¸º Petter Gates</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      fullName<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></div></code-block></details><details id="pNytnS8kHEcsGELPub9Utj" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å…·æœ‰<span class="jill"></span>get<span class="jill"></span>å‡½æ•°å’Œ<span class="jill"></span>set<span class="jill"></span>å‡½æ•°çš„ç¤ºä¾‹</span></summary><code-block id="nxdfHEmBvWX7MQgYnLbEYt" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// è¿˜æ˜¯è¿™2ä¸ªæ•°æ®æº</span>
<span class="token keyword">const</span> firstName <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token string">'Bill'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> lastName <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token string">'Gates'</span><span class="token punctuation">)</span>

<span class="token comment">// è¿™é‡Œé…åˆsetterçš„éœ€è¦ï¼Œæ”¹æˆäº†å¦å¤–ä¸€ç§å†™æ³•</span>
<span class="token keyword">const</span> fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// getterè¿˜æ˜¯è¿”å›ä¸€ä¸ªæ‹¼æ¥èµ·æ¥çš„å…¨å</span>
  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lastName<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// setterè¿™é‡Œæ”¹æˆåªæ›´æ–°firstNameï¼Œæ³¨æ„å‚æ•°ä¹Ÿå®šä¹‰TSç±»å‹</span>
  <span class="token function">set</span><span class="token punctuation">(</span>newFirstName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    firstName<span class="token punctuation">.</span>value <span class="token operator">=</span> newFirstName
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fullName<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// è¾“å‡º Bill Gates</span>

<span class="token comment">// 2såæ›´æ–°ä¸€ä¸‹æ•°æ®</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// å¯¹fullNameçš„èµ‹å€¼ï¼Œå…¶å®æ›´æ–°çš„æ˜¯firstName</span>
  fullName<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'Petter'</span>

  <span class="token comment">// æ­¤æ—¶firstNameå·²ç»å¾—åˆ°äº†æ›´æ–°</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstName<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// ä¼šè¾“å‡º Petter</span>

  <span class="token comment">// å½“ç„¶ï¼Œç”±äºfirstNameå˜åŒ–äº†ï¼Œæ‰€ä»¥fullNameçš„getterä¹Ÿä¼šå¾—åˆ°æ›´æ–°</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fullName<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// ä¼šè¾“å‡º Petter Gates</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span></pre></div></code-block></details></details></details></details><details id="PwsggzACSFtahNEK1gUFc" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ä¾¦å¬æ•°æ®</span></summary><details id="9vRDv1YpojwmZdrNKkaKxg" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#watch"><span><code>watch</code></span></a></span><span class="inline-wrap"> / ç»„åˆå¼<span class="jill"></span>API</span></summary><div id="tkVZGaSWke7QdQHnTsA7zS" class="wolai-block wolai-text"><div><span class="blue inline-wrap">æ€§è´¨</span><span class="inline-wrap">ï¼šæƒ°æ€§</span></div></div><div id="81Q6TXvQkz9z5sNGAUmAX8" class="wolai-block wolai-text"><div><span class="blue inline-wrap">æ€§è´¨æè¿°</span><span class="inline-wrap">ï¼šåªæœ‰å½“è¢«ä¾¦å¬çš„æ•°æ®æºå‘ç”Ÿå˜åŒ–æ—¶æ‰æ‰§è¡Œå›è°ƒã€‚</span></div></div><div class="block-ref"><div class="decorator"></div><details id="juuX1knD56fdM3i4bfN99L" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><code>watchEffect</code></span><span class="inline-wrap">å’Œ</span><span class="inline-wrap"><code>watch</code></span><span class="inline-wrap">çš„åŒºåˆ«</span></summary><div id="tB7gPgibZPo6bz8sKQTbZc" class="wolai-block wolai-text"><div><span class="inline-wrap"> </span><span class="inline-wrap"><code>watchEffect</code></span><span class="inline-wrap"> æ˜¯ </span><span class="inline-wrap"><code>watch</code></span><span class="inline-wrap"> çš„ä¸€ä¸ªç®€åŒ–æ“ä½œï¼Œå¯ä»¥ç”¨æ¥ä»£æ›¿ </span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#æ‰¹é‡ä¾¦å¬"><span>æ‰¹é‡ä¾¦å¬</span></a></span><span class="inline-wrap"> </span></div></div><div id="6PrUruJGUXNQVdRSzDxzZX" class="wolai-block wolai-text"><div><span class="inline-wrap">åŒºåˆ«ï¼š</span></div></div><ol class="wolai-block"><li id="x4uguoMRChzg2mCULNXdYo"><div class="marker"></div><span class="inline-wrap"><code>watch</code></span><span class="inline-wrap"> å¯ä»¥è®¿é—®ä¾¦å¬çŠ¶æ€å˜åŒ–å‰åçš„å€¼ï¼Œè€Œ </span><span class="inline-wrap"><code>watchEffect</code></span><span class="inline-wrap"> æ²¡æœ‰ã€‚</span></li><li id="3bCChA4WYu4fnVU3bdeobP"><div class="marker"></div><span class="inline-wrap"><code>watch</code></span><span class="inline-wrap"> æ˜¯åœ¨å±æ€§æ”¹å˜çš„æ—¶å€™æ‰æ‰§è¡Œï¼Œè€Œ </span><span class="inline-wrap"><code>watchEffect</code></span><span class="inline-wrap"> åˆ™é¦–å…ˆé»˜è®¤ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œç„¶ååœ¨å±æ€§æ”¹å˜çš„æ—¶å€™ä¹Ÿä¼šæ‰§è¡Œã€‚</span></li><li id="mQoJHhZvrPXzUMrdWG5Zve"><div class="marker"></div><span class="inline-wrap">Â·</span><span class="inline-wrap"><code>watchEffect</code></span><span class="inline-wrap">ä¸æ”¯æŒ</span><span class="inline-wrap"><code>deep</code></span><span class="inline-wrap">å’Œ</span><span class="inline-wrap"><code>immediate</code></span></li></ol></details></div><details id="dpvBDrxE3zqSo4SF9QtRvg" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ts</span></summary><details id="rTacvuvRQK3xScX3iWePjg" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#åŸºç¡€ç”¨æ³•"><span>åŸºæœ¬ç”¨æ³•</span></a></span></summary><details id="xt3MXqLcjxJxnydaRUjapg" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">è¯­æ³•</span></summary><details id="vi98i5gNyfubuEKkCztDsK" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">åŸå‹</span></summary><code-block id="7Q5jd3TTRdguDytVd1yXgT" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">watch</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Immediate <span class="token keyword">extends</span> Readonly<span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>
  source<span class="token operator">:</span> WatchSource<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">,</span>
  cb<span class="token operator">:</span> WatchCallback<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Immediate <span class="token keyword">extends</span> <span class="token class-name"><span class="token boolean">true</span></span> <span class="token operator">?</span> <span class="token constant">T</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> <span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> WatchOptions<span class="token operator">&lt;</span>Immediate<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token operator">:</span> WatchStopHandle
<span class="token comment">// ...</span></pre></div></code-block></details><details id="umvGA1tYrqQzNn4JY5PAY2" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">è¾“å…¥å‚æ•°</span></summary><details id="dRXTy1ZeMi5ks2C4v2gcH9" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">source</span></summary><aside id="3RRVmYhqkpzUP8SXY5SVsG" class="bg-cultured wolai-block"><div data-symbol="ğŸ“Œ" class="icon"></div><span class="inline-wrap">å¯¹äºèƒ½å¤Ÿç”¨äºä¾¦å¬çš„æ•°æ®ï¼Œæ˜¯é€šè¿‡ </span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#å“åº”å¼æ•°æ®çš„å˜åŒ–-new"><span>å“åº”å¼ API</span></a></span><span class="inline-wrap"> å®šä¹‰çš„å˜é‡ï¼ˆ </span><span class="inline-wrap"><code>Ref&lt;T&gt;</code></span><span class="inline-wrap"> ï¼‰ï¼Œ
æˆ–è€…æ˜¯ä¸€ä¸ª </span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#æ•°æ®çš„è®¡ç®—-new"><span>è®¡ç®—æ•°æ®</span></a></span><span class="inline-wrap"> ï¼ˆ </span><span class="inline-wrap"><code>ComputedRef&lt;T&gt;</code></span><span class="inline-wrap"> ï¼‰ï¼Œ
æˆ–è€…æ˜¯ä¸€ä¸ª </span><span class="inline-wrap"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/get"><span>getter å‡½æ•°</span></a></span><span class="inline-wrap"> ï¼ˆ </span><span class="inline-wrap"><code>() =&gt; T</code></span><span class="inline-wrap"> ï¼‰ã€‚</span></aside><div id="8V5L5Mrq5XghzMY6avnder" class="wolai-block wolai-text"><div><span class="blue inline-wrap">æ˜¯å¦å¯é€‰</span><span class="inline-wrap">ï¼šå¿…ä¼ </span></div></div><div id="wV1zUyndVBsR6QFHEFgQ6v" class="wolai-block wolai-text"><div><span class="blue inline-wrap">å«ä¹‰</span><span class="inline-wrap">ï¼šæ•°æ®æºï¼ˆè¯¦è§ï¼š</span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#è¦ä¾¦å¬çš„æ•°æ®æº"><span>è¦ä¾¦å¬çš„æ•°æ®æº</span></a></span><span class="inline-wrap">ï¼‰</span></div></div><div id="nLgyMYsVCuW556mB7KkEwW" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯­æ³•</span><span class="inline-wrap">ï¼š</span></div></div><code-block id="4E7bgfSYssaySvLFV8nVqe" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">type</span> <span class="token class-name">WatchSource<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">any</span><span class="token operator">></span></span> <span class="token operator">=</span> Ref<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">|</span> ComputedRef<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span><span class="token punctuation">)</span></pre></div></code-block></details><details id="6Ja8LmiPVVJNX65W4iyM9T" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">callback</span></summary><div id="3rYvFD1UKH341wp9CCWpYv" class="wolai-block wolai-text"><div><span class="blue inline-wrap">æ˜¯å¦å¯é€‰</span><span class="inline-wrap">ï¼šå¿…ä¼ </span></div></div><div id="fc25s9UEVXDoS1UBmU8aUm" class="wolai-block wolai-text"><div><span class="blue inline-wrap">å«ä¹‰</span><span class="inline-wrap">ï¼šä¾¦å¬åˆ°å˜åŒ–åè¦æ‰§è¡Œçš„å›è°ƒå‡½æ•°ï¼ˆè¯¦è§ï¼š</span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#ä¾¦å¬åçš„å›è°ƒå‡½æ•°"><span>ä¾¦å¬åçš„å›è°ƒå‡½æ•°</span></a></span><span class="inline-wrap">ï¼‰</span></div></div><div id="86suEQzDCGf5QNAJeRtwoR" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯­æ³•</span><span class="inline-wrap">ï¼š</span></div></div><code-block id="xkvaNJ1cynf6XkRzzmVLuk" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">type</span> <span class="token class-name">WatchCallback<span class="token operator">&lt;</span><span class="token constant">V</span> <span class="token operator">=</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token constant">OV</span> <span class="token operator">=</span> <span class="token builtin">any</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  value<span class="token operator">:</span> <span class="token constant">V</span><span class="token punctuation">,</span>
  oldValue<span class="token operator">:</span> <span class="token constant">OV</span><span class="token punctuation">,</span>
  onCleanup<span class="token operator">:</span> OnCleanup
<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">any</span></pre></div></code-block><details id="jqfj6qhTgWtCJf3zCCnFeu" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å‚æ•°è¯´æ˜</span></summary><div id="keGevxC9XvRw7PUcS6HgTD" class="wolai-block wolai-simple-table"><table><thead><tr><th style="width: 100px"><span class="inline-wrap">å‚æ•°</span></th><th style="width: 357px"><span class="inline-wrap">ä½œç”¨</span></th></tr></thead><tbody><tr><td><span class="inline-wrap">value</span></td><td><span class="inline-wrap">å˜åŒ–åçš„æ–°å€¼ï¼Œç±»å‹å’Œæ•°æ®æºä¿æŒä¸€è‡´</span></td></tr><tr><td><span class="inline-wrap">oldValue</span></td><td><span class="inline-wrap">å˜åŒ–å‰çš„æ—§å€¼ï¼Œç±»å‹å’Œæ•°æ®æºä¿æŒä¸€è‡´</span></td></tr><tr><td><span class="inline-wrap">onCleanup</span></td><td><span class="inline-wrap">æ³¨å†Œä¸€ä¸ªæ¸…ç†å‡½æ•°ï¼Œè¯¦è§ </span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#ä¾¦å¬æ•ˆæœæ¸…ç†"><span>ä¾¦å¬æ•ˆæœæ¸…ç†</span></a></span><span class="inline-wrap"> éƒ¨åˆ†</span></td></tr></tbody></table></div></details><details id="co5SyvyZtrNJ6kAGqT9F2W" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><code>option</code></span></summary><details id="4HWyoLoCdN8qiAy6M4Aakq" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">è¯­æ³•</span></summary><code-block id="sjsUMcstyLvzs4FZNQR2Hn" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">declare</span> <span class="token keyword">type</span> <span class="token class-name">OnCleanup</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token function-variable function">cleanupFn</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span></pre></div></code-block></details><details id="24n3TtbpLn8ndaJPmdhtKS" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ç¤ºä¾‹</span></summary><code-block id="mgqtSt5tndFXFgdsssU2z6" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">let</span> unwatch<span class="token operator">:</span> WatchStopHandle
unwatch <span class="token operator">=</span> <span class="token function">watch</span><span class="token punctuation">(</span>
  message<span class="token punctuation">,</span>
  <span class="token punctuation">(</span>newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">,</span> onCleanup<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// éœ€è¦åœ¨åœæ­¢ä¾¦å¬ä¹‹å‰æ³¨å†Œå¥½æ¸…ç†è¡Œä¸º</span>
    <span class="token function">onCleanup</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ä¾¦å¬æ¸…ç†ing'</span><span class="token punctuation">)</span>
      <span class="token comment">// æ ¹æ®å®é™…çš„ä¸šåŠ¡æƒ…å†µå®šä¹‰ä¸€äº›æ¸…ç†æ“ä½œ ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// ç„¶åå†åœæ­¢ä¾¦å¬</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> unwatch <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">unwatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    immediate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span></pre></div></code-block></details></details></details><details id="dacTjzsM394jg4388ZwTRn" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">option</span></summary><div id="tvALu4kZjz51QLcwY471Xg" class="wolai-block wolai-text"><div><span class="blue inline-wrap">æ˜¯å¦å¯é€‰</span><span class="inline-wrap">ï¼šå¯é€‰</span></div></div><div id="ti5wKbpJVtHRskUmirDStn" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ä½œç”¨</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#ä¾¦å¬çš„é€‰é¡¹"><span>ä¾¦å¬é€‰é¡¹</span></a></span></div></div><div id="6wBJ3XR5q5kCJU8zQ2iCPe" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯´æ˜</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap"><code>options</code></span><span class="inline-wrap"> æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å½¢å¼ä¼ å…¥</span></div></div><details id="8PiTshmp2tiskrcxW1igRK" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">è¯­æ³•</span></summary><code-block id="mvxtLf6mRkidr2ghXgh6or" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">interface</span> <span class="token class-name">WatchOptions<span class="token operator">&lt;</span>Immediate <span class="token operator">=</span> <span class="token builtin">boolean</span><span class="token operator">></span></span>
  <span class="token keyword">extends</span> <span class="token class-name">WatchOptionsBase</span> <span class="token punctuation">{</span>
  immediate<span class="token operator">?</span><span class="token operator">:</span> Immediate
  deep<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span>

<span class="token comment">// ç»§æ‰¿çš„ base ç±»å‹</span>
<span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">interface</span> <span class="token class-name">WatchOptionsBase</span> <span class="token keyword">extends</span> <span class="token class-name">DebuggerOptions</span> <span class="token punctuation">{</span>
  flush<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">'pre'</span> <span class="token operator">|</span> <span class="token string">'post'</span> <span class="token operator">|</span> <span class="token string">'sync'</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span>

<span class="token comment">// ç»§æ‰¿çš„ debugger é€‰é¡¹ç±»å‹</span>
<span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">interface</span> <span class="token class-name">DebuggerOptions</span> <span class="token punctuation">{</span>
  onTrack<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> DebuggerEvent<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>
  onTrigger<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> DebuggerEvent<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>
<span class="token punctuation">}</span></pre></div></code-block></details><details id="ajQ2a9cXkLvxpczRWFtPAE" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å‚æ•°</span></summary><details id="hsEGZZr1KGm5Cfc9TkMcGX" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#ä¾¦å¬é€‰é¡¹ä¹‹-deep"><span><code>deep</code></span></a></span></summary><aside id="ixNGSaJqXb1mCxWAtJnZpi" class="bg-cultured wolai-block"><div data-symbol="ğŸ“Œ" class="icon"></div><span class="inline-wrap">è®¾ç½®ä¸º </span><span class="inline-wrap"><code>false</code></span><span class="inline-wrap"> çš„æƒ…å†µä¸‹ï¼Œå¦‚æœç›´æ¥ä¾¦å¬ä¸€ä¸ªå“åº”å¼çš„ </span><span class="inline-wrap"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures#å¯¹è±¡"><span>å¼•ç”¨ç±»å‹</span></a></span><span class="inline-wrap"> æ•°æ®ï¼ˆe.g. </span><span class="inline-wrap"><code>Object</code></span><span class="inline-wrap">ã€ </span><span class="inline-wrap"><code>Array</code></span><span class="inline-wrap"> â€¦ ï¼‰,ä¸ä¼šè§¦å‘è§¦å‘ watch çš„ callback ã€‚</span></aside><div id="rxfToy9d8C6gDwMbQJTqWU" class="wolai-block wolai-text"><div><span class="blue inline-wrap">å¯é€‰å¿…é€‰</span><span class="inline-wrap">ï¼šå¯é€‰</span></div></div><div id="8C9N29GbnNFb3zR9A7xTaD" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ç±»å‹</span><span class="inline-wrap">ï¼šboolean</span></div></div><div id="71amYCfYCnQUxGcG4H8z2u" class="wolai-block wolai-text"><div><span class="blue inline-wrap">é»˜è®¤</span><span class="blue inline-wrap">å‚æ•°</span><span class="inline-wrap">ï¼šfalse</span></div></div><div id="75oqtDAXKHuJEerAEUSyZg" class="wolai-block wolai-text"><div><span class="blue inline-wrap">å¯é€‰</span><span class="blue inline-wrap">å‚æ•°</span><span class="inline-wrap">ï¼štrueã€false</span></div></div><div id="fj2nA2tNAyK3ShQ79jkJJP" class="wolai-block wolai-text"><div><span class="blue inline-wrap">å¯é€‰å‚æ•°è¯´æ˜</span><span class="inline-wrap">ï¼šè®¾ç½®ä¸º </span><span class="inline-wrap"><code>true</code></span><span class="inline-wrap"> å¼€å¯æ·±åº¦ä¾¦å¬ï¼Œæˆ–è€…æ˜¯ </span><span class="inline-wrap"><code>false</code></span><span class="inline-wrap"> å…³é—­æ·±åº¦ä¾¦å¬ï¼Œ</span></div></div><div id="6GB5KrRAAtYVU3i7ApdxXY" class="wolai-block wolai-text"><div><span class="blue inline-wrap">æ·±åº¦ä¾¦å¬</span><span class="inline-wrap">ï¼šDeep Watch<span class="jill"></span>æ˜¯åœ¨<span class="jill"></span>Vue<span class="jill"></span>ä¸­ç”¨äºä¾¦å¬å¯¹è±¡æˆ–æ•°ç»„çš„å˜åŒ–çš„ä¸€ç§æ–¹å¼ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒVue<span class="jill"></span>çš„å“åº”ç³»ç»Ÿä¼šè¿½è¸ªå¯¹è±¡æˆ–æ•°ç»„çš„å¼•ç”¨ï¼Œè€Œä¸ä¼šæ·±å…¥è§‚å¯Ÿå…¶å†…éƒ¨çš„å±æ€§æˆ–å…ƒç´ ã€‚è¿™æ„å‘³ç€å¦‚æœä½ ä¿®æ”¹äº†å¯¹è±¡æˆ–æ•°ç»„çš„å±æ€§æˆ–å…ƒç´ ï¼Œè€Œä¸æ”¹å˜å¯¹è±¡æˆ–æ•°ç»„æœ¬èº«çš„å¼•ç”¨ï¼ŒVue<span class="jill"></span>å¯èƒ½æ— æ³•æ£€æµ‹åˆ°è¿™äº›å˜åŒ–ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒVue<span class="jill"></span>æä¾›äº†ä¸€ç§ç‰¹æ®Šçš„ä¾¦å¬é€‰é¡¹</span><span class="inline-wrap"><code>deep</code></span><span class="inline-wrap">ï¼Œç”¨äºåœ¨å¯¹è±¡æˆ–æ•°ç»„ä¸Šè¿›è¡Œæ·±åº¦ä¾¦å¬ã€‚å½“ä½ å°†</span><span class="inline-wrap"><code>deep</code></span><span class="inline-wrap">é€‰é¡¹è®¾ç½®ä¸º</span><span class="inline-wrap"><code>true</code></span><span class="inline-wrap">æ—¶ï¼ŒVue<span class="jill"></span>å°†ä¼šé€’å½’åœ°ä¾¦å¬å¯¹è±¡å†…éƒ¨çš„å±æ€§æˆ–æ•°ç»„å†…éƒ¨çš„å…ƒç´ ï¼Œä»¥ä¾¿èƒ½å¤Ÿæ•è·åˆ°å®ƒä»¬çš„å˜åŒ–ã€‚</span></div></div><details id="wEuJdy6Q3RptpmTeuJW6hk" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ç¤ºä¾‹</span></summary><code-block id="8CnwwuWNFWZ8mXdiDXf8vZ" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å®šä¹‰ä¸€ä¸ªå“åº”å¼æ•°æ®ï¼Œæ³¨æ„ç”¨çš„æ˜¯ ref æ¥å®šä¹‰</span>
    <span class="token keyword">const</span> nums <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token comment">// 2såç»™è¿™ä¸ªæ•°ç»„æ·»åŠ é¡¹ç›®</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      nums<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

      <span class="token comment">// å¯ä»¥æ‰“å°ä¸€ä¸‹ï¼Œç¡®ä¿æ•°æ®ç¡®å®å˜åŒ–äº†</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ä¿®æ”¹å'</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>

    <span class="token comment">// ä½†æ˜¯è¿™ä¸ª watch ä¸ä¼šæŒ‰é¢„æœŸæ‰§è¡Œ</span>
    <span class="token function">watch</span><span class="token punctuation">(</span>
      nums<span class="token punctuation">,</span>
      <span class="token comment">// è¿™é‡Œçš„ callback ä¸ä¼šè¢«è§¦å‘</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è§¦å‘ä¾¦å¬'</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// å› ä¸ºå…³é—­äº† deep</span>
      <span class="token punctuation">{</span>
        deep<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></div></code-block></details></details><details id="5UfMTia6UA1r6cUy85BvQD" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#ä¾¦å¬é€‰é¡¹ä¹‹-immediate"><span><code>immediate</code></span></a></span></summary><aside id="3zLX5DgrBarPGU3S2WKWCa" class="bg-cultured wolai-block"><div data-symbol="ğŸ“Œ" class="icon"></div><span class="inline-wrap">æ³¨æ„ï¼Œåœ¨å¸¦æœ‰ immediate é€‰é¡¹æ—¶ï¼Œä¸èƒ½åœ¨ç¬¬ä¸€æ¬¡å›è°ƒæ—¶å–æ¶ˆè¯¥æ•°æ®æºçš„ä¾¦å¬ï¼Œè¯¦è§ </span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#åœæ­¢ä¾¦å¬"><span>åœæ­¢ä¾¦å¬</span></a></span><span class="inline-wrap"> éƒ¨åˆ†ã€‚</span></aside><div id="iNpSYCfYzsiv9yZDQecG1E" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>watch</code></span><span class="inline-wrap">æ˜¯æƒ°æ€§çš„ï¼Œä½†<span class="jill"></span>immediate<span class="jill"></span>å¯ä»¥ç›´æ¥è§¦å‘ä¾¦å¬å›è°ƒï¼Œ</span></div></div><div id="ox6oUoUL89x1Wcnf5m3i1b" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ç±»å‹</span><span class="inline-wrap">ï¼šboolean</span></div></div><div id="4YengnpDaZebTWXXLnEQFX" class="wolai-block wolai-text"><div><span class="blue inline-wrap">é»˜è®¤</span><span class="blue inline-wrap">å‚æ•°</span><span class="inline-wrap">ï¼šfalse</span></div></div><div id="8yM4x584Sn52NAzTTmXFLR" class="wolai-block wolai-text"><div><span class="blue inline-wrap">å¯é€‰</span><span class="blue inline-wrap">å‚æ•°</span><span class="inline-wrap">ï¼štrueã€false</span></div></div></details><details id="ecmkxAq4gtHij4TzkKevfu" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><code>flush</code></span></summary><div id="x38ZcmEFLp4ZGui1i7Cd8p" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ç±»å‹</span><span class="inline-wrap">ï¼šstring</span></div></div><div id="p5zGCepMni4kgc5g1w6cZs" class="wolai-block wolai-text"><div><span class="blue inline-wrap">é»˜è®¤å€¼</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap"><code>&#39;pre&#39;</code></span></div></div><div id="dbkipUyVoekcFZLnkWPWpr" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ä½œç”¨</span><span class="inline-wrap">ï¼šç”¨æ¥æ§åˆ¶ </span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#ä¾¦å¬åçš„å›è°ƒå‡½æ•°"><span>ä¾¦å¬å›è°ƒ</span></a></span><span class="inline-wrap"> çš„è°ƒç”¨æ—¶æœºï¼Œæ¥å—æŒ‡å®šçš„å­—ç¬¦ä¸²</span></div></div><details id="5wn8r9JUtkE7uUSLbxY87m" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å¯é€‰å€¼</span></summary><div id="uA1XzoB3GkWcFDUiCCtZFP" class="wolai-block wolai-simple-table"><table><thead><tr><th style="width: 100px"><span class="inline-wrap">å¯é€‰å€¼</span></th><th style="width: 100px"><span class="inline-wrap">å›è°ƒçš„è°ƒç”¨æ—¶æœº</span></th><th style="width: 291px"><span class="inline-wrap">ä½¿ç”¨åœºæ™¯</span></th></tr></thead><tbody><tr><td><span class="inline-wrap">&#39;pre&#39;</span></td><td><span class="inline-wrap">å°†åœ¨æ¸²æŸ“å‰è¢«è°ƒç”¨</span></td><td><span class="inline-wrap">å…è®¸å›è°ƒåœ¨æ¨¡æ¿è¿è¡Œå‰æ›´æ–°äº†å…¶ä»–å€¼</span></td></tr><tr><td><span class="inline-wrap">&#39;sync&#39;</span></td><td><span class="inline-wrap">åœ¨æ¸²æŸ“æ—¶è¢«åŒæ­¥è°ƒç”¨</span></td><td><span class="inline-wrap">ç›®å‰æ¥è¯´æ²¡ä»€ä¹ˆå¥½å¤„ï¼Œå¯ä»¥äº†è§£ä½†ä¸å»ºè®®ç”¨â€¦</span></td></tr><tr><td><span class="inline-wrap">&#39;post&#39;</span></td><td><span class="inline-wrap">è¢«æ¨è¿Ÿåˆ°æ¸²æŸ“ä¹‹åè°ƒç”¨</span></td><td><span class="inline-wrap">å¦‚æœè¦é€šè¿‡ ref æ“ä½œ </span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#dom-å…ƒç´ ä¸å­ç»„ä»¶"><span>DOM å…ƒç´ ä¸å­ç»„ä»¶</span></a></span><span class="inline-wrap"> ï¼Œéœ€è¦ä½¿ç”¨è¿™ä¸ªå€¼æ¥å¯ç”¨è¯¥é€‰é¡¹ï¼Œä»¥è¾¾åˆ°é¢„æœŸçš„æ‰§è¡Œæ•ˆæœ</span></td></tr></tbody></table></div><div id="9pDT3vEbw8UFZkR769HaMg" class="wolai-block wolai-text"><div><span class="inline-wrap">å¯¹äº </span><span class="inline-wrap"><code>&#39;pre&#39;</code></span><span class="inline-wrap"> å’Œ </span><span class="inline-wrap"><code>&#39;post&#39;</code></span><span class="inline-wrap"> ï¼Œå›è°ƒä½¿ç”¨é˜Ÿåˆ—è¿›è¡Œç¼“å†²ã€‚å›è°ƒåªè¢«æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ä¸€æ¬¡ã€‚</span></div></div></details></details><details id="oRJzvnKgzQVshd5q8Zmmyk" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><code>onTrack</code></span></summary><div id="vYBtATauRWzuop35iMQKYj" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ç±»å‹</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap"><code>(e) =&gt; void</code></span></div></div><div id="phs4GNApskxwuswpuW549R" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ä½œç”¨</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap">åœ¨æ•°æ®æºè¢«è¿½è¸ªæ—¶è°ƒç”¨</span></div></div><div id="oMX7xWG6FYPSDEKaWaUFL9" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯´æ˜</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap"><code>e</code></span><span class="inline-wrap"> æ˜¯ debugger äº‹ä»¶ï¼Œå»ºè®®åœ¨å›è°ƒå†…æ”¾ç½®ä¸€ä¸ª </span><span class="inline-wrap"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/debugger"><span>debugger è¯­å¥</span></a></span><span class="inline-wrap"> ä»¥è°ƒè¯•ä¾èµ–ï¼Œè¿™ä¸¤ä¸ªé€‰é¡¹ä»…åœ¨å¼€å‘æ¨¡å¼ä¸‹ç”Ÿæ•ˆã€‚</span></div></div></details><details id="32adMosgiH7zsjcR5h8mjv" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><code>onTrigger</code></span></summary><div id="xrhjUC2t19SyYvm4KkXuyZ" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ç±»å‹</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap"><code>(e) =&gt; void</code></span></div></div><div id="k38HbYpfZiaAivvMCzyoKo" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ä½œç”¨</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap">åœ¨ä¾¦å¬å›è°ƒè¢«è§¦å‘æ—¶è°ƒç”¨</span></div></div><div id="w2tW1TDKUjPTsrgT9nMjh1" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯´æ˜</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap"><code>e</code></span><span class="inline-wrap"> æ˜¯ debugger äº‹ä»¶ï¼Œå»ºè®®åœ¨å›è°ƒå†…æ”¾ç½®ä¸€ä¸ª </span><span class="inline-wrap"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/debugger"><span>debugger è¯­å¥</span></a></span><span class="inline-wrap"> ä»¥è°ƒè¯•ä¾èµ–ï¼Œè¿™ä¸¤ä¸ªé€‰é¡¹ä»…åœ¨å¼€å‘æ¨¡å¼ä¸‹ç”Ÿæ•ˆã€‚</span></div></div></details></details></details></details><details id="tiFWPUgeCzyTAavrhnW5BJ" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">è¿”å›å€¼</span></summary><div id="5jjagMSYGG1Xq812mJFZv1" class="wolai-block wolai-text"><div><span class="blue inline-wrap">æè¿°</span><span class="inline-wrap">ï¼šè¿”å›ä¸€ä¸ªå¯ä»¥ç”¨æ¥åœæ­¢ä¾¦å¬çš„å‡½æ•°ï¼ˆè¯¦è§ï¼š</span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#åœæ­¢ä¾¦å¬"><span>åœæ­¢ä¾¦å¬</span></a></span><span class="inline-wrap">ï¼‰ã€‚</span></div></div><details id="g7i1Udx42aiZjrmACXvBnb" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å‡½æ•°åŸå‹</span></summary><code-block id="TbRzTHxdFnGsae1o5QJGX" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">type</span> <span class="token class-name">WatchStopHandle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span></pre></div></code-block></details><details id="qNwGohxdXkzWqFggQn2fqm" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ç”¨æ³•</span></summary><details id="ihiHnVvRb6VYF87q68wTZn" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">æ²¡æœ‰å¯åŠ¨</span><span class="inline-wrap"><code>immediate</code></span><span class="inline-wrap">é€‰é¡¹</span></summary><code-block id="9Ka3USFG8oPu5sg3nw5MtR" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// å®šä¹‰ä¸€ä¸ªå–æ¶ˆè§‚å¯Ÿçš„å˜é‡ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°</span>
<span class="token keyword">const</span> unwatch <span class="token operator">=</span> <span class="token function">watch</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// åœ¨åˆé€‚çš„æ—¶æœŸè°ƒç”¨å®ƒï¼Œå¯ä»¥å–æ¶ˆè¿™ä¸ªä¾¦å¬</span>
<span class="token function">unwatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></div></code-block></details><details id="9nmqPbwkjWGm94mDWGPq54" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å¯åŠ¨</span><span class="inline-wrap"><code>immediate</code></span><span class="inline-wrap">é€‰é¡¹</span></summary><code-block id="ivPAzv61VvqGDCKfC6gc8u" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// å¦‚æœä¸æƒ³ç”¨ any ï¼Œå¯ä»¥å¯¼å…¥ TS ç±»å‹</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> WatchStopHandle <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token comment">// è¿™é‡Œæ”¹æˆ let ï¼Œä½†æ˜¯è¦å¦èµ·ä¸€è¡Œï¼Œå…ˆå®šä¹‰ï¼Œå†èµ‹å€¼</span>
<span class="token keyword">let</span> unwatch<span class="token operator">:</span> WatchStopHandle
unwatch <span class="token operator">=</span> <span class="token function">watch</span><span class="token punctuation">(</span>
  message<span class="token punctuation">,</span>
  <span class="token comment">// ä¾¦å¬å›è°ƒ</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// è¿™é‡ŒåŠ ä¸€ä¸ªåˆ¤æ–­ï¼Œæ˜¯å‡½æ•°æ‰æ‰§è¡Œå®ƒ</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> unwatch <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">unwatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ä¾¦å¬é€‰é¡¹</span>
  <span class="token punctuation">{</span>
    immediate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span></pre></div></code-block></details></details></details></details><details id="3ENZCCDsCNknzVJyCiEP9P" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ç¤ºä¾‹</span></summary><code-block id="3rFKr3JfS7pLwPRNxfE91a" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// ä¸è¦å¿˜äº†å¯¼å…¥è¦ç”¨çš„ API</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å®šä¹‰ä¸€ä¸ªå“åº”å¼æ•°æ®</span>
    <span class="token keyword">const</span> userInfo <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'Petter'</span><span class="token punctuation">,</span>
      age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 2såæ”¹å˜æ•°æ®</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      userInfo<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Tom'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>

    <span class="token doc-comment comment">/**
     * å¯ä»¥ç›´æ¥ä¾¦å¬è¿™ä¸ªå“åº”å¼å¯¹è±¡
     * callback çš„å‚æ•°å¦‚æœä¸ç”¨å¯ä»¥ä¸å†™
     */</span>
    <span class="token function">watch</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ä¾¦å¬æ•´ä¸ª userInfo '</span><span class="token punctuation">,</span> userInfo<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token doc-comment comment">/**
     * ä¹Ÿå¯ä»¥ä¾¦å¬å¯¹è±¡é‡Œé¢çš„æŸä¸ªå€¼
     * æ­¤æ—¶æ•°æ®æºéœ€è¦å†™æˆ getter å‡½æ•°
     */</span>
    <span class="token function">watch</span><span class="token punctuation">(</span>
      <span class="token comment">// æ•°æ®æºï¼Œgetter å½¢å¼</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> userInfo<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
      <span class="token comment">// å›è°ƒå‡½æ•° callback</span>
      <span class="token punctuation">(</span>newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'åªä¾¦å¬ name çš„å˜åŒ– '</span><span class="token punctuation">,</span> userInfo<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ‰“å°å˜åŒ–å‰åçš„å€¼'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> oldValue<span class="token punctuation">,</span> newValue <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></div></code-block></details></details><details id="3aWkSGXqmL9V5y3o4bw9rB" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#æ‰¹é‡ä¾¦å¬"><span>æ‰¹é‡ä¾¦å¬</span></a></span></summary><details id="aebiY2NyC6DZiLWa5TauvT" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">è¯­æ³•</span></summary><code-block id="nNcQvcRPCBtS5rew6Q8sth" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// watch éƒ¨åˆ†çš„ TS ç±»å‹</span>
<span class="token comment">// ...</span>
<span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">watch</span><span class="token generic class-name"><span class="token operator">&lt;</span>
  <span class="token constant">T</span> <span class="token keyword">extends</span> MultiWatchSources<span class="token punctuation">,</span>
  Immediate <span class="token keyword">extends</span> Readonly<span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token operator">></span></span></span><span class="token punctuation">(</span>
  sources<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  cb<span class="token operator">:</span> WatchCallback<span class="token operator">&lt;</span>MapSources<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token operator">></span><span class="token punctuation">,</span> MapSources<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Immediate<span class="token operator">>></span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> WatchOptions<span class="token operator">&lt;</span>Immediate<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token operator">:</span> WatchStopHandle

<span class="token comment">// MultiWatchSources æ˜¯ä¸€ä¸ªæ•°ç»„</span>
<span class="token keyword">declare</span> <span class="token keyword">type</span> <span class="token class-name">MultiWatchSources</span> <span class="token operator">=</span> <span class="token punctuation">(</span>WatchSource<span class="token operator">&lt;</span><span class="token builtin">unknown</span><span class="token operator">></span> <span class="token operator">|</span> object<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token comment">// ...</span></pre></div></code-block></details><div id="69BLcWJKD4k46fXBF8Eq2b" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ä½¿ç”¨åœºæ™¯</span><span class="inline-wrap">ï¼šæ¯”å¦‚ä¸€ä¸ªå­ç»„ä»¶æœ‰å¤šä¸ª props ï¼Œå½“æœ‰ä»»æ„ä¸€ä¸ª prop å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéƒ½éœ€è¦æ‰§è¡Œåˆå§‹åŒ–å‡½æ•°é‡ç½®ç»„ä»¶çš„çŠ¶æ€ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨ä¸Šè¿™ä¸ªåŠŸèƒ½å•¦ï¼</span></div></div><details id="9BjQTM3qjwqXVWAq1t1mm4" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ç¤ºä¾‹</span></summary><div id="47JrbdXQ5KhDYgZ1daU42u" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ä¸åŸºæœ¬ç”¨æ³•çš„åŒºåˆ«</span><span class="inline-wrap">ï¼šæ•°æ®æºå’Œå›è°ƒå‚æ•°éƒ½å˜æˆäº†æ•°ç»„çš„å½¢å¼ã€‚</span></div></div><code-block id="qmYPEZqAKU7NoQBEmmQfPw" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å®šä¹‰å¤šä¸ªæ•°æ®æº</span>
    <span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> index <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token comment">// 2såæ”¹å˜æ•°æ®</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      message<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'Hello World!'</span>
      index<span class="token punctuation">.</span>value<span class="token operator">++</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>

    <span class="token function">watch</span><span class="token punctuation">(</span>
      <span class="token comment">// æ•°æ®æºæ”¹æˆäº†æ•°ç»„</span>
      <span class="token punctuation">[</span>message<span class="token punctuation">,</span> index<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// å›è°ƒçš„å…¥å‚ä¹Ÿå˜æˆäº†æ•°ç»„ï¼Œæ¯ä¸ªæ•°ç»„é‡Œé¢çš„é¡ºåºå’Œæ•°æ®æºæ•°ç»„æ’åºä¸€è‡´</span>
      <span class="token punctuation">(</span><span class="token punctuation">[</span>newMessage<span class="token punctuation">,</span> newIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>oldMessage<span class="token punctuation">,</span> oldIndex<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'message çš„å˜åŒ–'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> newMessage<span class="token punctuation">,</span> oldMessage <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'index çš„å˜åŒ–'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> newIndex<span class="token punctuation">,</span> oldIndex <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></div></code-block></details></details><details id="uso6SnXjzWjEaN7Rt494Po" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">åœæ­¢ç›‘å¬</span></summary><div id="SLMceVGMMzkCmNXcbJpnB" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è‡ªåŠ¨åœæ­¢</span><span class="inline-wrap">ï¼šå¦‚æœåœ¨ </span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#å…¨æ–°çš„-setup-å‡½æ•°-new"><span>setup</span></a></span><span class="inline-wrap"> æˆ–è€… </span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/efficient.html#script-setup-new"><span>script-setup</span></a></span><span class="inline-wrap"> é‡Œä½¿ç”¨</span><span class="red inline-wrap"><b>åŒæ­¥è¯­å¥åˆ›å»ºçš„ç›‘å¬å™¨</b></span><span class="inline-wrap">çš„è¯ï¼Œ </span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ-new"><span>ç»„ä»¶è¢«å¸è½½</span></a></span><span class="inline-wrap"> çš„æ—¶å€™ä¹Ÿä¼šä¸€èµ·è¢«åœæ­¢</span></div></div><details id="g2y75a5YcVJ6HVoQJqADby" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">æ‰‹åŠ¨åœæ­¢</span></summary><div class="block-ref"><div class="decorator"></div><div id="5jjagMSYGG1Xq812mJFZv1" class="wolai-block wolai-text"><div><span class="blue inline-wrap">æè¿°</span><span class="inline-wrap">ï¼šè¿”å›ä¸€ä¸ªå¯ä»¥ç”¨æ¥åœæ­¢ä¾¦å¬çš„å‡½æ•°ï¼ˆè¯¦è§ï¼š</span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#åœæ­¢ä¾¦å¬"><span>åœæ­¢ä¾¦å¬</span></a></span><span class="inline-wrap">ï¼‰ã€‚</span></div></div></div><div class="block-ref"><div class="decorator"></div><details id="g7i1Udx42aiZjrmACXvBnb" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å‡½æ•°åŸå‹</span></summary><code-block id="TbRzTHxdFnGsae1o5QJGX" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">type</span> <span class="token class-name">WatchStopHandle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span></pre></div></code-block></details></div><div class="block-ref"><div class="decorator"></div><details id="qNwGohxdXkzWqFggQn2fqm" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ç”¨æ³•</span></summary><details id="ihiHnVvRb6VYF87q68wTZn" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">æ²¡æœ‰å¯åŠ¨</span><span class="inline-wrap"><code>immediate</code></span><span class="inline-wrap">é€‰é¡¹</span></summary><code-block id="9Ka3USFG8oPu5sg3nw5MtR" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// å®šä¹‰ä¸€ä¸ªå–æ¶ˆè§‚å¯Ÿçš„å˜é‡ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°</span>
<span class="token keyword">const</span> unwatch <span class="token operator">=</span> <span class="token function">watch</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// åœ¨åˆé€‚çš„æ—¶æœŸè°ƒç”¨å®ƒï¼Œå¯ä»¥å–æ¶ˆè¿™ä¸ªä¾¦å¬</span>
<span class="token function">unwatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></div></code-block></details><details id="9nmqPbwkjWGm94mDWGPq54" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å¯åŠ¨</span><span class="inline-wrap"><code>immediate</code></span><span class="inline-wrap">é€‰é¡¹</span></summary><code-block id="ivPAzv61VvqGDCKfC6gc8u" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// å¦‚æœä¸æƒ³ç”¨ any ï¼Œå¯ä»¥å¯¼å…¥ TS ç±»å‹</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> WatchStopHandle <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token comment">// è¿™é‡Œæ”¹æˆ let ï¼Œä½†æ˜¯è¦å¦èµ·ä¸€è¡Œï¼Œå…ˆå®šä¹‰ï¼Œå†èµ‹å€¼</span>
<span class="token keyword">let</span> unwatch<span class="token operator">:</span> WatchStopHandle
unwatch <span class="token operator">=</span> <span class="token function">watch</span><span class="token punctuation">(</span>
  message<span class="token punctuation">,</span>
  <span class="token comment">// ä¾¦å¬å›è°ƒ</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// è¿™é‡ŒåŠ ä¸€ä¸ªåˆ¤æ–­ï¼Œæ˜¯å‡½æ•°æ‰æ‰§è¡Œå®ƒ</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> unwatch <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">unwatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ä¾¦å¬é€‰é¡¹</span>
  <span class="token punctuation">{</span>
    immediate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span></pre></div></code-block></details></details></div></details></details><details id="eHoK5D8SsURvvCicpzpCZ" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">è·¯ç”±ä¾¦å¬</span></summary><details id="gJ2j2Gj2MHD3HtU8kpEbpM" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ç›‘å¬æ•´ä¸ªè·¯ç”±</span></summary><code-block id="mBcxVfTXM2WSKSsHwdFnaS" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// ä¾¦å¬æ•´ä¸ªè·¯ç”±</span>
    <span class="token function">watch</span><span class="token punctuation">(</span>route<span class="token punctuation">,</span> <span class="token punctuation">(</span>to<span class="token punctuation">,</span> from<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// å¤„ç†ä¸€äº›äº‹æƒ…</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></div></code-block></details><details id="wC4fCQPEfUmyKMXKmYsWz" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ç›‘å¬æŸä¸ªè·¯ç”±çš„æ•°æ®</span></summary><code-block id="x8J3qrPMEWVem8o1w7UkuY" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// ä¾¦å¬è·¯ç”±å‚æ•°çš„å˜åŒ–</span>
    <span class="token function">watch</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ä¾¦å¬åˆ° ID å˜åŒ–'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></div></code-block></details></details></details><details id="2bHoyV8zcgMUn23q2BUEQr" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">js</span></summary><div id="bgN8pWMT14xL131PLBeosV" class="wolai-block wolai-text"><div><span class="inline-wrap">è¯­æ³•</span></div></div><code-block id="6rdytr3vSV9X51N84YGw4H" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">import</span> <span class="token punctuation">{</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token function">watch</span><span class="token punctuation">(</span>
  source<span class="token punctuation">,</span> <span class="token comment">// å¿…ä¼ ï¼Œè¦ä¾¦å¬çš„æ•°æ®æº</span>
  callback <span class="token comment">// å¿…ä¼ ï¼Œä¾¦å¬åˆ°å˜åŒ–åè¦æ‰§è¡Œçš„å›è°ƒå‡½æ•°</span>
  <span class="token comment">// options // å¯é€‰ï¼Œä¸€äº›ä¾¦å¬é€‰é¡¹</span>
<span class="token punctuation">)</span></pre></div></code-block><div id="xzFveeCBobGftebGpgLzGk" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div></details></details><details id="fBZWh5yq5FAEMmeNiEcY7C" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><code>watchEffect</code></span></summary><details id="juuX1knD56fdM3i4bfN99L" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><code>watchEffect</code></span><span class="inline-wrap">å’Œ</span><span class="inline-wrap"><code>watch</code></span><span class="inline-wrap">çš„åŒºåˆ«</span></summary><div id="tB7gPgibZPo6bz8sKQTbZc" class="wolai-block wolai-text"><div><span class="inline-wrap"> </span><span class="inline-wrap"><code>watchEffect</code></span><span class="inline-wrap"> æ˜¯ </span><span class="inline-wrap"><code>watch</code></span><span class="inline-wrap"> çš„ä¸€ä¸ªç®€åŒ–æ“ä½œï¼Œå¯ä»¥ç”¨æ¥ä»£æ›¿ </span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#æ‰¹é‡ä¾¦å¬"><span>æ‰¹é‡ä¾¦å¬</span></a></span><span class="inline-wrap"> </span></div></div><div id="6PrUruJGUXNQVdRSzDxzZX" class="wolai-block wolai-text"><div><span class="inline-wrap">åŒºåˆ«ï¼š</span></div></div><ol class="wolai-block"><li id="x4uguoMRChzg2mCULNXdYo"><div class="marker"></div><span class="inline-wrap"><code>watch</code></span><span class="inline-wrap"> å¯ä»¥è®¿é—®ä¾¦å¬çŠ¶æ€å˜åŒ–å‰åçš„å€¼ï¼Œè€Œ </span><span class="inline-wrap"><code>watchEffect</code></span><span class="inline-wrap"> æ²¡æœ‰ã€‚</span></li><li id="3bCChA4WYu4fnVU3bdeobP"><div class="marker"></div><span class="inline-wrap"><code>watch</code></span><span class="inline-wrap"> æ˜¯åœ¨å±æ€§æ”¹å˜çš„æ—¶å€™æ‰æ‰§è¡Œï¼Œè€Œ </span><span class="inline-wrap"><code>watchEffect</code></span><span class="inline-wrap"> åˆ™é¦–å…ˆé»˜è®¤ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œç„¶ååœ¨å±æ€§æ”¹å˜çš„æ—¶å€™ä¹Ÿä¼šæ‰§è¡Œã€‚</span></li><li id="mQoJHhZvrPXzUMrdWG5Zve"><div class="marker"></div><span class="inline-wrap">Â·</span><span class="inline-wrap"><code>watchEffect</code></span><span class="inline-wrap">ä¸æ”¯æŒ</span><span class="inline-wrap"><code>deep</code></span><span class="inline-wrap">å’Œ</span><span class="inline-wrap"><code>immediate</code></span></li></ol></details><details id="fVDNMswN8Vqx9zfyZgAJe9" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ts</span></summary><details id="5LpB1kyyv3HNdyPUDK2xRk" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">è¯­æ³•</span></summary><details id="fTHr3PZZRXUDi9danyDg6w" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">è¾“å…¥å‚æ•°</span></summary><div id="4Qwkm8sLgyAtCH9EnL6NhW" class="wolai-block wolai-text"><div><span class="blue inline-wrap">å¿…é€‰</span><span class="inline-wrap">ï¼šä¸€ä¸ªå‰¯ä½œç”¨å‡½æ•°ï¼ˆç›¸å½“äº watch çš„ </span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#ä¾¦å¬åçš„å›è°ƒå‡½æ•°"><span>ä¾¦å¬åçš„å›è°ƒå‡½æ•°</span></a></span><span class="inline-wrap"> ï¼‰</span></div></div><details id="5ibPYB4NEw4uTr6Dt9Qph3" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">option</span></summary><div id="sNHDKiyC6h5SaYdKvGAwg" class="wolai-block wolai-text"><div><span class="blue inline-wrap">æ˜¯å¦å¯é€‰</span><span class="inline-wrap">ï¼šå¯é€‰</span></div></div><div id="3YWSpwK2krSacoe5KkMuT" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ä½œç”¨</span><span class="inline-wrap">ï¼šä¾¦å¬é€‰é¡¹</span></div></div><div id="ur5kECgyw2P5ytYGLSFG2x" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯´æ˜</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap"><code>options</code></span><span class="inline-wrap"> æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å½¢å¼ä¼ å…¥</span></div></div><details id="3g9E8GiHf6SnkmHqnoup6F" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">è¯­æ³•åŸå‹</span></summary><code-block id="qngwc19iqHfPseyL6uXGu" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// åªæ”¯æŒ base ç±»å‹</span>
<span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">interface</span> <span class="token class-name">WatchOptionsBase</span> <span class="token keyword">extends</span> <span class="token class-name">DebuggerOptions</span> <span class="token punctuation">{</span>
  flush<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">'pre'</span> <span class="token operator">|</span> <span class="token string">'post'</span> <span class="token operator">|</span> <span class="token string">'sync'</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span>

<span class="token comment">// ç»§æ‰¿çš„ debugger é€‰é¡¹ç±»å‹</span>
<span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">interface</span> <span class="token class-name">DebuggerOptions</span> <span class="token punctuation">{</span>
  onTrack<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> DebuggerEvent<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>
  onTrigger<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> DebuggerEvent<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span></pre></div></code-block></details><details id="duNFWMW2z8XP1RWx8FyDmn" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å‚æ•°</span></summary><div class="block-ref"><div class="decorator"></div><details id="ecmkxAq4gtHij4TzkKevfu" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><code>flush</code></span></summary><div id="x38ZcmEFLp4ZGui1i7Cd8p" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ç±»å‹</span><span class="inline-wrap">ï¼šstring</span></div></div><div id="p5zGCepMni4kgc5g1w6cZs" class="wolai-block wolai-text"><div><span class="blue inline-wrap">é»˜è®¤å€¼</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap"><code>&#39;pre&#39;</code></span></div></div><div id="dbkipUyVoekcFZLnkWPWpr" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ä½œç”¨</span><span class="inline-wrap">ï¼šç”¨æ¥æ§åˆ¶ </span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#ä¾¦å¬åçš„å›è°ƒå‡½æ•°"><span>ä¾¦å¬å›è°ƒ</span></a></span><span class="inline-wrap"> çš„è°ƒç”¨æ—¶æœºï¼Œæ¥å—æŒ‡å®šçš„å­—ç¬¦ä¸²</span></div></div><details id="5wn8r9JUtkE7uUSLbxY87m" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å¯é€‰å€¼</span></summary><div id="uA1XzoB3GkWcFDUiCCtZFP" class="wolai-block wolai-simple-table"><table><thead><tr><th style="width: 100px"><span class="inline-wrap">å¯é€‰å€¼</span></th><th style="width: 100px"><span class="inline-wrap">å›è°ƒçš„è°ƒç”¨æ—¶æœº</span></th><th style="width: 291px"><span class="inline-wrap">ä½¿ç”¨åœºæ™¯</span></th></tr></thead><tbody><tr><td><span class="inline-wrap">&#39;pre&#39;</span></td><td><span class="inline-wrap">å°†åœ¨æ¸²æŸ“å‰è¢«è°ƒç”¨</span></td><td><span class="inline-wrap">å…è®¸å›è°ƒåœ¨æ¨¡æ¿è¿è¡Œå‰æ›´æ–°äº†å…¶ä»–å€¼</span></td></tr><tr><td><span class="inline-wrap">&#39;sync&#39;</span></td><td><span class="inline-wrap">åœ¨æ¸²æŸ“æ—¶è¢«åŒæ­¥è°ƒç”¨</span></td><td><span class="inline-wrap">ç›®å‰æ¥è¯´æ²¡ä»€ä¹ˆå¥½å¤„ï¼Œå¯ä»¥äº†è§£ä½†ä¸å»ºè®®ç”¨â€¦</span></td></tr><tr><td><span class="inline-wrap">&#39;post&#39;</span></td><td><span class="inline-wrap">è¢«æ¨è¿Ÿåˆ°æ¸²æŸ“ä¹‹åè°ƒç”¨</span></td><td><span class="inline-wrap">å¦‚æœè¦é€šè¿‡ ref æ“ä½œ </span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#dom-å…ƒç´ ä¸å­ç»„ä»¶"><span>DOM å…ƒç´ ä¸å­ç»„ä»¶</span></a></span><span class="inline-wrap"> ï¼Œéœ€è¦ä½¿ç”¨è¿™ä¸ªå€¼æ¥å¯ç”¨è¯¥é€‰é¡¹ï¼Œä»¥è¾¾åˆ°é¢„æœŸçš„æ‰§è¡Œæ•ˆæœ</span></td></tr></tbody></table></div><div id="9pDT3vEbw8UFZkR769HaMg" class="wolai-block wolai-text"><div><span class="inline-wrap">å¯¹äº </span><span class="inline-wrap"><code>&#39;pre&#39;</code></span><span class="inline-wrap"> å’Œ </span><span class="inline-wrap"><code>&#39;post&#39;</code></span><span class="inline-wrap"> ï¼Œå›è°ƒä½¿ç”¨é˜Ÿåˆ—è¿›è¡Œç¼“å†²ã€‚å›è°ƒåªè¢«æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ä¸€æ¬¡ã€‚</span></div></div></details></details></div><div class="block-ref"><div class="decorator"></div><details id="oRJzvnKgzQVshd5q8Zmmyk" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><code>onTrack</code></span></summary><div id="vYBtATauRWzuop35iMQKYj" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ç±»å‹</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap"><code>(e) =&gt; void</code></span></div></div><div id="phs4GNApskxwuswpuW549R" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ä½œç”¨</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap">åœ¨æ•°æ®æºè¢«è¿½è¸ªæ—¶è°ƒç”¨</span></div></div><div id="oMX7xWG6FYPSDEKaWaUFL9" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯´æ˜</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap"><code>e</code></span><span class="inline-wrap"> æ˜¯ debugger äº‹ä»¶ï¼Œå»ºè®®åœ¨å›è°ƒå†…æ”¾ç½®ä¸€ä¸ª </span><span class="inline-wrap"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/debugger"><span>debugger è¯­å¥</span></a></span><span class="inline-wrap"> ä»¥è°ƒè¯•ä¾èµ–ï¼Œè¿™ä¸¤ä¸ªé€‰é¡¹ä»…åœ¨å¼€å‘æ¨¡å¼ä¸‹ç”Ÿæ•ˆã€‚</span></div></div></details></div><div class="block-ref"><div class="decorator"></div><details id="32adMosgiH7zsjcR5h8mjv" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><code>onTrigger</code></span></summary><div id="xrhjUC2t19SyYvm4KkXuyZ" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ç±»å‹</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap"><code>(e) =&gt; void</code></span></div></div><div id="k38HbYpfZiaAivvMCzyoKo" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ä½œç”¨</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap">åœ¨ä¾¦å¬å›è°ƒè¢«è§¦å‘æ—¶è°ƒç”¨</span></div></div><div id="w2tW1TDKUjPTsrgT9nMjh1" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯´æ˜</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap"><code>e</code></span><span class="inline-wrap"> æ˜¯ debugger äº‹ä»¶ï¼Œå»ºè®®åœ¨å›è°ƒå†…æ”¾ç½®ä¸€ä¸ª </span><span class="inline-wrap"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/debugger"><span>debugger è¯­å¥</span></a></span><span class="inline-wrap"> ä»¥è°ƒè¯•ä¾èµ–ï¼Œè¿™ä¸¤ä¸ªé€‰é¡¹ä»…åœ¨å¼€å‘æ¨¡å¼ä¸‹ç”Ÿæ•ˆã€‚</span></div></div></details></div></details></details></details><details id="m3KuhvEtndtiQF6iFc7Txc" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">è¿”å›å€¼</span></summary><div id="35CCbq1dr7mouPq5pcEpA9" class="wolai-block wolai-text"><div><span class="inline-wrap">è¿”å›ä¸€ä¸ªç”¨äº </span><span class="inline-wrap"><a href="https://vue3.chengpeiquan.com/component.html#åœæ­¢ä¾¦å¬"><span>åœæ­¢ä¾¦å¬</span></a></span><span class="inline-wrap"> çš„å‡½æ•°ã€‚</span></div></div></details><details id="koSnRToXru8C2z27wThrNJ" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">åŸå‹</span></summary><code-block id="mCAbKCUTgQKTp11bYyzQ7x" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">type</span> <span class="token class-name">WatchEffect</span> <span class="token operator">=</span> <span class="token punctuation">(</span>onCleanup<span class="token operator">:</span> OnCleanup<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>

<span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">watchEffect</span><span class="token punctuation">(</span>
  effect<span class="token operator">:</span> WatchEffect<span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> WatchOptionsBase
<span class="token punctuation">)</span><span class="token operator">:</span> WatchStopHandle</pre></div></code-block></details></details><details id="rZiqweRXqbACmcMsLgfNQU" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ç”¨æ³•</span></summary><details id="4qVBrmM2KtosgTWuRoGtW" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ä¸€èˆ¬ç”¨æ³•</span></summary><div id="6BQky2KhZfqFEFS6d1ics" class="wolai-block wolai-text"><div><span class="inline-wrap">æè¿°ï¼šç«‹å³æ‰§è¡Œä¼ å…¥çš„ä¸€ä¸ªå‡½æ•°ï¼ŒåŒæ—¶å“åº”å¼è¿½è¸ªå…¶ä¾èµ–ï¼Œå¹¶åœ¨å…¶ä¾èµ–å˜æ›´æ—¶é‡æ–°è¿è¡Œè¯¥å‡½æ•°ã€‚</span></div></div><code-block id="pNxEXt9VRSRmYvWb5KywhE" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> watchEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å•ç‹¬å®šä¹‰ä¸¤ä¸ªæ•°æ®ï¼Œåé¢ç”¨æ¥åˆ†å¼€æ”¹å˜æ•°å€¼</span>
    <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token string">'Petter'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span>

    <span class="token comment">// å®šä¹‰ä¸€ä¸ªè°ƒç”¨è¿™ä¸¤ä¸ªæ•°æ®çš„å‡½æ•°</span>
    <span class="token keyword">const</span> getUserInfo <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span> name<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
        age<span class="token operator">:</span> age<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 2såæ”¹å˜ç¬¬ä¸€ä¸ªæ•°æ®</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      name<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'Tom'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>

    <span class="token comment">// 4såæ”¹å˜ç¬¬äºŒä¸ªæ•°æ®</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      age<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">20</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">4000</span><span class="token punctuation">)</span>

    <span class="token comment">// ç›´æ¥ä¾¦å¬è°ƒç”¨å‡½æ•°ï¼Œåœ¨æ¯ä¸ªæ•°æ®äº§ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œå®ƒéƒ½ä¼šè‡ªåŠ¨æ‰§è¡Œ</span>
    <span class="token function">watchEffect</span><span class="token punctuation">(</span>getUserInfo<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></div></code-block></details><details id="oUKyDyuzhM3VMU1z98Sxn1" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">è·¯ç”±ä¾¦å¬</span></summary><div id="3qfqzsrGdWJdfLjf6BY9Vn" class="wolai-block wolai-text"><div><span class="blue inline-wrap">æ„ä¹‰</span><span class="inline-wrap">ï¼šå¯ä»¥ç®€åŒ– </span><span class="inline-wrap"><code>watch</code></span><span class="inline-wrap"> çš„è¡Œä¸ºã€‚</span></div></div><div id="d7ryyqkxj4A2TyoB3a7UV4" class="wolai-block wolai-text"><div><span class="inline-wrap">æ¯”å¦‚å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡è·¯ç”±çš„å‚æ•°æ¥è·å–æ–‡ç«  ID ï¼Œç„¶åè¯·æ±‚æ–‡ç« å†…å®¹ï¼š</span></div></div><code-block id="dkunH7zAZ7c4niVe6tAPVB" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> watchEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// ä»æ¥å£æŸ¥è¯¢æ–‡ç« è¯¦æƒ…</span>
    <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">queryArticleDetail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ–‡ç«  ID æ˜¯ï¼š'</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span>

      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/article/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ç›´æ¥ä¾¦å¬åŒ…å«è·¯ç”±å‚æ•°çš„é‚£ä¸ªå‡½æ•°</span>
    <span class="token function">watchEffect</span><span class="token punctuation">(</span>queryArticleDetail<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></div></code-block></details></details></details></details><details id="kjjDpyrjefgAZJfKaEL2AH" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><code>watchPostEffect</code></span></summary><div id="cGs3jbwKMbxHYnbo8Fsj4Y" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ç‰ˆæœ¬è¦æ±‚</span><span class="inline-wrap">ï¼šVue v3.2.0 åŠä»¥ä¸Šç‰ˆæœ¬æ‰æ”¯æŒè¯¥ API ã€‚</span></div></div></details><details id="tnWWzdqDhasRK5pfjoYLbd" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><code>watchSyncEffect</code></span></summary><div class="block-ref"><div class="decorator"></div><div id="cGs3jbwKMbxHYnbo8Fsj4Y" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ç‰ˆæœ¬è¦æ±‚</span><span class="inline-wrap">ï¼šVue v3.2.0 åŠä»¥ä¸Šç‰ˆæœ¬æ‰æ”¯æŒè¯¥ API ã€‚</span></div></div></div></details><div id="jop66wduVsFzd6Mk66jjtK" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div></details><details id="wrBsimUpxj2SAm6UxrNgDj" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å“åº”å¼</span></summary><details id="xa1sHC38GSLDFofA8SkZHE" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">é€‰é¡¹å¼<span class="jill"></span>API</span></summary><details id="oQuTCefrNbMHs9TXR2dxHh" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">DOM<span class="jill"></span>æ›´æ–°æ—¶æœº</span></summary><ol class="wolai-block"><li id="usYc74ZkLdMoFBVzEaMpue"><div class="marker"></div><span class="inline-wrap">å½“ä¿®æ”¹äº†å“åº”å¼çŠ¶æ€æ—¶ï¼ŒDOM ä¼šè¢«è‡ªåŠ¨æ›´æ–°ã€‚</span></li><li id="dXhqMMfEmo3wk1WNVBxGRA"><div class="marker"></div><span class="inline-wrap">DOM<span class="jill"></span>æ›´æ–°å¹¶ä¸æ˜¯åŒæ­¥çš„</span></li><li id="sYiVyVT1nnCdgu1Xd7o6of"><div class="marker"></div><span class="inline-wrap">Vue<span class="jill"></span>ä¼šåœ¨</span><span class="inline-wrap"><a href="https://cn.vuejs.org/api/general.html#nexttick"><span><code>nect tick</code></span></a></span><span class="inline-wrap">æ›´æ–°å‘¨æœŸä¸­ç¼“å†²æ‰€æœ‰çŠ¶æ€çš„ä¿®æ”¹ï¼Œä»¥ç¡®ä¿æ— è®ºè¿›è¡Œå¤šå°‘æ¬¡çŠ¶æ€ä¿®æ”¹ï¼Œæ¯ä¸ªç»„ä»¶éƒ½åªä¼šæ›´æ–°ä¸€æ¬¡ã€‚</span></li></ol><details id="oTybc1SJmTPKLWX25TMATB" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ç¤ºä¾‹</span></summary><code-block id="j8FfJjkczroeHy6Vh8wYw8" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> nextTick <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vue'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">async</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">count</span><span class="token operator">++</span>
      <span class="token keyword control-flow">await</span> <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// ç°åœ¨ DOM å·²ç»æ›´æ–°äº†</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></div></code-block></details></details><details id="6d75pNxmtR2XXau9BKJ4ns" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å£°æ˜çŠ¶æ€ / å£°æ˜å€¼</span></summary><div id="37eLr8UMiVtVWDtqSpGj9f" class="wolai-block wolai-text"><div><span class="blue inline-wrap">æ–¹å¼</span><span class="inline-wrap">ï¼šé€šè¿‡</span><span class="inline-wrap"><code>data</code></span><span class="inline-wrap">é€‰é¡¹æ¥å£°æ˜</span></div></div><div id="pNF2TbohdJw3LkUqQqdXE4" class="wolai-block wolai-text"><div><span class="blue inline-wrap">å€¼</span><span class="inline-wrap">ï¼šè¿”å›ä¸€ä¸ªå¯¹è±¡çš„å‡½æ•°</span></div></div><div id="3ai61NfMZKna2ZvnTYrWzx" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯´æ˜</span><span class="inline-wrap">ï¼šåˆ›å»ºæ–°ç»„ä»¶å®ä¾‹çš„æ—¶å€™è°ƒç”¨æ­¤å‡½æ•°ï¼Œå¹¶å°†å‡½æ•°è¿”å›çš„å¯¹è±¡ç”¨å“åº”å¼ç³»ç»Ÿè¿›è¡ŒåŒ…è£…ã€‚</span></div></div><div id="cq52kroM39EaHGotTw9vwk" class="wolai-block wolai-text"><div><span class="blue inline-wrap">æ³¨æ„</span><span class="inline-wrap">ï¼šæ­¤å¯¹è±¡çš„æ‰€æœ‰é¡¶å±‚å±æ€§éƒ½ä¼šè¢«ä»£ç†åˆ°ç»„ä»¶å®ä¾‹ï¼ˆå³æ–¹æ³•å’Œç”Ÿå‘½å‘¨æœŸçš„</span><span class="inline-wrap"><code>this</code></span><span class="inline-wrap">ï¼‰</span></div></div><details id="4riPJGm865HVqBTsHZXR9T" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ç¤ºä¾‹</span></summary><code-block id="bxLvw8xDR6okWLkL9vsECT" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// mounted æ˜¯ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä¹‹åæˆ‘ä»¬ä¼šè®²åˆ°</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// `this` æŒ‡å‘å½“å‰ç»„ä»¶å®ä¾‹</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">count</span><span class="token punctuation">)</span> <span class="token comment">// => 1</span>

    <span class="token comment">// æ•°æ®å±æ€§ä¹Ÿå¯ä»¥è¢«æ›´æ”¹</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">count</span> <span class="token operator">=</span> <span class="token number">2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></div></code-block></details></details><details id="69nWki2tNwBhzpAeHg7eRV" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å£°æ˜æ–¹æ³•</span></summary><aside id="eRQvG7Cr7FyMDHivZiGmeD" class="bg-cultured wolai-block"><div data-symbol="ğŸ“Œ" class="icon"></div><span class="inline-wrap"> åº”æ˜¯åŒ…å«ç´ æœ‰æ–¹æ³•çš„å¯¹è±¡
2. å®šä¹‰</span><span class="inline-wrap"><code>methods</code></span><span class="inline-wrap">æ—¶ï¼Œä¸å»ºè®®ä½¿ç”¨ç®­å¤´å‡½æ•°æ—¶ï¼Œå› ä¸ºç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„</span><span class="inline-wrap"><code>this</code></span><span class="inline-wrap">ä¸Šä¸‹æ–‡</span></aside><details id="bJRWHQzxH4idkbYDozPjGA" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">æ·»åŠ æ–¹å¼</span></summary><div id="eHa28RwLnCT2j8sfwrLEK4" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯´æ˜</span><span class="inline-wrap">ï¼šé€šè¿‡</span><span class="inline-wrap"><code>methods</code></span><span class="inline-wrap">é€‰é¡¹æ¥æ·»åŠ </span></div></div><details id="9hY6f3KTSj3RhMtPivRDv5" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ä¸€èˆ¬ç¤ºä¾‹</span></summary><code-block id="mC6aakfewktWZHQD4TJCuV" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">count</span><span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åœ¨å…¶ä»–æ–¹æ³•æˆ–æ˜¯ç”Ÿå‘½å‘¨æœŸä¸­ä¹Ÿå¯ä»¥è°ƒç”¨æ–¹æ³•</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></div></code-block></details></details><details id="g88bW4cLu8a4RkJwRQU129" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ä½¿ç”¨æ–¹å¼</span></summary><details id="nrAk9gatkPvLe71ZYPfanJ" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">åœ¨æ¨¡æ¿ä¸­è¢«è®¿é—®</span></summary><code-block id="teqqZpa3GRdiqnKiULpuge" class="wolai-block"><div class="wolai-pre"><div data-lang="HTML" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>increment<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></pre></div></code-block></details></details><div id="56J1jmCi9oq1wzBN3AYVRY" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div></details></details><details id="5GssxxudzGaEav3NkJrXUo" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ç»„ä»¶å¼<span class="jill"></span>API</span></summary><details id="d2zeVYgJkuCW6qokAWcHWT" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">åŸºæœ¬<span class="jill"></span>API</span></summary><details id="sXrv5KVfVvqyYTg9WY7CRk" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy"><span><code>Proxy()</code></span></a></span></summary><aside id="vzKeoFpQfrbHDdMsXXLQAA" class="bg-cultured wolai-block"><div data-symbol="ğŸ“Œ" class="icon"></div><span class="inline-wrap">Vue 3 ä½¿ç”¨ </span><span class="inline-wrap"><code>Proxy()</code></span><span class="inline-wrap"> </span></aside><div id="aRAkuxwWR2i5suERrBfWyU" class="wolai-block wolai-text"><div><span class="blue inline-wrap">å®šä¹‰</span><span class="inline-wrap">ï¼šæ˜¯ä¸€ä¸ª JavaScript å†…ç½®çš„æ„é€ å‡½æ•°</span></div></div><div id="8yGuiQiQ7gBuaaY1UppaBX" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ä½œç”¨</span><span class="inline-wrap">ï¼šç”¨äºåˆ›å»ºä»£ç†å¯¹è±¡ã€‚ä»£ç†å¯¹è±¡å…è®¸ä½ æ‹¦æˆªå¹¶è‡ªå®šä¹‰åº•å±‚å¯¹è±¡çš„æ“ä½œï¼Œæ¯”å¦‚è®¿é—®å±æ€§ã€ä¿®æ”¹å±æ€§ã€åˆ é™¤å±æ€§ç­‰ã€‚</span></div></div><div id="cR5EPGX2Ubc3B6HsiFPX5n" class="wolai-block wolai-text"><div><span class="blue inline-wrap">åœ¨<span class="jill"></span>Vue3<span class="jill"></span>ä¸­</span><span class="inline-wrap">ï¼šVue 3 èƒ½å¤Ÿæ›´æœ‰æ•ˆåœ°è¿½è¸ªçŠ¶æ€çš„å˜åŒ–ï¼Œå¹¶åœ¨çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ç›¸åº”çš„æ›´æ–°ï¼Œä»¥æ­¤æ¥å®ç°å“åº”å¼ç³»ç»Ÿ</span></div></div></details><details id="sDRk7dDUyZehMo1oVcDCz2" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><code>ref</code></span></summary><aside id="jp1rh5eDcN1dLxHDC6mdvr" class="bg-cultured wolai-block"><div data-symbol="ğŸ“Œ" class="icon"></div><span class="inline-wrap">ä¾¦å¬æ­¤å‡½æ•°çš„è¿”å›çš„å˜é‡ï¼Œ</span><span class="red inline-wrap">ä¸ä¼š</span><span class="inline-wrap">é»˜è®¤å¼€å¯æ·±åº¦ä¾¦å¬</span></aside><div id="ikaBNDesEu7ikBuWeAm6Wq" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯´æ˜</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap"><code>ref</code></span><span class="inline-wrap"> æ˜¯æœ€å¸¸ç”¨çš„ä¸€ä¸ªå“åº”å¼ APIï¼Œå®ƒå¯ä»¥ç”¨æ¥å®šä¹‰æ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬ Node èŠ‚ç‚¹å’Œç»„ä»¶ã€‚</span></div></div><div id="bFLWWUa6McgJZLuWgzr1FY" class="wolai-block wolai-text"><div><span class="blue inline-wrap">é€‚ç”¨åœºæ™¯</span><span class="inline-wrap">ï¼šåŸºæœ¬æ•°æ®ç±»å‹</span></div></div><details id="dweKNr2ArMvSW4QaRC6JP3" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ts</span></summary><div id="gMEXRs3PgS5XKV37XsePEY" class="wolai-block wolai-text"><div><span class="blue inline-wrap">å®šä¹‰</span><span class="inline-wrap">ï¼šæ¥æ”¶ä¸€ä¸ªæ³›å‹å…¥å‚ï¼Œè¿”å›ä¸€ä¸ªå“åº”å¼å¯¹è±¡çš„å‡½æ•°</span></div></div><details id="qG4AEEkERs5f2hh3xPrVNQ" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">è¯­æ³•</span></summary><div id="gnyFJeYi4HJdeUFJu1E5Xu" class="wolai-block wolai-text"><div><span class="inline-wrap">æœ‰è¿”å›å€¼çš„å‡½æ•°å®šä¹‰</span></div></div><code-block id="cBKee9WMYczQg8UqQa9a2w" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> Ref<span class="token operator">&lt;</span>UnwrapRef<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span>
</pre></div></code-block><div id="bAFm3gGgo5edneHhB1jAFo" class="wolai-block wolai-text"><div><span class="inline-wrap">æ— è¿”å›å€¼çš„å‡½æ•°å®šä¹‰</span></div></div><code-block id="TqGLfMZpMgJSyq1nTNVm4" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">interface</span> <span class="token class-name">Ref<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span></pre></div></code-block></details><details id="pxozHav2LcQ51t2ZJGMjHs" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å¯¼å…¥</span></summary><div id="s7a8ZjeS4uBfPC6pZNsvna" class="wolai-block wolai-text"><div><span class="inline-wrap">å¯¼å…¥ </span><span class="inline-wrap"><code>ref</code></span><span class="inline-wrap"> API</span></div></div><code-block id="nvgQUzjpdFpzoh4zygacde" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
</pre></div></code-block><div id="38F6iJMDjK84NHhPiFVcGZ" class="wolai-block wolai-text"><div><span class="inline-wrap">å¯¼å…¥ </span><span class="inline-wrap"><code>ref</code></span><span class="inline-wrap"> API çš„è¿”å›å€¼ç±»å‹</span></div></div><code-block id="4sqqUwyT9kRHA29gWkBF9z" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> Ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span></pre></div></code-block></details><details id="edwq6mkBrFSgFn57qyvwFN" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å®šä¹‰</span></summary><div id="ucGvzVD4ZPCiZPqAuWApEe" class="wolai-block wolai-text"><div><span class="inline-wrap">è‡ªåŠ¨æ¨å¯¼</span></div></div><code-block id="jkkNXGd8qy57kRVPjwEQXm" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span></pre></div></code-block><details id="3GW3EJUkjgdoLR4gXq4Yya" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">åŸºæœ¬æ•°æ®ç±»å‹</span></summary><div id="4ZG1rSrnWNysxtTRC69tTy" class="wolai-block wolai-text"><div><span class="inline-wrap">æ˜¾å¼æŒ‡å®š </span><span class="inline-wrap"><code>msg.value</code></span><span class="inline-wrap"> æ˜¯ </span><span class="inline-wrap"><code>string</code></span><span class="inline-wrap"> ç±»å‹</span></div></div><code-block id="3ZTFfkVLDPJy6SUMSPxFHC" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token string">'Hello World!'</span><span class="token punctuation">)</span></pre></div></code-block></details><details id="rqEjw7YcbQnocXFw8F1Hxd" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å¼•ç”¨ç±»å‹</span></summary><div id="4nt8jHuPrgU6tqGdGNeKfa" class="wolai-block wolai-text"><div><span class="inline-wrap">åŸºæœ¬æ•°æ®ç±»å‹æ•°ç»„</span></div></div><code-block id="93eA3PfTVKnxhhbNqwmYAF" class="wolai-block"><div class="wolai-pre"><div data-lang="Vue" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// æ•°å€¼æ•°ç»„</span>
<span class="token keyword">const</span> uids <span class="token operator">=</span> ref<span class="token operator">&lt;</span>number<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// å­—ç¬¦ä¸²æ•°ç»„</span>
<span class="token keyword">const</span> names <span class="token operator">=</span> ref<span class="token operator">&lt;</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Tom'</span><span class="token punctuation">,</span> <span class="token string">'Petter'</span><span class="token punctuation">,</span> <span class="token string">'Andy'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></div></code-block><div id="6uJUKKmDnq1YqPD3ihYjeK" class="wolai-block wolai-text"><div><span class="inline-wrap">å¯¹è±¡æ•°ç»„</span></div></div><code-block id="reJjJcdktHS3BifvRkRcE2" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// å£°æ˜å¯¹è±¡çš„æ ¼å¼</span>
<span class="token keyword">interface</span> <span class="token class-name">Member</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">number</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// å®šä¹‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„</span>
<span class="token keyword">const</span> memberList <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>Member<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'Petter'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span></pre></div></code-block></details><details id="aUgKWuTJU7ACEseSisB6sq" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ç©ºå€¼</span></summary><aside id="pePQZ17zQ7j2ZkCEwmmgrn" class="bg-cultured wolai-block"><div data-symbol="ğŸ“Œ" class="icon"></div><span class="inline-wrap">è€Œå¦‚æœæ—¢ä¸æ˜¾å¼æŒ‡å®šç±»å‹ï¼Œä¹Ÿä¸èµ‹äºˆåˆå§‹å€¼ï¼Œé‚£ä¹ˆä¼šè¢«é»˜è®¤ä¸º </span><span class="inline-wrap"><code>any</code></span><span class="inline-wrap"> ç±»å‹ï¼Œé™¤éçœŸçš„æ— æ³•ç¡®è®¤ç±»å‹ï¼Œå¦åˆ™ä¸å»ºè®®è¿™ä¹ˆåšã€‚</span></aside><div id="vzZFyQ93PaZGTzF9XiZkPt" class="wolai-block wolai-text"><div><span class="inline-wrap">åˆå§‹åŒ–ç©ºå€¼ï¼Œå¯¹äºä¸‹åˆ—ä»£ç ï¼Œ</span><span class="inline-wrap"><code>msg.value</code></span><span class="inline-wrap"> æ˜¯ä¸€ä¸ª </span><span class="inline-wrap"><code>string | undefined</code></span><span class="inline-wrap"> çš„è”åˆç±»å‹ã€‚</span></div></div><code-block id="ftW7LhraE1WzmKMghmTVjj" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// undefined</span>

msg<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'Hello World!'</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// Hello World!</span></pre></div></code-block></details><details id="qUMj6LyBpcsKoRDn9diTB6" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">DOM<span class="jill"></span>å…ƒç´ çš„</span><span class="inline-wrap"><code>ref</code></span><span class="inline-wrap">å±æ€§</span></summary><blockquote id="6rtTDCRPNW3d8apGZCxq2t" class="wolai-block"><span class="inline-wrap">æ³¨æ„äº‹é¡¹
1.  åœ¨ </span><span class="inline-wrap"><code>&lt;template /&gt;</code></span><span class="inline-wrap"> ä»£ç é‡Œæ·»åŠ çš„ </span><span class="inline-wrap"><code>ref</code></span><span class="inline-wrap"> å±æ€§çš„å€¼ï¼Œæ˜¯å¯¹åº” </span><span class="inline-wrap"><code>&lt;script /&gt;</code></span><span class="inline-wrap"> é‡Œä½¿ç”¨ </span><span class="inline-wrap"><code>ref</code></span><span class="inline-wrap"> API å£°æ˜çš„å˜é‡çš„åç§°ï¼›
2. è¯·ä¿è¯è§†å›¾æ¸²æŸ“å®Œæ¯•åå†æ‰§è¡Œ DOM æˆ–ç»„ä»¶çš„ç›¸å…³æ“ä½œï¼ˆéœ€è¦æ”¾åˆ°ç”Ÿå‘½å‘¨æœŸçš„ </span><span class="inline-wrap"><code>onMounted</code></span><span class="inline-wrap"> æˆ–è€… </span><span class="inline-wrap"><code>nextTick</code></span><span class="inline-wrap"> å‡½æ•°é‡Œï¼Œè¿™ä¸€ç‚¹åœ¨ Vue 2 ä¹Ÿæ˜¯ä¸€æ ·ï¼‰
3. </span><span class="inline-wrap">è¯¥ Ref å˜é‡å¿…é¡» </span><span class="inline-wrap"><code>return</code></span><span class="inline-wrap"> å‡ºå»æ‰å¯ä»¥ç»™åˆ° </span><span class="inline-wrap"><code>&lt;template /&gt;</code></span><span class="inline-wrap"> ä½¿ç”¨ï¼Œè¿™ä¸€ç‚¹æ˜¯ Vue 3 ç”Ÿå‘½å‘¨æœŸçš„ç¡¬æ€§è¦æ±‚ï¼Œå­ç»„ä»¶çš„æ•°æ®å’Œæ–¹æ³•å¦‚æœè¦ç»™çˆ¶ç»„ä»¶æ“ä½œï¼Œä¹Ÿè¦ </span><span class="inline-wrap"><code>return</code></span><span class="inline-wrap"> å‡ºæ¥æ‰å¯ä»¥ã€‚</span></blockquote><div id="bi1ULk9NmYhmrA1XCsTZcG" class="wolai-block wolai-text"><div><span class="inline-wrap">æ¨¡æ¿ä»£ç </span></div></div><code-block id="9Afhu69ymUznHrV9BXjdCZ" class="wolai-block"><div class="wolai-pre"><div data-lang="HTML" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- ç»™ DOM å…ƒç´ æ·»åŠ  `ref` å±æ€§ --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>msg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>è¯·ç•™æ„è¯¥èŠ‚ç‚¹ï¼Œæœ‰ä¸€ä¸ª ref å±æ€§<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>

  <span class="token comment">&lt;!-- å­ç»„ä»¶ä¹Ÿæ˜¯åŒæ ·çš„æ–¹å¼æ·»åŠ  --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></pre></div></code-block><div id="gEAehedTpAsDB3KCC7PzF2" class="wolai-block wolai-text"><div><span class="inline-wrap">è„šæœ¬ä»£ç </span></div></div><code-block id="qg4gi4Jp1TxriYQDK2PsRf" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token operator">&lt;</span>script<span class="token operator">></span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> onMounted<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">'@cp/Child.vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Child<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å®šä¹‰æŒ‚è½½èŠ‚ç‚¹ï¼Œå£°æ˜çš„ç±»å‹è¯¦è§ä¸‹æ–¹é™„è¡¨</span>
    <span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>HTMLElement<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// InstanceType&lt;T> æ˜¯ TypeScript æä¾›çš„ä¸€ä¸ªå·¥å…·ç±»å‹ï¼Œå¯ä»¥è·å–æ„é€ å‡½æ•°ç±»å‹çš„å®ä¾‹ç±»å‹ï¼Œå› æ­¤å°†ç»„ä»¶çš„ç±»å‹å£°æ˜ä¸º InstanceType&lt;typeof Child> ï¼Œä¸ä»…å¯ä»¥å¾—åˆ°æ›´å®Œå–„çš„ç±»å‹æç¤ºï¼Œåœ¨ç¼–ç¨‹è¿‡ç¨‹ä¸­è¿˜å¯ä»¥è®©ç¼–è¾‘å™¨æä¾›æ›´å®Œå–„çš„ä»£ç è¡¥å…¨åŠŸèƒ½ã€‚</span>
    <span class="token keyword">const</span> child <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> Child<span class="token operator">>></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// è¯·ä¿è¯è§†å›¾æ¸²æŸ“å®Œæ¯•åå†æ‰§è¡ŒèŠ‚ç‚¹æ“ä½œ e.g. `onMounted` / `nextTick`</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// æ¯”å¦‚è·å– DOM çš„æ–‡æœ¬</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>value<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span>

      <span class="token comment">// æˆ–è€…æ“ä½œå­ç»„ä»¶é‡Œçš„æ•°æ®</span>
      child<span class="token punctuation">.</span>value<span class="token punctuation">.</span>isShowDialog <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// å¿…é¡» `return` å‡ºå»æ‰å¯ä»¥ç»™åˆ° `&lt;template />` ä½¿ç”¨</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      msg<span class="token punctuation">,</span>
      child<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></pre></div></code-block><div id="iV9ZFEVpgFcu5m3ZR3nSwa" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div></details></details><details id="h8LgG3e1DZ318dL6HNrWu2" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">è¯»å–å€¼</span></summary><div id="72kvxVm9uRWFgbKpCYzBbH" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯´æ˜</span><span class="inline-wrap">ï¼šä»»ä½• Ref å¯¹è±¡çš„å€¼éƒ½å¿…é¡»é€šè¿‡ </span><span class="inline-wrap"><code>xxx.value</code></span><span class="inline-wrap"> æ‰å¯ä»¥æ­£ç¡®è·å–ã€‚</span></div></div><div id="eNhrMpUS4gEpvzyp32Y7r1" class="wolai-block wolai-text"><div><span class="inline-wrap">ç¤ºä¾‹</span></div></div><code-block id="6U2LWj98oFgpkXWYnHg3bC" class="wolai-block"><div class="wolai-pre"><div data-lang="Vue" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// è¯»å–ä¸€ä¸ªå­—ç¬¦ä¸²</span>
<span class="token keyword">const</span> msg <span class="token operator">=</span> ref<span class="token operator">&lt;</span>string<span class="token operator">></span><span class="token punctuation">(</span><span class="token string">'Hello World!'</span><span class="token punctuation">)</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span>

<span class="token comment">// è¯»å–ä¸€ä¸ªæ•°ç»„</span>
<span class="token keyword">const</span> uids <span class="token operator">=</span> ref<span class="token operator">&lt;</span>number<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>uids<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></div></code-block></details><details id="uk5mSkwZyudDWZPApavyfW" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å¤åˆ¶</span></summary><code-block id="6z3tqf43n1nwqJuK1Nabc8" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// å£°æ˜ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡</span>
<span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token string">'Hi!'</span><span class="token punctuation">)</span>

<span class="token comment">// ç­‰å¾… 1s åä¿®æ”¹å®ƒçš„å€¼</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  msg<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'Hello!'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span></pre></div></code-block></details><details id="hsHydDj3oCeerfyJantXXt" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ç¤ºä¾‹</span></summary><code-block id="jJuTck1MpdXN23bYKsWLk5" class="wolai-block"><div class="wolai-pre"><div data-lang="Vue" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// å¯¼å…¥ `ref` API</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> ref <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vue'</span>
<span class="token comment">// å¯¼å…¥ `ref` API çš„è¿”å›å€¼ç±»å‹</span>
<span class="token keyword module">import</span> type <span class="token punctuation">{</span> <span class="token maybe-class-name">Ref</span> <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">'vue'</span>

<span class="token comment">// å£°æ˜ `useCalculator` å‡½æ•°çš„è¿”å›å€¼ç±»å‹</span>
<span class="token keyword">interface</span> <span class="token class-name">Calculator</span> <span class="token punctuation">{</span>
  <span class="token comment">// è¿™é‡ŒåŒ…å«äº†ä¸€ä¸ª Ref å˜é‡</span>
  <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token maybe-class-name">Ref</span><span class="token operator">&lt;</span>number<span class="token operator">></span>
  <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token comment">// å£°æ˜ä¸€ä¸ª â€œä½¿ç”¨è®¡ç®—å™¨â€ çš„å‡½æ•°</span>
<span class="token keyword">function</span> <span class="token function">useCalculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">Calculator</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> num <span class="token operator">=</span> ref<span class="token operator">&lt;</span>number<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

  <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    num<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token operator">++</span>
  <span class="token punctuation">}</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
    num<span class="token punctuation">,</span>
    add<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// åœ¨æ‰§è¡Œä½¿ç”¨è®¡ç®—å™¨å‡½æ•°æ—¶ï¼Œå¯ä»¥è·å–åˆ°ä¸€ä¸ª Ref å˜é‡å’Œå…¶ä»–æ–¹æ³•</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> num<span class="token punctuation">,</span> add <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useCalculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span> <span class="token comment">// 1</span></pre></div></code-block></details></details></details><details id="WLX2hxWATAtgPstxTLSxP" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><code>reactive</code></span></summary><aside id="7LSHthYreKnprpANc8ooe4" class="bg-cultured wolai-block"><div data-symbol="ğŸ“Œ" class="icon"></div><span class="inline-wrap">ä¾¦å¬æ­¤å‡½æ•°çš„è¿”å›çš„å˜é‡ï¼Œ</span><span class="red inline-wrap">ä¼š</span><span class="inline-wrap">é»˜è®¤å¼€å¯æ·±åº¦ä¾¦å¬</span></aside><div id="2uzhpSfAbyihb6tNMGroyR" class="wolai-block wolai-text"><div><span class="blue inline-wrap">é€‚ç”¨åœºæ™¯</span><span class="inline-wrap">ï¼šå¼•ç”¨æ•°æ®ç±»å‹</span></div></div><details id="c5VGhp5A9YeqXx9z77wEnS" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ts</span></summary><div id="gdmQChBiEUCaB6qG7FGrLd" class="wolai-block wolai-text"><div><span class="inline-wrap">è¯­æ³•</span></div></div><code-block id="uxTxuRc5iEasUFaU5rdPDm" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">reactive</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> object<span class="token operator">></span></span></span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> UnwrapNestedRefs<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></pre></div></code-block><details id="x2R6UiaS9eSjkCoxep3xFN" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å®šä¹‰ã€è¯»å–ã€èµ‹å€¼</span></summary><aside id="sxtn3fQ6F9DyMNSo4318ic" class="bg-cultured wolai-block"><div data-symbol="ğŸ“Œ" class="icon"></div><span class="inline-wrap">ä¸è¦å¯¹ Reactive æ•°æ®è¿›è¡Œ </span><span class="inline-wrap"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment"><span>ES6 çš„è§£æ„</span></a></span><span class="inline-wrap"> æ“ä½œï¼Œå› ä¸ºè§£æ„åå¾—åˆ°çš„å˜é‡ä¼šå¤±å»å“åº”æ€§ã€‚</span></aside><details id="cNhz7DNnu1jUABWNTKUuhj" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å¯¹è±¡</span></summary><code-block id="f1aqs97QQ81YpbiWGWgU8E" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// å£°æ˜å¯¹è±¡çš„ç±»å‹</span>
<span class="token keyword">interface</span> <span class="token class-name">Member</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">number</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// å®šä¹‰ä¸€ä¸ªå¯¹è±¡</span>
<span class="token keyword">const</span> userInfo<span class="token operator">:</span> Member <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// è¯»å–ç”¨æˆ·å</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

<span class="token comment">// ä¿®æ”¹ç”¨æˆ·å</span>
userInfo<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Petter'</span></pre></div></code-block></details><details id="fH9e8jbFBoLNoTD9xyjRy5" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">æ•°ç»„</span></summary><aside id="epD2cmsU2GsKytFyjxrtzi" class="bg-cultured wolai-block"><div data-symbol="ğŸ“Œ" class="icon"></div><span class="inline-wrap">èµ‹å€¼ä¸ºç©ºï¼Œä¼šå¯¼è‡´å¤±å»å“åº”å¼</span></aside><code-block id="aJJS4h8BBpp9XTHY46eSRg" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// å®šä¹‰ä¸€ä¸ªæ™®é€šæ•°ç»„</span>
<span class="token keyword">let</span> uids<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment">// ä»å¦å¤–ä¸€ä¸ªå¯¹è±¡æ•°ç»„é‡Œæå–æ•°æ®è¿‡æ¥</span>
uids <span class="token operator">=</span> api<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=></span> item<span class="token punctuation">.</span>id<span class="token punctuation">)</span>

<span class="token comment">// åˆå¹¶å¦å¤–ä¸€ä¸ªæ•°ç»„</span>
<span class="token keyword">let</span> newUids<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
uids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>uids<span class="token punctuation">,</span> <span class="token operator">...</span>newUids<span class="token punctuation">]</span>

<span class="token comment">// é‡ç½®æ•°ç»„ï¼Œä¼šå¯¼è‡´å¤±å»å“åº”å¼</span>
uids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token comment">// é‡ç½®æ•°ç»„ï¼Œä¸ç ´åå“åº”å¼</span>
uids<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span>
</pre></div></code-block></details><details id="9j14AyaPC18KxnNM6vfibj" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å¯¹è±¡æ•°ç»„</span></summary><div class="block-ref"><div class="decorator"></div><aside id="epD2cmsU2GsKytFyjxrtzi" class="bg-cultured wolai-block"><div data-symbol="ğŸ“Œ" class="icon"></div><span class="inline-wrap">èµ‹å€¼ä¸ºç©ºï¼Œä¼šå¯¼è‡´å¤±å»å“åº”å¼</span></aside></div><code-block id="6v2TbSPWMipEFpKgheNkyu" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// å¯¹è±¡æ•°ç»„ä¹Ÿæ˜¯å…ˆå£°æ˜å…¶ä¸­çš„å¯¹è±¡ç±»å‹</span>
<span class="token keyword">interface</span> <span class="token class-name">Member</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">number</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// å†å®šä¹‰ä¸€ä¸ªä¸ºå¯¹è±¡æ•°ç»„</span>
<span class="token keyword">const</span> userList<span class="token operator">:</span> Member<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'Petter'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'Andy'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// é‡ç½®å¯¹è±¡æ•°ç»„ï¼Œä¼šå¯¼è‡´å¤±å»å“åº”å¼</span>
userList <span class="token operator">=</span> Member<span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token comment">// é‡ç½®å¯¹è±¡æ•°ç»„ï¼Œä¸ç ´åå“åº”å¼</span>
userList<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span></pre></div></code-block></details></details></details></details></details><details id="biTpnSh7rjKVW8apNbZbDM" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">è½¬æ¢<span class="jill"></span>API</span></summary><details id="duU6ntzuT17PAXiwTo4AHS" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><code>toRef</code></span></summary><div id="hZRTHcwLvQwNzm81KQpiwF" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯´æ˜</span><span class="inline-wrap">ï¼šç”¨äº </span><span class="inline-wrap"><code>reactive</code></span><span class="inline-wrap"> å‘ </span><span class="inline-wrap"><code>ref</code></span><span class="inline-wrap"> è½¬æ¢</span></div></div><div id="w1fMGkETsYmsLa3Mfxghj3" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ä½œç”¨</span><span class="inline-wrap">ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ Ref å˜é‡ï¼Œè½¬æ¢ Reactive å¯¹è±¡çš„æŸä¸ªå­—æ®µä¸º Ref å˜é‡ï¼Œå¹¶ä¸”æ–°å˜é‡å’ŒåŸæ¥çš„å˜é‡å¯ä»¥ä¿æŒåŒæ­¥æ›´æ–°ã€‚</span></div></div><details id="j2FnzzpDhzLyvNryhxW5Fk" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ts</span></summary><details id="ikaS2YeuZeZyZjbbs6ZmCJ" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">è¯­æ³•</span></summary><div id="qdkqBEWXUkDXmyyzFFfy6e" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯´æ˜</span><span class="inline-wrap">ï¼šé€šè¿‡æ¥æ”¶ä¸¤ä¸ªå¿…ä¼ çš„å‚æ•°ï¼ˆç¬¬ä¸€ä¸ªæ˜¯ </span><span class="inline-wrap"><code>reactive</code></span><span class="inline-wrap"> å¯¹è±¡, ç¬¬äºŒä¸ªæ˜¯è¦è½¬æ¢çš„ </span><span class="inline-wrap"><code>key</code></span><span class="inline-wrap"> ï¼‰ï¼Œè¿”å›ä¸€ä¸ª Ref å˜é‡ï¼Œåœ¨é€‚å½“çš„æ—¶å€™ä¹Ÿå¯ä»¥ä¼ é€’ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œä¸ºè¯¥å˜é‡è®¾ç½®é»˜è®¤å€¼ã€‚</span></div></div><div id="hidaYyt4LLLefAswRrUtZQ" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ä½¿ç”¨åœºæ™¯</span><span class="inline-wrap">ï¼šæœ€å¥½åªåœ¨åŠŸèƒ½å•ä¸€ã€ä»£ç é‡å°‘çš„ç»„ä»¶é‡Œä½¿ç”¨ï¼Œæ¯”å¦‚ä¸€ä¸ªè¡¨å•ç»„ä»¶ï¼Œé€šå¸¸è¡¨å•çš„æ•°æ®éƒ½æ”¾åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œã€‚</span></div></div><div id="wfF4WUuruvZDRJzFFbdjvy" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>toRef</code></span><span class="inline-wrap"> API çš„ TS ç±»å‹</span></div></div><code-block id="gqjEP4rhKGXFywmzxdcu8t" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">toRef</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> object<span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>
  object<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span>
  key<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">,</span>
  defaultValue<span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token operator">:</span> ToRef<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">></span>
</pre></div></code-block><div id="dY9svocNHBHoq4yQwHFkg5" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>toRef</code></span><span class="inline-wrap"> API çš„è¿”å›å€¼çš„ TS ç±»å‹</span></div></div><code-block id="bRuwjLmCqEzvQbTd33WhJ2" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">type</span> <span class="token class-name">ToRef<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Ref</span> <span class="token operator">?</span> <span class="token constant">T</span> <span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></pre></div></code-block></details><details id="5DHgT7PLERckpQFj3tJTMG" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å®šä¹‰</span></summary><details id="945WjfJRtJG6mvN1ZicdJp" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">é»˜è®¤å€¼</span></summary><aside id="cxSajrUZmusSVMAf35DsE2" class="bg-cultured wolai-block"><div data-symbol="ğŸ“Œ" class="icon"></div><span class="inline-wrap">å¦‚æœ Reactive å¯¹è±¡ä¸Šæœ‰ä¸€ä¸ªå±æ€§æœ¬èº«æ²¡æœ‰åˆå§‹å€¼ï¼Œä¹Ÿå¯ä»¥ä¼ é€’ç¬¬ä¸‰ä¸ªå‚æ•°è¿›è¡Œè®¾ç½®ï¼ˆé»˜è®¤å€¼ä»…å¯¹ Ref å˜é‡æœ‰æ•ˆï¼‰ï¼š</span></aside><code-block id="kGmr1Qe6t3V6tHWqeyY2L6" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">interface</span> <span class="token class-name">Member</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">number</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">// ç±»å‹ä¸Šæ–°å¢ä¸€ä¸ªå±æ€§ï¼Œå› ä¸ºæ˜¯å¯é€‰çš„ï¼Œå› æ­¤é»˜è®¤å€¼ä¼šæ˜¯ `undefined`</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token comment">// å£°æ˜å˜é‡æ—¶çœç•¥ `age` å±æ€§</span>
<span class="token keyword">const</span> userInfo<span class="token operator">:</span> Member <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'Petter'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// æ­¤æ—¶ä¸ºäº†é¿å…ç¨‹åºè¿è¡Œé”™è¯¯ï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ªåˆå§‹å€¼</span>
<span class="token comment">// ä½†åˆå§‹å€¼ä»…å¯¹ Ref å˜é‡æœ‰æ•ˆï¼Œä¸ä¼šå½±å“ Reactive å­—æ®µçš„å€¼</span>
<span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">.</span>value<span class="token punctuation">)</span>  <span class="token comment">// 18</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// undefined</span>

<span class="token comment">// é™¤éé‡æ–°èµ‹å€¼ï¼Œæ‰ä¼šä½¿ä¸¤è€…åŒæ—¶æ›´æ–°</span>
age<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">25</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">.</span>value<span class="token punctuation">)</span>  <span class="token comment">// 25</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 25</span></pre></div></code-block></details><details id="qcFkmWLwVoTj58NRqZ2aRZ" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">æ¥å£</span></summary><code-block id="8NnPhGKQwT7vuYjWwve4nU" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// å£°æ˜ä¸€ä¸ªæ¥å£</span>
<span class="token keyword">interface</span> <span class="token class-name">Member</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">number</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// å®šä¹‰ä¸€ä¸ªreactiveå˜é‡çš„Memberæ¥å£</span>
<span class="token keyword">const</span> userInfo<span class="token operator">:</span> Member <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'Petter'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token comment">// ç»è¿‡toRef()åï¼Œnameçš„ç±»å‹æ˜¯ Ref&lt;string> </span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// Petter</span></pre></div></code-block></details><details id="dR5qwCjqmUUF22gj44oxLw" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">æ•°ç»„</span></summary><code-block id="5PDDA4kMrYjwzRyAoKMgt4" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// å£°æ˜reactiveå˜é‡çš„æ•°ç»„</span>
<span class="token keyword">const</span> words <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// é€šè¿‡ä¸‹æ ‡ `0` è½¬æ¢ç¬¬ä¸€ä¸ª item</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>words<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// a</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>words<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// a</span>

<span class="token comment">// é€šè¿‡ä¸‹æ ‡ `2` è½¬æ¢ç¬¬ä¸‰ä¸ª item</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>words<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// c</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>words<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// c</span></pre></div></code-block></details><details id="4ksWkHqfpir7ZVc8MttX83" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">åŸ </span><span class="inline-wrap"><code>key</code></span><span class="inline-wrap">ä¸å­˜åœ¨</span></summary><div id="cjeUpschjtLUyHKWdk8gmZ" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯´æ˜</span><span class="inline-wrap">ï¼šåœ¨ </span><span class="inline-wrap"><code>toRef</code></span><span class="inline-wrap"> çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœä½¿ç”¨äº†åŸå¯¹è±¡ä¸Šé¢ä¸å­˜åœ¨çš„ </span><span class="inline-wrap"><code>key</code></span><span class="inline-wrap"> ï¼Œé‚£ä¹ˆå®šä¹‰å‡ºæ¥çš„ Ref å˜é‡çš„ </span><span class="inline-wrap"><code>.value</code></span><span class="inline-wrap"> å€¼å°†ä¼šæ˜¯ </span><span class="inline-wrap"><code>undefined</code></span><span class="inline-wrap"> ã€‚åŒæ—¶å¯¹è¿™ä¸ªä¸å­˜åœ¨</span><span class="inline-wrap"><code>key</code></span><span class="inline-wrap">çš„<span class="jill"></span>Ref<span class="jill"></span>å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œé‚£ä¹ˆåŸæ¥çš„<span class="jill"></span>Reactive å¯¹è±¡ä¹Ÿä¼šåŒæ­¥å¢åŠ è¿™ä¸ª </span><span class="inline-wrap"><code>key</code></span><span class="inline-wrap">ï¼Œå…¶å€¼ä¹Ÿä¼šåŒæ­¥æ›´æ–°ã€‚ç„¶è€Œè¿™åœ¨ç¼–è¯‘æ— æ³•é€šè¿‡<span class="jill"></span>TS<span class="jill"></span>çš„ç±»å‹æ£€æŸ¥ã€‚å¦‚æœä¸€å®šè¦ä½¿ç”¨è¿™ç§æƒ…å†µï¼Œå¯ä»¥è€ƒè™‘ any ç±»å‹</span></div></div><code-block id="dzDD9j8X79TqEbLautnewR" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// å°†è¯¥ç±»å‹ç›´æ¥æŒ‡å®šä¸º `any`</span>
<span class="token keyword">type</span> <span class="token class-name">Member</span> <span class="token operator">=</span> <span class="token builtin">any</span>
<span class="token comment">// å½“ç„¶ä¸€èˆ¬éƒ½æ˜¯ `const userInfo: any`</span>

<span class="token comment">// æˆ–è€…ä¿æŒæ¥å£ç±»å‹çš„æƒ…å†µä¸‹ï¼Œå…è®¸ä»»æ„é”®å€¼</span>
<span class="token keyword">interface</span> <span class="token class-name">Member</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä½¿ç”¨ `Record` ä¹Ÿæ˜¯åŒç†</span>
<span class="token keyword">type</span> <span class="token class-name">Member</span> <span class="token operator">=</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">></span></pre></div></code-block></details></details></details></details><details id="8mQ3SDyP3Tn1X66GaqtYiL" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><code>toRefs</code></span></summary><div class="block-ref"><div class="decorator"></div><div id="hZRTHcwLvQwNzm81KQpiwF" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯´æ˜</span><span class="inline-wrap">ï¼šç”¨äº </span><span class="inline-wrap"><code>reactive</code></span><span class="inline-wrap"> å‘ </span><span class="inline-wrap"><code>ref</code></span><span class="inline-wrap"> è½¬æ¢</span></div></div></div><div id="9xHRrg29PdjpG1r3ykpsXd" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ä½œç”¨</span><span class="inline-wrap">ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå®ƒçš„æ¯ä¸ªå­—æ®µéƒ½æ˜¯ Reactive å¯¹è±¡å„ä¸ªå­—æ®µçš„ Ref å˜é‡ï¼Œå¹¶ä¸”æ–°å˜é‡ä»¥åŠè§£æ„åå’ŒåŸæ¥çš„å˜é‡å¯ä»¥ä¿æŒåŒæ­¥æ›´æ–°ã€‚</span></div></div><div id="c3dgfXYmDQLRTwzBKfyUK1" class="wolai-block wolai-text"><div><span class="blue inline-wrap">ä½¿ç”¨åœºæ™¯</span><span class="inline-wrap">ï¼šæœ€å¥½åªåœ¨åŠŸèƒ½å•ä¸€ã€ä»£ç é‡å°‘çš„ç»„ä»¶é‡Œä½¿ç”¨ï¼Œæ¯”å¦‚ä¸€ä¸ªè¡¨å•ç»„ä»¶ï¼Œé€šå¸¸è¡¨å•çš„æ•°æ®éƒ½æ”¾åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œã€‚</span></div></div><details id="kSjfoMXnyUjCWV1rd4fxRn" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ts</span></summary><details id="4ae5G46aD9FWF9Awh3w3Ac" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">è¯­æ³•</span></summary><div id="fRb4Rrqgg4SrytHQysYg26" class="wolai-block wolai-text"><div><span class="blue inline-wrap">è¯´æ˜</span><span class="inline-wrap">ï¼š</span><span class="inline-wrap"><code>toRefs</code></span><span class="inline-wrap"> åªæ¥æ”¶äº†ä¸€ä¸ªå‚æ•°ï¼Œæ˜¯ä¸€ä¸ª </span><span class="inline-wrap"><code>reactive</code></span><span class="inline-wrap"> å˜é‡ã€‚</span></div></div><div id="q8EcpVXZg6CtaN1wYTz2BV" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>toRefs</code></span><span class="inline-wrap"> API çš„ TS ç±»å‹</span></div></div><code-block id="dMchMUGHcXEKPHjhdDFnJc" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">toRefs</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> object<span class="token operator">></span></span></span><span class="token punctuation">(</span>
  object<span class="token operator">:</span> <span class="token constant">T</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> ToRef<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">></span>
<span class="token punctuation">}</span></pre></div></code-block><div id="b28s1tApHKzRqcKvzwG5Z" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>toRefs</code></span><span class="inline-wrap"> API çš„è¿”å›å€¼çš„ TS ç±»å‹</span></div></div><code-block id="uvdh65rcgM8zGCg3NVLbTK" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">type</span> <span class="token class-name">ToRef</span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Ref</span> <span class="token operator">?</span> <span class="token constant">T</span> <span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></pre></div></code-block></details><details id="vPXgjTdT8rw4Pm7wMighdM" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å®šä¹‰</span></summary><details id="3pSaaUYuqXuyL85bEh8YPG" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">å¯¹è±¡</span></summary><code-block id="q5iJtUrJusmtaEjgVqwyHT" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// å¯¼å…¥ `toRefs` API çš„ç±»å‹</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">interface</span> <span class="token class-name">Member</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">number</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// å£°æ˜ä¸€ä¸ª Reactive å˜é‡</span>
<span class="token keyword">const</span> userInfo<span class="token operator">:</span> Member <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'Petter'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// ä¼ ç»™ `toRefs` ä½œä¸ºå…¥å‚</span>
<span class="token keyword">const</span> userInfoRefs <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">)</span>
<span class="token comment">// const userInfoRefs: ToRefs&lt;Member> = toRefs(userInfo)</span></pre></div></code-block><div id="jaj5r1nrE3ApRvu1GG6g29" class="wolai-block wolai-text"><div><span class="inline-wrap">ä½¿ç”¨æ–°çš„ç±»å‹</span></div></div><code-block id="6pd1KD1QedPmJF1Y3Etkks" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">// å¯¼å…¥ `toRefs` API çš„ç±»å‹</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">interface</span> <span class="token class-name">Member</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">number</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ–°å£°æ˜çš„ç±»å‹æ¯ä¸ªå­—æ®µéƒ½æ˜¯ä¸€ä¸ª Ref å˜é‡çš„ç±»å‹</span>
<span class="token keyword">interface</span> <span class="token class-name">MemberRefs</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span>
  name<span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span>
<span class="token punctuation">}</span>

<span class="token comment">// å£°æ˜ä¸€ä¸ª Reactive å˜é‡</span>
<span class="token keyword">const</span> userInfo<span class="token operator">:</span> Member <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'Petter'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// ä½¿ç”¨æ–°çš„ç±»å‹è¿›è¡Œå£°æ˜</span>
<span class="token keyword">const</span> userInfoRefs<span class="token operator">:</span> MemberRefs <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">)</span></pre></div></code-block></details><details id="hGQbo2PaadJRHvhte1gBxD" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">æ•°ç»„</span></summary><div id="g7xCrvrL4CntqRbzMBhk5e" class="wolai-block wolai-text"><div><span class="inline-wrap">æ­¤æ—¶æ–°æ•°ç»„çš„ç±»å‹æ˜¯ </span><span class="inline-wrap"><code>Ref&lt;string&gt;[]</code></span><span class="inline-wrap"> ï¼Œä¸å†æ˜¯åŸæ¥çš„ </span><span class="inline-wrap"><code>string[]</code></span><span class="inline-wrap"> ç±»å‹ã€‚</span></div></div><code-block id="ncRnKgTYabhNGwmr8YgjYz" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">const</span> words <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> wordsRefs <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span></pre></div></code-block></details></details><details id="tE5of3nPudm66cGp7m5iL4" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">ç¤ºä¾‹</span></summary><div id="i5MQcq2kuCPE9YXQoSGpC4" class="wolai-block wolai-text"><div><span class="inline-wrap">åœ¨ </span><span class="inline-wrap"><code>&lt;script /&gt;</code></span><span class="inline-wrap"> éƒ¨åˆ†ï¼š</span></div></div><ol class="wolai-block"><li id="n2KR6dMnbwgszLBYy16gRH"><div class="marker"></div><span class="inline-wrap">å…ˆç”¨ </span><span class="inline-wrap"><code>reactive</code></span><span class="inline-wrap"> å®šä¹‰ä¸€ä¸ªæºæ•°æ®ï¼Œæ‰€æœ‰çš„æ•°æ®æ›´æ–°ï¼Œéƒ½æ˜¯ä¿®æ”¹è¿™ä¸ªå¯¹è±¡å¯¹åº”çš„å€¼ï¼ŒæŒ‰ç…§å¯¹è±¡çš„å†™æ³•ç»´æŠ¤æ•°æ®</span></li><li id="oCbzXvwxTJ9n3x6moa64Bs"><div class="marker"></div><span class="inline-wrap">å†é€šè¿‡ </span><span class="inline-wrap"><code>toRefs</code></span><span class="inline-wrap"> å®šä¹‰ä¸€ä¸ªç»™ </span><span class="inline-wrap"><code>&lt;template /&gt;</code></span><span class="inline-wrap"> ä½¿ç”¨çš„å¯¹è±¡ï¼Œè¿™æ ·å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ¯ä¸ªå­—æ®µéƒ½æ˜¯ Ref å˜é‡çš„æ–°å¯¹è±¡</span></li><li id="211QkVceozpHtrwRzgJGZ2"><div class="marker"></div><span class="inline-wrap">åœ¨ </span><span class="inline-wrap"><code>return</code></span><span class="inline-wrap"> çš„æ—¶å€™ï¼Œå¯¹æ­¥éª¤ 2 é‡Œçš„ </span><span class="inline-wrap"><code>toRefs</code></span><span class="inline-wrap"> å¯¹è±¡è¿›è¡Œè§£æ„ï¼Œè¿™æ ·å¯¼å‡ºå»å°±æ˜¯å„ä¸ªå­—æ®µå¯¹åº”çš„ Ref å˜é‡ï¼Œè€Œä¸æ˜¯ä¸€æ•´ä¸ªå¯¹è±¡</span></li></ol><code-block id="q5xRm5jEi9BTGeKHkCH43A" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">interface</span> <span class="token class-name">Member</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">number</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
  gender<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å®šä¹‰ä¸€ä¸ª reactive å¯¹è±¡</span>
    <span class="token keyword">const</span> userInfo <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'Petter'</span><span class="token punctuation">,</span>
      age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
      gender<span class="token operator">:</span> <span class="token string">'male'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// å®šä¹‰ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå®ƒæœ¬èº«ä¸å…·å¤‡å“åº”æ€§ï¼Œä½†æ˜¯å®ƒçš„å­—æ®µå…¨éƒ¨æ˜¯ Ref å˜é‡</span>
    <span class="token keyword">const</span> userInfoRefs <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">)</span>

    <span class="token comment">// åœ¨ 2s åæ›´æ–° `userInfo`</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      userInfo<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">2</span>
      userInfo<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Tom'</span>
      userInfo<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>

    <span class="token comment">// åœ¨è¿™é‡Œè§£æ„ `toRefs` å¯¹è±¡æ‰èƒ½ç»§ç»­ä¿æŒå“åº”æ€§</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>userInfoRefs<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></div></code-block><div id="vgWKRyToVWmAecpXHr4u3A" class="wolai-block wolai-text"><div><span class="inline-wrap">åœ¨ </span><span class="inline-wrap"><code>&lt;template /&gt;</code></span><span class="inline-wrap"> éƒ¨åˆ†ï¼šç”±äº </span><span class="inline-wrap"><code>return</code></span><span class="inline-wrap"> å‡ºæ¥çš„éƒ½æ˜¯ Ref å˜é‡ï¼Œæ‰€ä»¥åœ¨æ¨¡æ¿é‡Œå¯ä»¥ç›´æ¥ä½¿ç”¨ </span><span class="inline-wrap"><code>userInfo</code></span><span class="inline-wrap"> å„ä¸ªå­—æ®µçš„ </span><span class="inline-wrap"><code>key</code></span><span class="inline-wrap"> ï¼Œä¸å†éœ€è¦å†™å¾ˆé•¿çš„ </span><span class="inline-wrap"><code>userInfo.name</code></span><span class="inline-wrap"> äº†ã€‚</span></div></div><code-block id="uBZ3EoGYja1Asvx52Ga6rp" class="wolai-block"><div class="wolai-pre"><div data-lang="Vue" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token operator">&lt;</span>template<span class="token operator">></span>
  <span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"user-info"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"item"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"key"</span><span class="token operator">></span><span class="token constant">ID</span><span class="token operator">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"value"</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span> id <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>

    <span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"item"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"key"</span><span class="token operator">></span>name<span class="token operator">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"value"</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>

    <span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"item"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"key"</span><span class="token operator">></span>age<span class="token operator">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"value"</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span> age <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>

    <span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"item"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"key"</span><span class="token operator">></span>gender<span class="token operator">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"value"</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span> gender <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span></pre></div></code-block></details><div id="vQHtTTDiCuqaPsVSP1166j" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div></details></details></details></details><div id="vXE1gVPNmBHT9yAGcawsrz" class="wolai-block wolai-text"><div></div></div></details></article><footer></footer></body></html>