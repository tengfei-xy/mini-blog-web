<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../css/wolai.css"/><title>FAT12文件系统 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body class="full-width small-font less-lead"><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="FAT12文件系统" class="main-title"></div></div></header><article><blockquote id="v8sRnZsSZARu2HY4bVGU7m" class="wolai-block"><span class="inline-wrap">参考链接:
</span><span class="inline-wrap"><a href="https://academy.cba.mit.edu/classes/networking_communications/SD/FAT.pdf"><span>https://academy.cba.mit.edu/classes/networking_communications/SD/FAT.pdf</span></a></span><span class="inline-wrap">
</span><span class="inline-wrap"><a href="https://zhuanlan.zhihu.com/p/121807427"><span>https://zhuanlan.zhihu.com/p/121807427</span></a></span></blockquote><div id="haz7oHZKM3BydbAja6EkrB" class="wolai-block wolai-text"><div><span class="inline-wrap">专门为<span class="jill"></span>1.44MB<span class="jill"></span>的软盘设计的，不区分大小写</span></div></div><h1 id="uqeU8utTbHftdfqYn1eFvo" class="wolai-block"><span class="inline-wrap">文件结构分配图</span><div id="hnQB88veEsHZdddbgELfNF" class="wolai-block"><figure class="wolai-left" style="width: 699px; flex-direction: column"><img src="media/image.png" style="width: 100%"/></figure></div></h1><div id="mwKQWjVMVH3YDegLJfmnGy" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><h1 id="kX2ivPNMAoX7Kqk2mzxuzW" class="wolai-block"><span class="inline-wrap">扇区</span><div id="vMsYi1rdgafZuAwb6wWm9D" class="wolai-block wolai-text"><div><span class="inline-wrap">单扇区大小：512B</span></div></div><div id="eWrKbA6KfpCTb9Pb5onEt4" class="wolai-block wolai-text"><div><span class="inline-wrap">FAT12<span class="jill"></span>系统总扇区数：2880<span class="jill"></span>个=1.44MB / 512B</span></div></div><div id="5fZY63V5NC2j3dMBBNq7n9" class="wolai-block wolai-text"><div><span class="inline-wrap">单扇区目录数:512B/32B=16d=10h<span class="jill"></span>个目录</span></div></div></h1><h1 id="rHGzNvcKXhHxp9DpFgq5Qh" class="wolai-block"><span class="inline-wrap">簇</span><div id="u4NNx3GN7my9FGfWM85qfX" class="wolai-block wolai-text"><div><span class="inline-wrap">说明：FAT12<span class="jill"></span>文件系统以簇为单位来分配数据区的存储空间(扇区)，簇将<span class="jill"></span>2<span class="jill"></span>的整数次方个扇区作为一个“原子”数据存储单元。</span></div></div><div id="9CprYdqU7NFDjVdm7iasHN" class="wolai-block wolai-text"><div><span class="inline-wrap">定义：簇是<span class="jill"></span>FAT<span class="jill"></span>类文件系统的最小数据存储单位。</span><span class="inline-wrap">每<span class="jill"></span>12<span class="jill"></span>个字节为一个簇（因此是<span class="jill"></span>FAT12<span class="jill"></span>名称的来源）</span></div></div><div id="v3yDm1BpGRwL9Du8WSEeU6" class="wolai-block wolai-text"><div><span class="inline-wrap">长度：BPB_BytesPreSec(每扇区字节数) * BPB_SecPerClus(</span><span class="inline-wrap">每簇扇区数</span><span class="inline-wrap">) 个字节</span></div></div><div id="mkTMjk2M1en4gQyFyF8X3w" class="wolai-block wolai-text"><div><span class="inline-wrap">内容：12<span class="jill"></span>个二进制数字表示这个簇指向的下一个簇，这就形成了一个链表，链表的空指针<span class="jill"></span>NULL（结尾标志），使用<span class="jill"></span>0xFFF<span class="jill"></span>表示。
作用：每个簇映射到一个扇区上。</span></div></div><div id="iP7K1NFShr5kRe1NtupTxn" class="wolai-block wolai-text"><div><span class="inline-wrap">注意：即使文件的长度只有一个字节，FAT12<span class="jill"></span>文件系统也会为它分配一个簇的磁盘存储空间。 </span></div></div></h1><div id="pUozDLjbr6BDDodxNxVXj9" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><h1 id="4o5FeRcMe6Mxy8q46xYpWd" class="wolai-block"><span class="inline-wrap">引导扇区</span><details id="rkk4eDXJYUqKc3gLy77SrV" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">包含</span></summary><div id="6m6xJk67BgDQEDujryPn7X" class="wolai-block wolai-text"><div><span class="inline-wrap">引导程序、文件系统的组成结构信息（对磁盘扇区的管理情况）</span></div></div></details><details id="qoEm533tshS5VS4T639RFw" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">表格</span></summary><div id="ghXQa7admBQCHuAmVXK7G6" class="wolai-block wolai-simple-table"><table><tbody><tr><td style="width: 149px"><span class="inline-wrap">名称</span></td><td style="width: 52px"><span class="inline-wrap">偏移</span></td><td style="width: 90px"><span class="inline-wrap">长度(字节)</span></td><td style="width: 183px"><span class="inline-wrap">内容</span></td><td style="width: 100px"><span class="inline-wrap">数据</span></td><td style="width: 217px"><span class="inline-wrap">备注</span></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BS_jmpBoot</span></td><td style="width: 52px"><span class="inline-wrap">0</span></td><td style="width: 90px"><span class="inline-wrap">3</span></td><td style="width: 183px"><span class="inline-wrap">跳转指令</span></td><td style="width: 100px"><span class="inline-wrap">jump short Label_Start nop</span></td><td style="width: 217px"><span class="inline-wrap"></span><br/></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BS_OEMName</span></td><td style="width: 52px"><span class="inline-wrap">3</span></td><td style="width: 90px"><span class="inline-wrap">8</span></td><td style="width: 183px"><span class="inline-wrap">生产厂商名</span></td><td style="width: 100px"><span class="inline-wrap">&#39;MINEboot&#39;</span></td><td style="width: 217px"><span class="inline-wrap">自行为文件系统命名</span></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BPB_BytesPreSec</span></td><td style="width: 52px"><span class="inline-wrap">11</span></td><td style="width: 90px"><span class="inline-wrap">2</span></td><td style="width: 183px"><span class="inline-wrap">每扇区字节数</span></td><td style="width: 100px"><span class="inline-wrap">512</span></td><td style="width: 217px"><span class="inline-wrap"></span><br/></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BPB</span><span class="inline-wrap">_SecPerClus</span></td><td style="width: 52px"><span class="inline-wrap">13</span></td><td style="width: 90px"><span class="inline-wrap">1</span></td><td style="width: 183px"><span class="inline-wrap">每簇扇区数</span></td><td style="width: 100px"><span class="inline-wrap">1</span></td><td style="width: 217px"><span class="inline-wrap">由于每个扇区的容量只有<span class="jill"></span>512B，过小的扇区容量可能会导致软盘读写次数过于频繁，从而引入簇(Cluster)这个概念。簇将<span class="jill"></span>2<span class="jill"></span>的整数次方个扇区作为一个“原子”数据存储单元，也就是说簇是<span class="jill"></span>FAT<span class="jill"></span>类文件系统的最小数据存储单位。</span></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BPB</span><span class="inline-wrap">_RsvdSeCnt</span></td><td style="width: 52px"><span class="inline-wrap">14</span></td><td style="width: 90px"><span class="inline-wrap">2</span></td><td style="width: 183px"><span class="inline-wrap">保留扇区数</span></td><td style="width: 100px"><span class="inline-wrap">1</span></td><td style="width: 217px"><span class="inline-wrap">此域值不能为<span class="jill"></span>0。保留扇区起始于<span class="jill"></span>FAT12<span class="jill"></span>文件系统的第一个扇区，对于<span class="jill"></span>FAT12<span class="jill"></span>而言此位必须为<span class="jill"></span>1，也就意味着引导扇区包含在保留扇区内，所以<span class="jill"></span>FAT<span class="jill"></span>表从软盘的第二个扇区开始</span></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BPB</span><span class="inline-wrap">_NumFats</span></td><td style="width: 52px"><span class="inline-wrap">16</span></td><td style="width: 90px"><span class="inline-wrap">1</span></td><td style="width: 183px"><span class="inline-wrap">FAT<span class="jill"></span>表的份数</span></td><td style="width: 100px"><span class="inline-wrap">2</span></td><td style="width: 217px"><span class="inline-wrap">指定<span class="jill"></span>FAT12<span class="jill"></span>文件系统中<span class="jill"></span>FAT<span class="jill"></span>表的份数，任何<span class="jill"></span>FAT<span class="jill"></span>类文件系统都建议此域设置为<span class="jill"></span>2。设置为<span class="jill"></span>2<span class="jill"></span>主要是为了给<span class="jill"></span>FAT<span class="jill"></span>表准备一个备份表，因此<span class="jill"></span>FAT<span class="jill"></span>表<span class="jill"></span>1<span class="jill"></span>与<span class="jill"></span>FAT<span class="jill"></span>表<span class="jill"></span>2<span class="jill"></span>内的数据是一样的，FAT<span class="jill"></span>表<span class="jill"></span>2<span class="jill"></span>是<span class="jill"></span>FAT<span class="jill"></span>表<span class="jill"></span>1<span class="jill"></span>的数据备份表。</span></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BPB</span><span class="inline-wrap">_RootEntCnt</span></td><td style="width: 52px"><span class="inline-wrap">17</span></td><td style="width: 90px"><span class="inline-wrap">2</span></td><td style="width: 183px"><span class="inline-wrap">根目录可容纳的目录项数</span></td><td style="width: 100px"><span class="inline-wrap">224</span></td><td style="width: 217px"><span class="inline-wrap">指定根目录可容纳的目录项数。对于<span class="jill"></span>FAT12<span class="jill"></span>文件系统而言，这个数值乘以<span class="jill"></span>32<span class="jill"></span>必须是<span class="jill"></span>BPB_BytesPerSec<span class="jill"></span>的偶数倍。224*32=512*14</span></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BPB_TotSec16</span></td><td style="width: 52px"><span class="inline-wrap">19</span></td><td style="width: 90px"><span class="inline-wrap">2</span></td><td style="width: 183px"><span class="inline-wrap">总扇区数</span></td><td style="width: 100px"><span class="inline-wrap">2880</span></td><td style="width: 217px"><span class="inline-wrap">这里的总扇区数包括保留扇区(内含引导扇区)、FAT<span class="jill"></span>表、根目录区以及数据区占用的全部扇区数，如果此域值为<span class="jill"></span>0，那么<span class="jill"></span>BPB_TotSec32<span class="jill"></span>字段必须是非<span class="jill"></span>0<span class="jill"></span>值。</span></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BPB_Media</span></td><td style="width: 52px"><span class="inline-wrap">21</span></td><td style="width: 90px"><span class="inline-wrap">1</span></td><td style="width: 183px"><span class="inline-wrap">介质描述符</span></td><td style="width: 100px"><span class="inline-wrap">0xF0</span></td><td style="width: 217px"><span class="inline-wrap">对于不可移动的存储介质而言，标准值是<span class="jill"></span>0xF8。对于可移动的存储介质，常用值为<span class="jill"></span>0xF0，此域的合法值是<span class="jill"></span>0x8、0xF9、0xF0、0xFA、0xFB、0xFC、0xFD、0xFE、0xFF。另外提醒一点，无论该字段写入了什么数值，同时也必须向<span class="jill"></span>FAT[0]的低字节写入相同值。</span></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BPB_FATSz16</span></td><td style="width: 52px"><span class="inline-wrap">22</span></td><td style="width: 90px"><span class="inline-wrap">2</span></td><td style="width: 183px"><span class="inline-wrap">每<span class="jill"></span>FAT<span class="jill"></span>扇区数</span></td><td style="width: 100px"><span class="inline-wrap">9</span></td><td style="width: 217px"><span class="inline-wrap">FAT<span class="jill"></span>表<span class="jill"></span>1<span class="jill"></span>和<span class="jill"></span>FAT<span class="jill"></span>表<span class="jill"></span>2<span class="jill"></span>拥有相同的容量，它们的容量均由此值记录。</span></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BPB</span><span class="inline-wrap">_SecPerTrk</span></td><td style="width: 52px"><span class="inline-wrap">24</span></td><td style="width: 90px"><span class="inline-wrap">2</span></td><td style="width: 183px"><span class="inline-wrap">每磁道扇区数</span></td><td style="width: 100px"><span class="inline-wrap">18</span></td><td style="width: 217px"><span class="inline-wrap"></span><br/></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BPB</span><span class="inline-wrap">_NumHeads</span></td><td style="width: 52px"><span class="inline-wrap">26</span></td><td style="width: 90px"><span class="inline-wrap">2</span></td><td style="width: 183px"><span class="inline-wrap">磁头数</span></td><td style="width: 100px"><span class="inline-wrap">2</span></td><td style="width: 217px"><span class="inline-wrap"></span><br/></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BPB</span><span class="inline-wrap">_HiddSec</span></td><td style="width: 52px"><span class="inline-wrap">28</span></td><td style="width: 90px"><span class="inline-wrap">4</span></td><td style="width: 183px"><span class="inline-wrap">隐藏扇区数</span></td><td style="width: 100px"><span class="inline-wrap">0</span></td><td style="width: 217px"><span class="inline-wrap"></span><br/></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BPB</span><span class="inline-wrap">_TotSec32</span></td><td style="width: 52px"><span class="inline-wrap">32</span></td><td style="width: 90px"><span class="inline-wrap">4</span></td><td style="width: 183px"><span class="inline-wrap">如果<span class="jill"></span>BPB_TotSec16=0,则由这个值记录扇区数</span></td><td style="width: 100px"><span class="inline-wrap">0</span></td><td style="width: 217px"><span class="inline-wrap"></span><br/></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BS_DrvNum</span></td><td style="width: 52px"><span class="inline-wrap">36</span></td><td style="width: 90px"><span class="inline-wrap">1</span></td><td style="width: 183px"><span class="inline-wrap">int 13h<span class="jill"></span>的驱动器号</span></td><td style="width: 100px"><span class="inline-wrap">0</span></td><td style="width: 217px"><span class="inline-wrap"></span><br/></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BS_Reserved1</span></td><td style="width: 52px"><span class="inline-wrap">37</span></td><td style="width: 90px"><span class="inline-wrap">1</span></td><td style="width: 183px"><span class="inline-wrap">未使用</span></td><td style="width: 100px"><span class="inline-wrap">0</span></td><td style="width: 217px"><span class="inline-wrap"></span><br/></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BS_BootSig</span></td><td style="width: 52px"><span class="inline-wrap">38</span></td><td style="width: 90px"><span class="inline-wrap">1</span></td><td style="width: 183px"><span class="inline-wrap">扩展引导标记（29h）</span></td><td style="width: 100px"><span class="inline-wrap">0x29</span></td><td style="width: 217px"><span class="inline-wrap"></span><br/></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BS_VolID</span></td><td style="width: 52px"><span class="inline-wrap">39</span></td><td style="width: 90px"><span class="inline-wrap">4</span></td><td style="width: 183px"><span class="inline-wrap">卷序列号</span></td><td style="width: 100px"><span class="inline-wrap">0</span></td><td style="width: 217px"><span class="inline-wrap"></span><br/></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BS_VolLab</span></td><td style="width: 52px"><span class="inline-wrap">43</span></td><td style="width: 90px"><span class="inline-wrap">11</span></td><td style="width: 183px"><span class="inline-wrap">卷标</span></td><td style="width: 100px"><span class="inline-wrap">&#39;boot loader&#39;</span></td><td style="width: 217px"><span class="inline-wrap">它就是<span class="jill"></span>Windows<span class="jill"></span>或<span class="jill"></span>Linux<span class="jill"></span>系统中显示的磁盘名。</span></td></tr><tr><td style="width: 149px"><span class="inline-wrap">BS_FileSysType</span></td><td style="width: 52px"><span class="inline-wrap">54</span></td><td style="width: 90px"><span class="inline-wrap">8</span></td><td style="width: 183px"><span class="inline-wrap">文件系统类型</span></td><td style="width: 100px"><span class="inline-wrap">&#39;FAT12&#39;</span></td><td style="width: 217px"><span class="inline-wrap">这个类型值只是一个字符串而己，操作系统并不使用该字段来鉴别<span class="jill"></span>FAT<span class="jill"></span>类文件系统的类型。</span></td></tr><tr><td style="width: 149px"><span class="inline-wrap">引导代码</span></td><td style="width: 52px"><span class="inline-wrap">62</span></td><td style="width: 90px"><span class="inline-wrap">448</span></td><td style="width: 183px"><span class="inline-wrap">引导代码、即其他数据</span></td><td style="width: 100px"><span class="inline-wrap"></span><br/></td><td style="width: 217px"><span class="inline-wrap"></span><br/></td></tr><tr><td style="width: 149px"><span class="inline-wrap">结束标志</span></td><td style="width: 52px"><span class="inline-wrap">510</span></td><td style="width: 90px"><span class="inline-wrap">2</span></td><td style="width: 183px"><span class="inline-wrap">结束标志</span></td><td style="width: 100px"><span class="inline-wrap">0xAA55</span></td><td style="width: 217px"><span class="inline-wrap"></span><br/></td></tr></tbody></table></div></details></h1><h1 id="2zfix6W4yggGijh9P1gn5M" class="wolai-block"><span class="inline-wrap">FAT<span class="jill"></span>表</span><div id="d6MYJUCvXMzdcYrauVhY9" class="wolai-block wolai-text"><div><span class="inline-wrap">位宽：12bit</span></div></div><div id="djRogeW8436Tpn3dEPHLSD" class="wolai-block wolai-text"><div><span class="inline-wrap">扇区数：9<span class="jill"></span>个</span></div></div><div id="vcjxC71Z3XPn2U3se4rAXR" class="wolai-block wolai-text"><div><span class="inline-wrap">单表扇区总大小：9<span class="jill"></span>个 * </span><span class="inline-wrap"><i> </i></span><span class="inline-wrap">512B= 4.5KB</span></div></div><div id="2s5HZ9e6BC27UT9HepQqou" class="wolai-block wolai-text"><div><span class="inline-wrap">单表总簇数：9<span class="jill"></span>个  * 512 B / 12bit = 3072<span class="jill"></span>个</span></div></div><div id="c4orXnS1K6rFZVBwsvUvy2" class="wolai-block wolai-text"><div><span class="inline-wrap">FAT<span class="jill"></span>表<span class="jill"></span>2<span class="jill"></span>的作用：作为<span class="jill"></span>FAT1<span class="jill"></span>的备份表</span></div></div><details id="mr4WyuFWnc4oNKQEEQXzZL" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">表现值</span></summary><div id="hkVETEJfjQf18oX7Y9yoRs" class="wolai-block wolai-simple-table"><table><tbody><tr><td style="width: 100px"><span class="inline-wrap">FAT<span class="jill"></span>项</span></td><td style="width: 100px"><span class="inline-wrap">实例值</span></td><td style="width: 316px"><span class="inline-wrap">描述</span></td></tr><tr><td style="width: 100px"><span class="inline-wrap">0</span></td><td style="width: 100px"><span class="inline-wrap">FF0h</span></td><td style="width: 316px"><span class="inline-wrap">磁盘标志字，低字节与<span class="jill"></span>BPB_Media<span class="jill"></span>保持一致，其他位设置为<span class="jill"></span>0</span></td></tr><tr><td style="width: 100px"><span class="inline-wrap">1</span></td><td style="width: 100px"><span class="inline-wrap">FFFh</span></td><td style="width: 316px"><span class="inline-wrap">第一个簇已经被占用</span></td></tr><tr><td style="width: 100px"><span class="inline-wrap">2</span></td><td style="width: 100px"><span class="inline-wrap">003h</span></td><td style="width: 316px"><span class="inline-wrap">000h：可用簇</span></td></tr><tr><td style="width: 100px"><span class="inline-wrap">3</span></td><td style="width: 100px"><span class="inline-wrap">004h</span></td><td style="width: 316px"><span class="inline-wrap">002h<span class="jill"></span>至<span class="jill"></span>FEFh：已用簇，标志下一个簇的簇号</span></td></tr><tr><td style="width: 100px"><span class="inline-wrap">...</span></td><td style="width: 100px"><span class="inline-wrap">...</span></td><td style="width: 316px"><span class="inline-wrap">FF0<span class="jill"></span>至<span class="jill"></span>FF6h：保留簇</span></td></tr><tr><td style="width: 100px"><span class="inline-wrap">N</span></td><td style="width: 100px"><span class="inline-wrap">FFFh</span></td><td style="width: 316px"><span class="inline-wrap">FF7：坏簇</span></td></tr><tr><td style="width: 100px"><span class="inline-wrap">N+1</span></td><td style="width: 100px"><span class="inline-wrap">000h</span></td><td style="width: 316px"><span class="inline-wrap">FF8h<span class="jill"></span>至<span class="jill"></span>FFFh：文件的最后一个簇</span></td></tr></tbody></table></div></details></h1><h1 id="jdBYWac8CHnF9RNto3vifU" class="wolai-block"><span class="inline-wrap">根目录区</span><div id="4FP64u2P1D6HaShYoumiRJ" class="wolai-block wolai-text"><div><span class="inline-wrap">保存目录项信息</span></div></div><div id="gvVoZ9grVZzdU2GJMLCU3o" class="wolai-block wolai-text"><div><span class="inline-wrap">大小：32B</span></div></div><div id="haMNRZByV4SEaCtAMMdDsQ" class="wolai-block wolai-text"><div><span class="inline-wrap">可容纳的目录项数：224</span></div></div><div id="cPgUxLDmt7qJiymaD7Bzxx" class="wolai-block wolai-text"><div><span class="inline-wrap">起始扇区号：1(引导扇区)+9( FAT<span class="jill"></span>表的扇区数)* 2(FAT<span class="jill"></span>表的份数)=19</span></div></div><div id="e5n7wCCXqk7mAKVTsWCq4r" class="wolai-block wolai-text"><div><span class="inline-wrap">总扇区数：14<span class="jill"></span>个=224(根目录可容纳的目录项数) * 32B(大小)</span><span class="inline-wrap"><i> </i></span><span class="inline-wrap">/ 512(每个扇区大小) -1</span></div></div></h1><h1 id="HZYyGz34y3rJS7q2s11EQ" class="wolai-block"><span class="inline-wrap">数据区</span><div id="9W3VjrT58shy3gaZa7DP4w" class="wolai-block wolai-text"><div><span class="inline-wrap">保存目录项信息系和保存文件内的数据</span></div></div><div id="mEMP92Ec2y48jZHAoVzCDf" class="wolai-block wolai-text"><div><span class="inline-wrap">大小：32B</span></div></div><div id="kbzqf3QCXfzDccd1d8Twko" class="wolai-block wolai-text"><div><span class="inline-wrap">总扇区数：2847<span class="jill"></span>个=2880(总扇区数)</span><span class="inline-wrap">-</span><span class="inline-wrap">1(引导扇区)-9(FAT<span class="jill"></span>表<span class="jill"></span>1)-9(FAT<span class="jill"></span>表<span class="jill"></span>2)-14(根目录区)</span></div></div><details id="dgxQN62Q4wZbmca1MAdjr8" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">目录项结构</span></summary><div id="f4Zfx7VJXpPK1uKLBMiXNR" class="wolai-block wolai-simple-table"><table><tbody><tr><td style="width: 118px"><span class="inline-wrap">名称</span></td><td style="width: 100px"><span class="inline-wrap">偏移</span></td><td style="width: 100px"><span class="inline-wrap">长度</span></td><td style="width: 238px"><span class="inline-wrap">描述</span></td></tr><tr><td style="width: 118px"><span class="inline-wrap">DIR_Name</span></td><td style="width: 100px"><span class="inline-wrap">0x00</span></td><td style="width: 100px"><span class="inline-wrap">11</span></td><td style="width: 238px"><span class="inline-wrap">文件名<span class="jill"></span>8B，扩展名<span class="jill"></span>3CB</span></td></tr><tr><td style="width: 118px"><span class="inline-wrap">DIR_Attr</span></td><td style="width: 100px"><span class="inline-wrap">0x0B</span></td><td style="width: 100px"><span class="inline-wrap">1</span></td><td style="width: 238px"><span class="inline-wrap">文件属性：0x27<span class="jill"></span>隐藏文件，目录<span class="jill"></span>0x10，普通文件<span class="jill"></span>0x20</span></td></tr><tr><td style="width: 118px"><span class="inline-wrap">保留</span></td><td style="width: 100px"><span class="inline-wrap">0x0C</span></td><td style="width: 100px"><span class="inline-wrap">110</span></td><td style="width: 238px"><span class="inline-wrap">保留</span></td></tr><tr><td style="width: 118px"><span class="inline-wrap">DIR_WrtTime</span></td><td style="width: 100px"><span class="inline-wrap">0X16</span></td><td style="width: 100px"><span class="inline-wrap">2</span></td><td style="width: 238px"><span class="inline-wrap">最后一次写入时间</span></td></tr><tr><td style="width: 118px"><span class="inline-wrap">DIR_WrtDate</span></td><td style="width: 100px"><span class="inline-wrap">0X18</span></td><td style="width: 100px"><span class="inline-wrap">2</span></td><td style="width: 238px"><span class="inline-wrap">最后一次写入日期</span></td></tr><tr><td style="width: 118px"><span class="inline-wrap">DIR_FstClus</span></td><td style="width: 100px"><span class="inline-wrap">0X1A</span></td><td style="width: 100px"><span class="inline-wrap">2</span></td><td style="width: 238px"><span class="inline-wrap">起始簇号，FAT[0]和<span class="jill"></span>FAT[1]是保留项，有效起始簇号是<span class="jill"></span>2</span></td></tr><tr><td style="width: 118px"><span class="inline-wrap">DIR_FileSize</span></td><td style="width: 100px"><span class="inline-wrap">0X1C</span></td><td style="width: 100px"><span class="inline-wrap">4</span></td><td style="width: 238px"><span class="inline-wrap">文件大小</span></td></tr></tbody></table></div></details><details id="aem7Hi483W3AEeKPnHx9Ab" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">文件名存储</span></summary><div id="iAVotinhLdWt59eKAUD7R1" class="wolai-block wolai-simple-table"><table><tbody><tr><td style="width: 273px"><span class="inline-wrap">用户确定的文件名/目录名</span></td><td style="width: 183px"><span class="inline-wrap">DIR_Name<span class="jill"></span>字段存储内容</span></td></tr><tr><td style="width: 273px"><span class="inline-wrap">&quot;foo.bar&quot;</span></td><td style="width: 183px"><span class="inline-wrap">&quot;FOO  BAR&quot;</span></td></tr><tr><td style="width: 273px"><span class="inline-wrap">&quot;FOO.BAR&quot;</span></td><td style="width: 183px"><span class="inline-wrap">&quot;FOO  BAR&quot;</span></td></tr><tr><td style="width: 273px"><span class="inline-wrap">&quot;Foo.Bar&quot;</span></td><td style="width: 183px"><span class="inline-wrap">&quot;FOO  BAR&quot;</span></td></tr><tr><td style="width: 273px"><span class="inline-wrap">&quot;foo&quot;</span></td><td style="width: 183px"><span class="inline-wrap">&quot;FOO  &quot;</span></td></tr><tr><td style="width: 273px"><span class="inline-wrap">&quot;foo.&quot;</span></td><td style="width: 183px"><span class="inline-wrap">&quot;FOO  &quot;</span></td></tr><tr><td style="width: 273px"><span class="inline-wrap">&quot;PICKLE.A&quot;</span></td><td style="width: 183px"><span class="inline-wrap">&quot;PICKLE  A  &quot;</span></td></tr><tr><td style="width: 273px"><span class="inline-wrap">&quot;prettybg.big&quot;</span></td><td style="width: 183px"><span class="inline-wrap">&quot;PRETTYBGBIG&quot;</span></td></tr><tr><td style="width: 273px"><span class="inline-wrap">&quot;.big&quot;</span></td><td style="width: 183px"><span class="inline-wrap">&quot;  BIG&quot;</span></td></tr></tbody></table></div></details></h1></article><footer></footer></body></html>