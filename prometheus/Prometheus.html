<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../css/wolai.css"/><title>Prometheus - wolai 笔记</title><link rel="shortcut icon" href="media/prometheus_1.svg"></link></head><body class="full-width small-font less-lead"><header><div class="image"></div><div class="title"><div class="banner"><div class="icon icon-image" style="background-image: url(&quot;media/prometheus.svg&quot;)"></div></div><div data-title="Prometheus" class="main-title"></div></div></header><article><div id="eknUmZpbfewXPxXj4Pcxuc" class="bg-cultured wolai-block wolai-text"><div><span class="inline-wrap">页面</span></div></div><div id="7YsK38NLxNee6KpsxMLQsV" class="wolai-block wolai-text"><div><span class="inline-wrap"><a href="https://prometheus.io/"><span>主页</span></a></span></div></div><div id="f3AiPcWJbpavk4qiwumXuy" class="wolai-block wolai-text"><div><span class="inline-wrap"><a href="https://prometheus.io/download/"><span>下载</span></a></span></div></div><div id="j2GQ2ij2AibwxghWTgaLuL" class="wolai-block wolai-text"><div><span class="inline-wrap"><a href="https://prometheus.io/docs/introduction/overview/"><span>文档</span></a></span></div></div><div id="eDeCXcfNUNCXLpL2z47izp" class="wolai-row"><div id="8U1qYPfsVgufkPC5egdW2p" class="wolai-col" style="flex-grow: 0.5"><div id="36ZwsksRpj6iZ9UqvGzMhh" class="bg-lavender_blue wolai-block wolai-text"><div><span class="inline-wrap">了解</span></div></div><details id="g99Tj9jYEbuCTH2YazWFDq" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">定义</span></summary><div id="x7jctR659Lxcw4tj8vgT1L" class="wolai-block wolai-text"><div><span class="inline-wrap">Prometheus 是一个开源系统监控和警报工具包，最初由 SoundCloud 构建。自 2012 年成立以来，许多公司和组织都采用了 Prometheus，该项目拥有非常活跃的开发者和用户社区。它现在是一个独立的开源项目，独立于任何公司进行维护。为了强调这一点，并明确项目的治理结构，Prometheus 于 2016 年加入云原生计算基金会，成为继 Kubernetes 之后的第二个托管项目。</span></div></div></details><details id="tEtQ5nH8REHPq1SGzjxt1u" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">功能</span></summary><ul class="wolai-block"><li id="jE6YYHmRDEFiPznexWJCfN"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">多维数据模型，其时间序列数据由指标名称和键/值对标识</span></li><li id="4Q8uMgbKcAaRkTVAFGTa3N"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">PromQL，一种灵活的</span><span class="inline-wrap"><a href="https://prometheus.io/docs/prometheus/latest/querying/basics/"><span>查询语言</span></a></span><span class="inline-wrap">，可利用此维度</span></li><li id="i4DsWdep68THybCfBDTaCt"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">不依赖分布式存储;单个服务器节点是自治的</span></li><li id="sEUFLEGyXs4SEeqzmtNqeR"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">时序收集通过 HTTP 上的拉取模型进行</span></li><li id="vVickyJLLenRaf7Rrky7yy"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">通过中间网关支持</span><span class="inline-wrap"><a href="https://prometheus.io/docs/instrumenting/pushing/"><span>推送时间序列</span></a></span><span class="inline-wrap">  </span></li><li id="axrRpwBPzNQ1LqQgLZfvDN"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">通过服务发现或静态配置发现目标</span></li><li id="smXUoeS2WtzyEmqm8bSJBa"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">支持多种模式的图形和仪表板</span></li></ul></details><details id="fscNNPEWEpFCUU2LpxA1ZP" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">生态系统</span></summary><div id="uhqxEk8ZdmTALhReAL3w1c" class="wolai-block"><figure class="wolai-left" style="width: 675.5px; flex-direction: column"><img src="https://prometheus.io/assets/architecture.png" style="width: 100%"/></figure></div><div id="estaJmui79PEhrrr4bBTJs" class="wolai-block wolai-text"><div><span class="inline-wrap">Prometheus 直接或通过中间推送网关从检测的作业中抓取指标，用于短期作业。它将所有抓取的样本存储在本地，并对此数据运行规则，以聚合和记录现有数据中的新时间序列或生成警报。Grafana 或其他 API 使用者可用于可视化收集的数据。</span></div></div></details><details id="55NhcKmvnLzCsPCtNuQiF3" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">适合范围</span></summary><div id="rUQMoEbmgHMWPLbEX5pEpd" class="wolai-block wolai-text"><div><span class="inline-wrap">Prometheus 非常适合记录任何纯数字时间序列。它既适合以机器为中心的监控，也适合监控高度动态的面向服务的架构。在微服务的世界中，它对多维数据收集和查询的支持是一个特别的优势。</span></div></div></details><details id="fWEG99tSVAcSJWked47cHy" class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">不适合</span></summary><div id="pG84DBu1sNyDxjuruufuFi" class="wolai-block wolai-text"><div><span class="inline-wrap">Prometheus 重视可靠性。即使在故障情况下，您也始终可以查看有关系统的可用统计信息。如果您需要 100% 的准确性，例如按请求计费，Prometheus 不是一个好的选择，因为收集的数据可能不够详细和完整。在这种情况下，您最好使用其他系统来收集和分析数据以进行计费，并使用 Prometheus 进行其余的监控。</span></div></div></details><div id="wBUpHaEnNh2xJJy5gBdTH5" class="wolai-sub-page wolai-block"><div class="page-icon"></div><a href="promql/promql.html"><span>PromQL</span></a></div><div id="k4EgaUq5RXMXVWDwJpDsN9" class="wolai-sub-page wolai-block"><div class="page-icon"></div><a href="exporter/exporter.html"><span>exporter</span></a></div></div><div id="pcAVJgGJda1PryW6DBo92E" class="wolai-col" style="flex-grow: 0.5"><div id="mFcQ8Nfnuc3YKSedNThJXq" class="bg-fluorescent_yellow wolai-block wolai-text"><div><span class="inline-wrap">状态管理</span></div></div><div id="wYYdJe52UekAY2oUJSscjD" class="wolai-sub-page wolai-block"><div class="page-icon"></div><a href="%E5%90%AF%E5%8A%A8/%E5%90%AF%E5%8A%A8.html"><span>启动</span></a></div><div id="kGs8YTEt4fZQfyfixMpZtY" class="bg-fluorescent_green2 wolai-block wolai-text"><div><span class="inline-wrap">配置</span></div></div><div id="6irb5t81izSw6NjDM59Zd4" class="wolai-sub-page wolai-block"><div class="page-icon"></div><a href="%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.html"><span>配置文件</span></a></div><div id="h2adzBTc8HgiwdgT3gpmzX" class="wolai-sub-page wolai-block"><div class="page-icon"></div><a href="%E8%A7%84%E5%88%99%E6%96%87%E4%BB%B6/%E8%A7%84%E5%88%99%E6%96%87%E4%BB%B6.html"><span>规则文件</span></a></div><div id="ivApLaXWBrXA1j6R2x7PQH" class="wolai-sub-page wolai-block"><div class="page-icon"></div><a href="%E6%8C%87%E6%A0%87/%E6%8C%87%E6%A0%87.html"><span>指标</span></a></div><div id="dagin8wa4kVp3Hf9KKyiDd" class="wolai-block wolai-text"><div></div></div><div id="65w4XEu8corW1ej37TAJoK" class="wolai-block wolai-text"><div></div></div><div id="aUxJ3jwTsjZ7m2b8DW1wgT" class="bg-lightgray wolai-block wolai-text"><div><span class="inline-wrap">其他</span></div></div></div></div><div id="pxD1wHD5K3QfcNDb1pTXMv" class="wolai-sub-page wolai-block"><div class="page-icon"></div><a href="%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE/%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE.html"><span>删除数据</span></a></div></article><footer></footer></body></html>