<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/wolai.css"/><title>srvctl管理 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body class="full-width small-font less-lead"><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="srvctl管理" class="main-title"></div></div></header><article><h1 id="rQN5QNrZt1NY9BGo5iHUZW" class="wolai-block"><span class="inline-wrap">使用<span class="jill"></span>SRVCTL<span class="jill"></span>启动和关闭</span></h1><div id="jtB1CkekgqtU6giCkbUp9U" class="wolai-bookmark wolai-block"><a href="https://docs.oracle.com/cd/E11882_01/rac.112/e41960/admin.htm#RACAD811">https://docs.oracle.com/cd/E11882_01/rac.112/e41960/admin.htm#RACAD811</a><div class="info-box"><div class="text-pane"><div data-title="https://docs.oracle.com/cd/E11882_01/rac.112/e41960/admin.htm#RACAD811"></div><div class="icon-host"></div></div><div class="preview-pane"></div></div></div><div id="c6jSuMguB1aVejBSZajTgo" class="wolai-block wolai-text"><div><span class="inline-wrap">本节假设您正在为数据库使用<span class="jill"></span>SPFILE。</span></div></div><div id="m9EeFWjXURvgwHspud3PBL" class="wolai-block wolai-text"><div><span class="inline-wrap">从命令行输入以下<span class="jill"></span>SRVCTL<span class="jill"></span>语法，提供所需的数据库名称和实例名称，或包含多个实例名称以启动多个特定实例：</span></div></div><div id="bxGpYpMjbR5GyjCaxqxue6" class="wolai-block wolai-text"><div><span class="inline-wrap">要启动管理员管理的数据库，请输入逗号分隔的实例名称列表：</span></div></div><code-block id="uTBKbCvc3R3Mh9vvjrBcN9" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre>$ srvctl start instance <span class="token operator">-</span>d db_unique_name <span class="token operator">-</span>i instance_name_list <span class="token punctuation">[</span><span class="token operator">-</span>o start_options<span class="token punctuation">]</span></pre></div></code-block><div id="25YRBrxnNqo8DeSexxZB4Q" class="wolai-block wolai-text"><div><span class="inline-wrap">要启动策略管理的数据库，请输入单个节点名称：</span></div></div><code-block id="anWmKJaFgJrL342fzkQbK4" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre>$ srvctl start instance <span class="token operator">-</span>d db_unique_name <span class="token operator">-</span>n node_name <span class="token punctuation">[</span><span class="token operator">-</span>o start_options<span class="token punctuation">]</span></pre></div></code-block><div id="2RJCdYCyJXd1sbAA7Nedvq" class="wolai-block wolai-text"><div><span class="inline-wrap">Note that this command also starts all enabled and non-running services that have </span><span class="inline-wrap"><code>AUTOMATIC</code></span><span class="inline-wrap"> management policy, and for which the database role matches one of the service&#39;s roles.</span></div></div><div id="5BYAALx7YyqjhwznJa6ncg" class="wolai-block wolai-text"><div><span class="inline-wrap">要停止一个或多个实例，请从命令行输入以下<span class="jill"></span>SRVCTL<span class="jill"></span>语法：</span></div></div><code-block id="tunEdDgzQWbmF4wYCs71ie" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre>$ srvctl stop instance <span class="token operator">-</span>d db_unique_name <span class="token punctuation">[</span> <span class="token operator">-</span>i <span class="token string">"instance_name_list"</span> <span class="token operator">|</span><span class="token operator">-</span>n node_name <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token operator">-</span>o stop_options <span class="token punctuation">]</span></pre></div></code-block><div id="rS9xH3DCW1R9EzCdhyAx37" class="wolai-block wolai-text"><div><span class="inline-wrap">您可以输入逗号分隔的实例名列表以停止多个实例，也可以输入节点名称以停止一个实例。在<span class="jill"></span>Windows<span class="jill"></span>中，您必须以双引号（“”）括起逗号分隔的列表。</span></div></div><div id="fAx29osDsgsCLCFKLRzz7Y" class="wolai-block wolai-text"><div><span class="inline-wrap">This command also stops the services related to the terminated instances on the nodes where the instances were running. As an example, the following command shuts down the two instances, </span><span class="inline-wrap"><code>orcl3</code></span><span class="inline-wrap"> and </span><span class="inline-wrap"><code>orcl4</code></span><span class="inline-wrap">, on the </span><span class="inline-wrap"><code>orcl</code></span><span class="inline-wrap"> database using the </span><span class="inline-wrap"><code>immediate</code></span><span class="inline-wrap"> stop option:</span></div></div><code-block id="gDBeormNU9g2pMzfu4EDCX" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre>$ srvctl 停止实例 <span class="token operator">-</span>d orcl <span class="token operator">-</span>i“orcl3<span class="token punctuation">,</span>orcl4” <span class="token operator">-</span>o 立即</pre></div></code-block><div id="8cUczfbNDEpZUtfStY9CDH" class="wolai-block wolai-text"><div><span class="inline-wrap">要启动或停止整个集群数据库，即所有实例及其启用的服务，请输入以下<span class="jill"></span>SRVCTL<span class="jill"></span>命令：</span></div></div><code-block id="ktcpQQcE5QvJXESbMouzV6" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre>$ srvctl start database <span class="token operator">-</span>d db_unique_name <span class="token punctuation">[</span><span class="token operator">-</span>o start_options<span class="token punctuation">]</span>
$ srvctl stop database <span class="token operator">-</span>d db_unique_name <span class="token punctuation">[</span><span class="token operator">-</span>o stop_options<span class="token punctuation">]</span></pre></div></code-block><div id="7Dy8QcRaNCreuvjqMr9tHB" class="wolai-block wolai-text"><div><span class="inline-wrap">例如，以下<span class="jill"></span>SRVCTL<span class="jill"></span>命令挂载甲骨文<span class="jill"></span>RAC<span class="jill"></span>数据库的所有未运行实例：</span></div></div><code-block id="ipcZWf4t1CJ2mBq5JE1zp6" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre>$ srvctl 启动数据库 <span class="token operator">-</span>d orcl <span class="token operator">-</span>o 挂载</pre></div></code-block><h1 id="uVhMwSd6HVfBQC9uuoSwUK" class="wolai-block"><span class="inline-wrap">dministering Oracle ASM Instances with SRVCTL in Oracle RAC</span></h1><div id="jsZRhSsMcdySKSGf6YShDb" class="wolai-block wolai-text"><div><span class="inline-wrap">You can use the Server Control Utility (SRVCTL) to add or remove an Oracle ASM instance. To issue SRVCTL commands to manage Oracle ASM, log in as the operating system user that owns the Oracle Grid Infrastructure home and issue the SRVCTL commands from the bin directory of the Oracle Grid Infrastructure home.</span></div></div><div id="3V38bNR2eXiGu2TxMRV9cd" class="wolai-block wolai-text"><div><span class="inline-wrap">Use the following syntax to add an Oracle ASM instance:</span></div></div><code-block id="kkEDZe3L1suFGPdRaLoM5w" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre>srvctl add asm</pre></div></code-block><div id="sS3UQVjNRDCkX7CFNAuPi6" class="wolai-block wolai-text"><div><span class="inline-wrap">Use the following syntax to remove an Oracle ASM instance:</span></div></div><code-block id="wXa7bUMHoCG9ngVyEqJLqX" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre>srvctl remove asm <span class="token punctuation">[</span><span class="token operator">-</span>f<span class="token punctuation">]</span></pre></div></code-block><div id="4o7YMmJpoRp2iGtKEzQ7hh" class="wolai-block wolai-text"><div><span class="inline-wrap">You can also use SRVCTL to start, stop, and obtain the status of an Oracle ASM instance as in the following examples.</span></div></div><div id="atfLh8XujbA2SYDcVZecgd" class="wolai-block wolai-text"><div><span class="inline-wrap">Use the following syntax to start an Oracle ASM instance:</span></div></div><code-block id="d9BdTcCoQ7HmH4erqLgtQ1" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre>srvctl start asm <span class="token punctuation">[</span><span class="token operator">-</span>n node_name<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>o start_options<span class="token punctuation">]</span></pre></div></code-block><div id="j6fNgqoxB1qtWKNeKBbvuV" class="wolai-block wolai-text"><div><span class="inline-wrap">Use the following syntax to stop an Oracle ASM instance:</span></div></div><code-block id="3evqCQwGJjGym8JwwsotXF" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre>srvctl stop asm <span class="token punctuation">[</span><span class="token operator">-</span>n node_name<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>o stop_options<span class="token punctuation">]</span></pre></div></code-block><div id="w4kDF5ZsK3ewDcxm6Br4Zn" class="wolai-block wolai-text"><div><span class="inline-wrap">Use the following syntax to show the configuration of an Oracle ASM instance:</span></div></div><code-block id="6seKFA93bQHJgRcQHMBa8Z" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre>srvctl config asm <span class="token operator">-</span>n node_name </pre></div></code-block><div id="bW2obVqytq13BtQBtrmJDC" class="wolai-block wolai-text"><div><span class="inline-wrap">Use the following syntax to display the state of an Oracle ASM instance:</span></div></div><code-block id="buk8U6ehVh2k2wUifBcVbU" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre>srvctl status asm <span class="token punctuation">[</span><span class="token operator">-</span>n node_name<span class="token punctuation">]</span></pre></div></code-block></article><footer></footer></body></html>