<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/wolai.css"/><title>19c - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body class="full-width small-font less-lead"><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="19c" class="main-title"></div></div></header><article><h1 id="xmN8DCQdmuJkjtAWkKeKHP" class="wolai-block"><span class="inline-wrap">Centos7<span class="jill"></span>静默安装<span class="jill"></span>19c</span></h1><div id="wqnE5bJ4mib74gBHnEk6Ut" class="wolai-block wolai-text"><div><span class="inline-wrap">文档更新时间：2021<span class="jill"></span>年<span class="jill"></span>12<span class="jill"></span>月<span class="jill"></span>29<span class="jill"></span>日</span></div></div><h1 id="kPa2g9phmNxDW2L7jb7XBt" class="wolai-block"><span class="inline-wrap">一、系统配置</span></h1><ol class="wolai-block"><li id="psrgK3vKu43HQNQB8i54mv"><div class="marker"></div><span class="inline-wrap">安装依赖</span><code-block id="rn1WDrKGbLN7BgstBiWoME" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">yum <span class="token function">install</span>  <span class="token parameter variable">-y</span>  compat-libcap* libstdc++-devel* gcc-c++-* ksh* glibc-devel*  libaio-devel* sysstat-* smartmontools* libxcb* libX11* libXi* libXtst-* <span class="token function">unzip</span> net-tools</pre></div></code-block><div id="iSaNsdC9QhVNMQQKU9bVFv" class="wolai-block wolai-text"><div><span class="inline-wrap">额外需要<span class="jill"></span>rpm<span class="jill"></span>包</span></div></div><code-block id="r3PQTyNgARAu7UP2uvA7ab" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">compat-libstdc++-33-3.2.3-72.el7.x86_64.rpm</pre></div></code-block></li><li id="t7mLGNKWbP8PjsDMNdX9Eh"><div class="marker"></div><span class="inline-wrap">用户/组配置</span><code-block id="kgAdyr9m1vB12GzGL2nzt7" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token function">groupadd</span> oinstall
<span class="token function">groupadd</span> dba
<span class="token function">groupadd</span> backupdba
<span class="token function">groupadd</span> dgdba
<span class="token function">groupadd</span> kmdba
<span class="token function">groupadd</span> racdba
<span class="token function">groupadd</span> oper</pre></div></code-block><div id="qyUXmJPm2bUcom8isT8mKV" class="wolai-block wolai-text"><div><span class="inline-wrap">创建<span class="jill"></span>oracle<span class="jill"></span>用户</span></div></div><code-block id="nsQEHChGfFSRZeDASeMqJk" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token function">useradd</span> <span class="token parameter variable">-g</span> oinstall <span class="token parameter variable">-G</span> oper,dba,backupdba,dgdba,kmdba,racdba <span class="token parameter variable">-d</span> /home/oracle oracle
<span class="token builtin class-name">echo</span> <span class="token string">"oracle"</span> <span class="token operator">|</span> <span class="token function">passwd</span> oracle <span class="token parameter variable">--stdin</span></pre></div></code-block><div id="3c6NF39sn2Q3HjAC4nPVsW" class="wolai-block wolai-text"><div><span class="inline-wrap">编辑<span class="jill"></span>oracle<span class="jill"></span>用户的/home/oracle/.bash_profile</span></div></div><code-block id="ikW2JfEcn19N8cE8XDUGgF" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_HOME</span><span class="token operator">=</span>/u01/app/oracle/product/19.3.0/db_1
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_BASE</span><span class="token operator">=</span>/u01/app/oracle
<span class="token builtin class-name">export</span> <span class="token assign-left variable">LD_LIBRARY_PATH</span><span class="token operator">=</span><span class="token variable">$ORACLE_HOME</span>/stage/ext/lib
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_SID</span><span class="token operator">=</span>orcl
<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token environment constant">$HOME</span>/.local/bin:<span class="token environment constant">$HOME</span>/bin:<span class="token variable">$ORACLE_HOME</span>/bin

<span class="token builtin class-name">export</span> <span class="token environment constant">PATH</span></pre></div></code-block><div id="bKtfNB2UWAe6U5pkvNNxpF" class="wolai-block wolai-text"><div><span class="inline-wrap">生效<span class="jill"></span>oracle<span class="jill"></span>用户的.bash_profile</span></div></div><code-block id="dDeK7rPSWSyvPnxF7Qb5Qj" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token builtin class-name">.</span> /home/oracle/.bash_profile</pre></div></code-block></li></ol><div id="6WNtePL71tFkhFsYhCVwSH" class="wolai-block wolai-text"><div><span class="inline-wrap">3、内核参数配置</span></div></div><div id="o5ZraYX92KQZ6yuz5voBbJ" class="wolai-block wolai-text"><div><span class="inline-wrap">修改/etc/sysctl.conf，同时生效内核参数</span></div></div><code-block id="a1SLQJ5qvL5gnmUQH2ZbPs" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token function">cat</span> <span class="token operator">></span> /etc/sysctl.conf <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
fs.file-max = 6815744
net.core.rmem_default = 262144
net.core.rmem_max = 4194304
net.core.wmem_default = 262144
net.core.wmem_max = 1048576
EOF</span>
<span class="token function">sysctl</span> <span class="token parameter variable">-p</span></pre></div></code-block><div id="1qMHgkxYjECemobDupAz5z" class="wolai-block wolai-text"><div><span class="inline-wrap">修改资源配置</span></div></div><code-block id="5wPUiMPCtztWrbPfiq94Av" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">></span> /etc/security/limits.conf</span>
oracle   soft   nproc    131072
oracle   hard   nproc    131072
oracle   soft   nofile   131072
oracle   hard   nofile   131072
oracle   soft   core     unlimited
oracle   hard   core     unlimited
oracle   soft   memlock  50000000
oracle   hard   memlock  50000000
EOF</span></pre></div></code-block><h1 id="uMhv397317PahHkDwbq3Fu" class="wolai-block"><span class="inline-wrap">二、oracle<span class="jill"></span>安装</span></h1><ol class="wolai-block"><li id="eyHfnybMd5CxC2aiUngbi7"><div class="marker"></div><span class="inline-wrap">准备文件夹架构（将安装包的文件解压到<span class="jill"></span>$ORACLE_HOME）</span><code-block id="gqbKpncRQgstnjqqnXDxhV" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /u01/app/oracle/product/19.3.0/db_1
<span class="token function">chown</span> <span class="token parameter variable">-R</span> oracle:oinstall /u01</pre></div></code-block></li><li id="9WntPuxtGLxfghpyG1dvM6"><div class="marker"></div><span class="inline-wrap">编辑 install/response/db_install.rsp</span><code-block id="eP7NCnDByngEQo2U4T96q1" class="wolai-block"><div class="wolai-pre"><div data-lang="Ini" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token key attr-name">oracle.install.responseFileVersion</span><span class="token punctuation">=</span><span class="token value attr-value">/oracle/install/rspfmt_dbinstall_response_schema_v19.0.0</span>
<span class="token key attr-name">oracle.install.option</span><span class="token punctuation">=</span><span class="token value attr-value">INSTALL_DB_SWONLY</span>
<span class="token key attr-name">UNIX_GROUP_NAME</span><span class="token punctuation">=</span><span class="token value attr-value">oinstall</span>
<span class="token key attr-name">INVENTORY_LOCATION</span><span class="token punctuation">=</span><span class="token value attr-value">/u01/app/oraInventory</span>
<span class="token comment"># oracle用户的ORACLE_HOME</span>
<span class="token key attr-name">ORACLE_HOME</span><span class="token punctuation">=</span><span class="token value attr-value">/u01/app/oracle/product/19.3.0/db_1</span>
<span class="token comment"># oracle用户的ORACLE_BASE</span>
<span class="token key attr-name">ORACLE_BASE</span><span class="token punctuation">=</span><span class="token value attr-value">/u01/app/oracle</span>
<span class="token key attr-name">oracle.install.db.InstallEdition</span><span class="token punctuation">=</span><span class="token value attr-value">EE</span>
<span class="token key attr-name">oracle.install.db.OSDBA_GROUP</span><span class="token punctuation">=</span><span class="token value attr-value">dba</span>
<span class="token key attr-name">oracle.install.db.OSOPER_GROUP</span><span class="token punctuation">=</span><span class="token value attr-value">oper</span>
<span class="token key attr-name">oracle.install.db.OSBACKUPDBA_GROUP</span><span class="token punctuation">=</span><span class="token value attr-value">backupdba</span>
<span class="token key attr-name">oracle.install.db.OSDGDBA_GROUP</span><span class="token punctuation">=</span><span class="token value attr-value">dgdba</span>
<span class="token key attr-name">oracle.install.db.OSKMDBA_GROUP</span><span class="token punctuation">=</span><span class="token value attr-value">kmdba</span>
<span class="token key attr-name">oracle.install.db.OSRACDBA_GROUP</span><span class="token punctuation">=</span><span class="token value attr-value">racdba</span>
<span class="token key attr-name">oracle.install.db.rootconfig.executeRootScript</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
<span class="token key attr-name">oracle.install.db.rootconfig.configMethod</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.rootconfig.sudoPath</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.rootconfig.sudoUserName</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.CLUSTER_NODES</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.type</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.globalDBName</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.SID</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.ConfigureAsContainerDB</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.PDBName</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.characterSet</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.memoryOption</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.memoryLimit</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.installExampleSchemas</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.password.ALL</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.password.SYS</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.password.SYSTEM</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.password.DBSNMP</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.password.PDBADMIN</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.managementOption</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.omsHost</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.omsPort</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.emAdminUser</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.emAdminPassword</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.enableRecovery</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.storageType</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.fileSystemStorage.dataLocation</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.starterdb.fileSystemStorage.recoveryLocation</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.asm.diskGroup</span><span class="token punctuation">=</span>
<span class="token key attr-name">oracle.install.db.config.asm.ASMSNMPPassword</span><span class="token punctuation">=</span></pre></div></code-block></li><li id="jkQ3wQq3PgQG6y7mxGcEVk"><div class="marker"></div><span class="inline-wrap">开始安装(使用<span class="jill"></span>oracle<span class="jill"></span>用户执行安装)</span><code-block id="kWdEEFLSz17zbcVEBWse3a" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">./runInstaller <span class="token parameter variable">-silent</span> <span class="token parameter variable">-responseFile</span> install/response/db_install.rsp</pre></div></code-block></li><li id="cw48wKAoFWaS7vC7Rcgd6b"><div class="marker"></div><span class="inline-wrap">使用<span class="jill"></span>root<span class="jill"></span>用户执行<span class="jill"></span>orainstRoot.sh<span class="jill"></span>和<span class="jill"></span>root.sh</span><code-block id="uJKnVCsEPbZ1n5j8vTpZND" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">/u01/app/oraInventory/orainstRoot.sh
/u01/app/oracle/product/19.3.0/db_1/root.sh</pre></div></code-block></li></ol><h1 id="vB6wTsftECSHt3umDiphTk" class="wolai-block"><span class="inline-wrap">三、创建并配置数据库</span></h1><ol class="wolai-block"><li id="iQQrtpS68KUKdAkTDYFEv1"><div class="marker"></div><span class="inline-wrap">进入 $ORACLE_HOME<span class="jill"></span>目录</span></li><li id="kahQfYfBa8kF1bFTq2BmhJ"><div class="marker"></div><span class="inline-wrap">备份响应文件</span><code-block id="bSCYn3xNqoDMfCu36KAtNp" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token function">cp</span> assistants/dbca/dbca.rsp assistants/dbca/dbca.rsp.save</pre></div></code-block></li><li id="keb9nes4F1yRfqeCypY1Lj"><div class="marker"></div><span class="inline-wrap">编辑<span class="jill"></span>assistants/dbca/dbca.rsp</span><code-block id="dvd6UtzDCNrXERgJgs4jAH" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token comment">#主要修改参数</span>
<span class="token assign-left variable">gdbName</span><span class="token operator">=</span>oracle
<span class="token comment"># 需要匹配环境变量ORALCE_SID</span>
<span class="token assign-left variable">sid</span><span class="token operator">=</span>orcl
<span class="token assign-left variable">templateName</span><span class="token operator">=</span>General_Purpose.dbc
<span class="token comment"># 至少1位大小写+数字+至少8位长度</span>
<span class="token comment"># 特殊字符的值无需使用双引号</span>
<span class="token assign-left variable">sysPassword</span><span class="token operator">=</span>oracleTTF1765
<span class="token assign-left variable">systemPassword</span><span class="token operator">=</span>oracleTTF1765
<span class="token assign-left variable">characterSet</span><span class="token operator">=</span>AL32UTF8</pre></div></code-block></li><li id="vNdBCxQgKUeL14FrHd7pKw"><div class="marker"></div><span class="inline-wrap">创建数据库实例</span><code-block id="6ARpBmjkTHDfsYw1AZb9pF" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">dbca <span class="token parameter variable">-silent</span> <span class="token parameter variable">-createDatabase</span> <span class="token parameter variable">-responseFile</span> <span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">pwd</span><span class="token variable">`</span></span>/assistants/dbca/dbca.rsp</pre></div></code-block></li><li id="j3E2bT5wo1VqPtus8CNxrY"><div class="marker"></div><span class="inline-wrap">创建监听</span><code-block id="rArYsoVPczhFB9KUDLBygy" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">netca <span class="token parameter variable">-silent</span> <span class="token parameter variable">-responsefile</span> <span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">pwd</span><span class="token variable">`</span></span>/assistants/netca/netca.rsp</pre></div></code-block></li></ol><h2 id="7pZUBWtGTMLs7kwgcAYnnT" class="wolai-block"><span class="inline-wrap">四、验证</span></h2><ul class="wolai-block"><li id="8Fo9oTD3ua6WFnXRG6fewq"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">端口开放情况</span><code-block id="vair2HscZjcFRJg3HQRGjH" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token punctuation">[</span>oracle@oracle-19c db_1<span class="token punctuation">]</span>$ <span class="token function">netstat</span> <span class="token parameter variable">-tunlp</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">1521</span>
<span class="token punctuation">(</span>Not all processes could be identified, non-owned process info
 will not be shown, you would have to be root to see it all.<span class="token punctuation">)</span>
tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::1521                 :::*                    LISTEN      <span class="token number">12830</span>/tnslsnr</pre></div></code-block></li><li id="9Gb4YCXReix9AATnxF127P"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">查看数据库状态</span><code-block id="n4pJQrHJBGn99DjPcnfe2S" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token punctuation">[</span>oracle@oracle-19c db_1<span class="token punctuation">]</span>$ sqlplus / as sysdba

SQL*Plus: Release <span class="token number">19.0</span>.0.0.0 - Production on Thu Apr <span class="token number">29</span> <span class="token number">15</span>:35:22 <span class="token number">2021</span>
Version <span class="token number">19.3</span>.0.0.0

Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">1982</span>, <span class="token number">2019</span>, Oracle.  All rights reserved.


Connected to:
Oracle Database 19c Enterprise Edition Release <span class="token number">19.0</span>.0.0.0 - Production
Version <span class="token number">19.3</span>.0.0.0

SQL<span class="token operator">></span> <span class="token keyword">select</span> status from <span class="token function">v</span><span class="token variable">$instance</span><span class="token punctuation">;</span>

STATUS
------------
OPEN</pre></div></code-block></li></ul><h2 id="iW8fGJCpFwpPg18Gqo9ys5" class="wolai-block"><span class="inline-wrap">补充：开机自启步骤</span></h2><div id="uVyCPvTVfiVdzxY37rBSMX" class="wolai-block wolai-text"><div><span class="inline-wrap">编辑/etc/oratab</span></div></div><code-block id="oE8jgBSYhZs4yFiuDcVTyJ" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">将<span class="token string">"ORCLCDB:/u01/app/oracle/product/19.3.0/db_1:N"</span>
改为<span class="token string">"ORCLCDB:/u01/app/oracle/product/19.3.0/db_1:Y"</span></pre></div></code-block><div id="hcEmGioAi7ZKrcP7xkTtgz" class="wolai-block wolai-text"><div><span class="inline-wrap">使用<span class="jill"></span>root<span class="jill"></span>用户执行添加启动文件</span></div></div><code-block id="kCzFPG5rVNCJfgn98cNj3S" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token assign-left variable">ORACLE_HOME</span><span class="token operator">=</span>/u01/app/oracle/product/19.3.0/db_1
<span class="token function">cat</span> <span class="token operator">></span> /usr/bin/oracle.sh <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
#!/bin/bash
<span class="token variable">$ORACLE_HOME</span>/bin/lsnrctl start
<span class="token variable">$ORACLE_HOME</span>/bin/dbstart <span class="token variable">$ORACLE_HOME</span>
EOF</span>
<span class="token function">chmod</span> +x /usr/bin/oracle.sh</pre></div></code-block><div id="3EHVcApBmWJNuj3pFyxHPA" class="wolai-block wolai-text"><div><span class="inline-wrap">添加<span class="jill"></span>oracle-19c.service</span></div></div><code-block id="4srdBo2gPWsYqgoT8wwoAM" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token function">cat</span> <span class="token operator">></span> /etc/systemd/system/oracle-19c.service <span class="token operator">&lt;&lt;</span><span class="token string">EOF
[Unit]
Description=Oracle-19c
After=syslog.target network.target
[Service]
LimitMEMLOCK=infinity
LimitNOFILE=65535
Type=oneshot
RemainAfterExit=yes
User=oracle
Environment=ORACLE_HOME=<span class="token variable">$ORACLE_HOME</span>
ExecStart=/usr/bin/oracle.sh
[Install]
WantedBy=multi-user.target
EOF</span></pre></div></code-block><div id="mFpxBCuirYq8ZxrgS7o1FT" class="wolai-block wolai-text"><div><span class="inline-wrap">设置开机自启</span></div></div><code-block id="icbJLZTAjeFYabXSesvHBn" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">systemctl <span class="token builtin class-name">enable</span> oracle-19c</pre></div></code-block></article><footer></footer></body></html>