<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../../css/wolai.css"/><title>name - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body class="full-width small-font less-lead"><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="name" class="main-title"></div></div></header><article><h2 id="oy1sXh7RHtMh3PGqbc4N5v" class="wolai-block"><span class="inline-wrap">DB_NAME</span></h2><div id="gbteCfo3MbGVgzMzF4e6wZ" class="wolai-block wolai-text"><div><span class="inline-wrap">创建：在<span class="jill"></span>dbca<span class="jill"></span>时确定</span></div></div><ol class="wolai-block"><li id="18BYAPdeMYL7ZWQduVY6UA"><div class="marker"></div><span class="inline-wrap">是数据库名，长度不能超过<span class="jill"></span>8<span class="jill"></span>个字符，记录在<span class="jill"></span>datafile、redolog<span class="jill"></span>和<span class="jill"></span>control file<span class="jill"></span>中</span></li><li id="bBKwbLutCJWGBPnLLe8msk"><div class="marker"></div><span class="inline-wrap">在<span class="jill"></span>DataGuard<span class="jill"></span>环境中<span class="jill"></span>DB_NAME<span class="jill"></span>相同而<span class="jill"></span>DB_UNIQUE_NAME<span class="jill"></span>不同</span></li><li id="pysLRdrtDFRHnp6m79Ahue"><div class="marker"></div><span class="inline-wrap">在<span class="jill"></span>RAC<span class="jill"></span>环境中，各个节点的<span class="jill"></span>DB_NAME 都相同，但是<span class="jill"></span>INSTANCE_NAME<span class="jill"></span>不同</span></li><li id="2HTCWgYNwPo7DV16Dx3zrS"><div class="marker"></div><span class="inline-wrap">DB_NAME<span class="jill"></span>还在动态注册监听的时候起作用，无论是否定义了<span class="jill"></span>SERVICE_NAME,PMON<span class="jill"></span>进程都会使用<span class="jill"></span>DB_NAME<span class="jill"></span>动态注册监听</span></li></ol><h2 id="rsHzRNWBKH8iLuFnRYEue7" class="wolai-block"><span class="inline-wrap">DBID</span></h2><ol class="wolai-block"><li id="ivqJvLUPsbPeUGGPJoYgoq"><div class="marker"></div><span class="inline-wrap">DBID<span class="jill"></span>可以看做是<span class="jill"></span>DB_NAME<span class="jill"></span>在数据库内部的表示，它是在数据库创建的时候用<span class="jill"></span>DB_NAME<span class="jill"></span>结合算法计算出来的</span></li><li id="eoQkN799z5NDKHRkhEjXH8"><div class="marker"></div><span class="inline-wrap">它存在于<span class="jill"></span>datafile<span class="jill"></span>和<span class="jill"></span>control file<span class="jill"></span>中，用来表示数据文件的归属，所以<span class="jill"></span>DBID<span class="jill"></span>是唯一的，对于不同的数据库，DB_NAME<span class="jill"></span>可以是相同的，但是<span class="jill"></span>DBID<span class="jill"></span>一定是唯一的，例如在<span class="jill"></span>DataGuard<span class="jill"></span>中，主备库的<span class="jill"></span>DB_NAME<span class="jill"></span>相同，但是<span class="jill"></span>DBID<span class="jill"></span>一定不同（看过一个很形象的例子，就是可以有同名的人，但是身份证号码一定不同）</span></li></ol><h2 id="wsEJaGkxdUEUV2nDDS4aXi" class="wolai-block"><span class="inline-wrap">DB_UNIQUE_NAME</span></h2><ol class="wolai-block"><li id="iDtkngGPPuuri4RX9pzgjh"><div class="marker"></div><span class="inline-wrap">在<span class="jill"></span>DataGuard<span class="jill"></span>中，主备库拥有相同的<span class="jill"></span>DB_NAME，为了区别，就必须有不同的<span class="jill"></span>DB_UNIQUE_NAME</span></li><li id="oEFti8G6YntrfMMRVr9qwT"><div class="marker"></div><span class="inline-wrap">DB_UNIQUE_NAME<span class="jill"></span>在<span class="jill"></span>DG<span class="jill"></span>中会影响动态注册的<span class="jill"></span>SERVICE_NAME，即如果采用的是动态注册，则注册的<span class="jill"></span>SERVICE_NAME<span class="jill"></span>为<span class="jill"></span>DB_UNIQUE_NAME，但是实例还是<span class="jill"></span>INSTANCE_NAME，即<span class="jill"></span>SID</span></li></ol><h2 id="7AtugczMrwwwZkC3Mwexp7" class="wolai-block"><span class="inline-wrap">INSTANCE_NAME</span></h2><ol class="wolai-block"><li id="fC2N48SvfjsLzA6E7ND9Wa"><div class="marker"></div><span class="inline-wrap">数据库实例的名称，INSTANCE_NAME<span class="jill"></span>默认值是<span class="jill"></span>SID，一般情况下和数据库名称（DB_NAME)相同，也可不同</span></li><li id="x8zvSrNSZbnv1KCfmaiNmx"><div class="marker"></div><span class="inline-wrap">initSID.ora 和<span class="jill"></span>orapwSID 文件要与<span class="jill"></span>INSTANCE_NAME<span class="jill"></span>保持一致</span></li><li id="aPUyRBKjhH9nT7LenLjUFX"><div class="marker"></div><span class="inline-wrap">INSTANCE_NAME<span class="jill"></span>会影响进程的名称</span></li></ol><h2 id="grmiwUGPpZ4ikbHj8E3BAN" class="wolai-block"><span class="inline-wrap">SID</span></h2><div id="1uHjyUHEe4bBWWs2eZcMAk" class="wolai-block wolai-text"><div><span class="inline-wrap">创建：在<span class="jill"></span>dbca<span class="jill"></span>时确定</span></div></div><ol class="wolai-block"><li id="mYmMG68Wba5XWd3JizrQEP"><div class="marker"></div><span class="inline-wrap">是操作系统中的环境变量，和<span class="jill"></span>ORACLE_HOME,ORACLE_BASE<span class="jill"></span>用法相同</span></li><li id="gJejNDWnnFVsPKMNJyUaJC"><div class="marker"></div><span class="inline-wrap">在操作系统中要想得到实例名，就必须使用<span class="jill"></span>ORACLE_SID。且<span class="jill"></span>ORACLE_SID<span class="jill"></span>必须与<span class="jill"></span>INSTANCE_NAME<span class="jill"></span>的值一致</span></li></ol><h2 id="nwUizHbbUkbhFYPQzcrUfY" class="wolai-block"><span class="inline-wrap">SERVICE_NAME</span></h2><ol class="wolai-block"><li id="3xPUMZ2sWhcTmexzrVEd1P"><div class="marker"></div><span class="inline-wrap">数据库和客户端相连是使用的服务名</span></li><li id="jpZmNAeLKVV8XRyjprQ8rw"><div class="marker"></div><span class="inline-wrap">在<span class="jill"></span>DataGuard<span class="jill"></span>中，如果采用动态注册，建议在主备库使用相同的<span class="jill"></span>service_names</span></li><li id="kJt4qY2g57xFBf7XA2MdAk"><div class="marker"></div><span class="inline-wrap">在<span class="jill"></span>DataGuard<span class="jill"></span>中，如果采用静态注册，建议在主备库上的<span class="jill"></span>listener<span class="jill"></span>中输入相同的服务名(service_name)</span></li><li id="cGrcETna7bLvyzjjeLkyC8"><div class="marker"></div><span class="inline-wrap">如果采监听采用了静态注册，那么<span class="jill"></span>SERVICE_NAME<span class="jill"></span>就等于<span class="jill"></span>Listener.ora 文件中的<span class="jill"></span>GLOBAL_DATABASE_NAME<span class="jill"></span>的值</span></li></ol><h2 id="9vuawiFe8KprRTXG1YEkmc" class="wolai-block"><span class="inline-wrap">GLOBAL_DATABASE_NAME</span></h2><ol class="wolai-block"><li id="tcskBFR8uGZ5DxPekowftk"><div class="marker"></div><span class="inline-wrap">GLOBAL_DATABASE_NAME 是<span class="jill"></span>listener<span class="jill"></span>配置的对外网络连接名称，可以是任意值</span></li><li id="x2zJDMNGAeVqCxarg7XH8W"><div class="marker"></div><span class="inline-wrap">在客户端配置监听的<span class="jill"></span>tnsnames.ora 文件中的<span class="jill"></span>service_name 与这个<span class="jill"></span>GLOBAL_DBNAME 保持一致就可以了</span></li><li id="buFMr3x25ZsvajPiRB7MFE"><div class="marker"></div><span class="inline-wrap">配置静态监听注册时，需要输入<span class="jill"></span>SID<span class="jill"></span>和<span class="jill"></span>GLOBAL_NAME</span></li></ol></article><footer></footer></body></html>