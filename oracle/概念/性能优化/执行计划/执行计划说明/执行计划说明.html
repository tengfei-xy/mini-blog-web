<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../../../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../../../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../../../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../../../../css/wolai.css"/><title>执行计划说明 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body class="full-width small-font less-lead"><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="执行计划说明" class="main-title"></div></div></header><article><h1 id="8w9CZ69JApCzMhz4XJA6Ds" class="wolai-block"><span class="inline-wrap">执行计划</span></h1><h2 id="9bSH4P2KxyeZJruSzoWCCW" class="wolai-block"><span class="inline-wrap">概念</span></h2><div id="rwbpEuckDXc4ufzCiwEq7P" class="wolai-block wolai-text"><div><span class="inline-wrap">简单解释：</span><span class="inline-wrap"><b>执行计划</b></span><span class="inline-wrap">描述了数据库引擎执行<span class="jill"></span>SQL<span class="jill"></span>语句时实时的操作。</span></div></div><div id="tR7Xji5Gc9d31rvpMTS25G" class="wolai-block wolai-text"><div><span class="inline-wrap">详细解释：数据库执行<span class="jill"></span>SQL<span class="jill"></span>是按照一定顺序、分步骤完成的。至于采用什么顺序和方法访问数据是由优化器决定的。一旦优化器决定了一个它认为最高效的执行方法，这一系列的顺序、步骤就称之为</span><span class="inline-wrap"><b>执行计划</b></span><span class="inline-wrap">。</span></div></div><div id="vPRYTzrxyvF4d6qxbPRvN6" class="wolai-block wolai-text"><div><span class="inline-wrap">我的解释：优化器对<span class="jill"></span>SQL<span class="jill"></span>语句进行的一系列的步骤就是</span><span class="inline-wrap"><b>执行计划</b></span><span class="inline-wrap">。</span></div></div><blockquote id="g1uxo7oUbrjJLkpm2EiUXZ" class="wolai-block"><span class="inline-wrap">Q:对于执行计划，需要做什么？</span><span class="inline-wrap">
</span><span class="inline-wrap">A:获取，解释，评估效率。</span><span class="inline-wrap">
</span><span class="inline-wrap">Q: 获取执行计划的方法</span><span class="inline-wrap">
</span><span class="inline-wrap">A: 直接获取一个给定的<span class="jill"></span>SQL<span class="jill"></span>语句关联的执行计划的五种方法</span></blockquote><ul class="wolai-block"><li id="5HxCqxT46Rj8esmEt2L8wV"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">执行</span><span class="inline-wrap"><b>EXPLAIN PLAN</b></span><span class="inline-wrap">，查询其输出所写入的表</span></li><li id="qNb2etTQ9KZ61FRMYfHcqB"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">查询</span><span class="inline-wrap"><b>动态性能视图</b></span><span class="inline-wrap">来显示在库缓存中的执行计划</span></li><li id="fBtcB2cXSPHaxFVoDKLicX"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">通过</span><span class="inline-wrap">通过</span><span class="inline-wrap"><b>实时监控（Real-time Monitoring）</b></span><span class="inline-wrap"><b>实时监控（Real-time Monitoring）</b></span><span class="inline-wrap"> 来获取正在执行、刚执行完的<span class="jill"></span>SQL<span class="jill"></span>语句信息</span><span class="inline-wrap"> 来获取正在执行、刚执行完的<span class="jill"></span>SQL<span class="jill"></span>语句信息</span></li><li id="s7DNcHPiyYH1SQQwvmQ5Bw"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">查询</span><span class="inline-wrap"><b>自动工作负载存储库（AWR）</b></span><span class="inline-wrap"><b>或</b></span><span class="inline-wrap"><b>statspack<span class="jill"></span>表</b></span><span class="inline-wrap">来显示再存储库中的执行计划</span></li><li id="nBA8QFNH7nDyCtq3pcMVjA"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">激活</span><span class="inline-wrap"><b>跟踪功能</b></span><span class="inline-wrap">提供执行计划</span></li></ul><h1 id="2wBXAErbJiQw2FvxAuW3Y8" class="wolai-block"><span class="inline-wrap">EXPLAIN PLAN</span></h1><h2 id="reyzJ4i2TEtYLRVfq2YQ8h" class="wolai-block"><span class="inline-wrap">EXPLAIN PLAN 概念</span></h2><div id="xwFgv2pQRDUCQVcx87JQuv" class="wolai-block wolai-text"><div><span class="inline-wrap">EXPLAIN PLAN<span class="jill"></span>需要接受一个<span class="jill"></span>SQL<span class="jill"></span>语句作为输入，然后提供他的</span><span class="inline-wrap"><b>执行计划</b></span><span class="inline-wrap">和相关信息。</span></div></div><h3 id="qZJq3HfSN2j3C1oo2p5zPt" class="wolai-block"><span class="inline-wrap">格式</span></h3><code-block id="szpRTuKSh5o7RSkY82UDyX" class="wolai-block"><div class="wolai-pre"><div data-lang="Sql" class="marker"></div><pre><span class="token keyword">explain</span> plain <span class="token punctuation">[</span><span class="token keyword">set</span> statemment_id<span class="token operator">=</span><span class="token string">'&lt;ID>'</span><span class="token punctuation">]</span> <span class="token comment">-- ID 用来区分不超过30字符的计划计划的名称</span>
<span class="token punctuation">[</span><span class="token keyword">into</span> <span class="token keyword">table</span> <span class="token operator">&lt;</span>table_name<span class="token operator">></span><span class="token punctuation">]</span> <span class="token comment">-- table_name 指定表名称，默认为plan_table,也可以是schema.table@dblink</span>
<span class="token keyword">for</span> <span class="token operator">&lt;</span>sql_statement<span class="token operator">></span> <span class="token comment">-- 支持update、merge、delete、create table、create index alter index</span></pre></div></code-block><h3 id="rULuU5p4RjQbYaZ5L7AVxB" class="wolai-block"><span class="inline-wrap">性质</span></h3><div id="oRnGiu9bU21R7n3ybqRDeH" class="wolai-block wolai-text"><div><span class="inline-wrap">DML<span class="jill"></span>语句，数据库操作语句，不会对事务执行提交。只是简单的将数据插入到计划表中。</span></div></div><h2 id="aZW3FK6eQq72TsqKxAaWaV" class="wolai-block"><span class="inline-wrap">计划表概念</span></h2><div id="e2zhAJD1qcavsQJg8KKKsJ" class="wolai-block wolai-text"><div><span class="inline-wrap">计划表是<span class="jill"></span>EXPLAIN PLAN<span class="jill"></span>语句输出、写入内容的地方。表不存在就抛错。默认归<span class="jill"></span>SYS<span class="jill"></span>所有。默认使用<span class="jill"></span>plan_table，该表是存储到会话结束的临时表。</span></div></div><h3 id="2rAHbJZ56ueY6rjVcXPny6" class="wolai-block"><span class="inline-wrap">查询</span></h3><code-block id="vW3WWy6kGjc2WKvx2bsN43" class="wolai-block"><div class="wolai-pre"><div data-lang="Sql" class="marker"></div><pre><span class="token keyword">SQL</span><span class="token operator">></span> <span class="token keyword">EXPLAIN</span> <span class="token keyword">PLAN</span> <span class="token keyword">FOR</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> IDT <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>

Explained<span class="token punctuation">.</span>

<span class="token keyword">SQL</span><span class="token operator">></span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">TABLE</span><span class="token punctuation">(</span>dbms_xplan<span class="token punctuation">.</span>display<span class="token punctuation">)</span><span class="token punctuation">;</span>

PLAN_TABLE_OUTPUT
<span class="token comment">--------------------------------------------------------------------------------</span>
<span class="token keyword">Plan</span> <span class="token keyword">hash</span> <span class="token keyword">value</span>: <span class="token number">3713188089</span>

<span class="token comment">--------------------------------------------------------------------------</span>
<span class="token operator">|</span> Id  <span class="token operator">|</span> Operation	  <span class="token operator">|</span> Name <span class="token operator">|</span> <span class="token keyword">Rows</span>  <span class="token operator">|</span> Bytes <span class="token operator">|</span> Cost <span class="token punctuation">(</span><span class="token operator">%</span>CPU<span class="token punctuation">)</span><span class="token operator">|</span> <span class="token keyword">Time</span>	 <span class="token operator">|</span>
<span class="token comment">--------------------------------------------------------------------------</span>
<span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span> <span class="token keyword">SELECT</span> STATEMENT  <span class="token operator">|</span>	 <span class="token operator">|</span>     <span class="token number">8</span> <span class="token operator">|</span>    <span class="token number">72</span> <span class="token operator">|</span>     <span class="token number">5</span>   <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">01</span> <span class="token operator">|</span>
<span class="token operator">|</span><span class="token operator">*</span>  <span class="token number">1</span> <span class="token operator">|</span>  <span class="token keyword">TABLE</span> ACCESS <span class="token keyword">FULL</span><span class="token operator">|</span> IDT  <span class="token operator">|</span>     <span class="token number">8</span> <span class="token operator">|</span>    <span class="token number">72</span> <span class="token operator">|</span>     <span class="token number">5</span>   <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">01</span> <span class="token operator">|</span>
<span class="token comment">--------------------------------------------------------------------------</span>

Predicate Information <span class="token punctuation">(</span>identified <span class="token keyword">by</span> operation id<span class="token punctuation">)</span>:
<span class="token comment">---------------------------------------------------</span>

PLAN_TABLE_OUTPUT
<span class="token comment">--------------------------------------------------------------------------------</span>

   <span class="token number">1</span> <span class="token operator">-</span> filter<span class="token punctuation">(</span><span class="token string">"ID"</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token number">13</span> <span class="token keyword">rows</span> selected<span class="token punctuation">.</span></pre></div></code-block><h3 id="iz3bRt21qJaFqDhraqoZCW" class="wolai-block"><span class="inline-wrap">注</span></h3><ol class="wolai-block"><li id="x4hSsyAXkpHe5naqRtaqbS"><div class="marker"></div><span class="inline-wrap">默认情况下绑定变量会以<span class="jill"></span>VARCHAR2<span class="jill"></span>类型声明，可能会自动添加隐式转换，这样会改变执行计划。</span></li><li id="hSshbgZcX276SkTx9Ne33i"><div class="marker"></div><span class="inline-wrap">使用了绑定变量的<span class="jill"></span>SQL<span class="jill"></span>语句，通过<span class="jill"></span>EXPLAIN PLAN<span class="jill"></span>的输出可能有问题。因为在<span class="jill"></span>EXPLAIN PLAIN<span class="jill"></span>中使用绑定变量中不会使用绑定变量扫视技术，且没有解决方案。</span></li></ol><h1 id="kyja4mcPhybk1kRD2kMk8o" class="wolai-block"><span class="inline-wrap">动态性能视图</span></h1><div id="ghG7UkByMYtbYrhHcHGgVQ" class="wolai-block wolai-text"><div><span class="inline-wrap">下列<span class="jill"></span>4<span class="jill"></span>个视图会显示出现在库缓存中的游标信息。</span></div></div><h3 id="n9WGviGqbqcecpm7c3bAgC" class="wolai-block"><span class="inline-wrap">v$sql_plan</span></h3><div id="gz2Suo5RbbDrAmmBksrKex" class="wolai-block wolai-text"><div><span class="inline-wrap">这个视图提供与计划表基本相同的信息。v$sql_plan<span class="jill"></span>包含用于标志与库缓存中的执行计划的游标的列，这是唯一差别。</span></div></div><div id="dNUVLGU7LBfgyRsRV5R93K" class="wolai-block wolai-text"><div><span class="inline-wrap">这个视图只显示查询优化器在解析阶段做出的估算和决定。</span></div></div><h3 id="koWtcUZ91r92bYKEJbBSz3" class="wolai-block"><span class="inline-wrap">v$sql_plan_statistics</span></h3><div id="fZ3uc7PvJzb3sdKEER1xGW" class="wolai-block wolai-text"><div><span class="inline-wrap">这个视图为<span class="jill"></span>v$sql_plan<span class="jill"></span>视图中的每个操作提供执行统计，比如消耗时间和产生的行数。默认不采集，要将<span class="jill"></span>statistics_level<span class="jill"></span>初始化参数设置为<span class="jill"></span>all，或者将<span class="jill"></span>gath_plan_statics<span class="jill"></span>这个<span class="jill"></span>hint<span class="jill"></span>指定在<span class="jill"></span>sql<span class="jill"></span>中。但可能有负载。</span></div></div><h3 id="gwwNdkFjJQHnMrUfJwuqa1" class="wolai-block"><span class="inline-wrap">v$sql_workarea</span></h3><div id="1zPJeQ5NAa7XaapDrQ81i6" class="wolai-block wolai-text"><div><span class="inline-wrap">这个视图提供执行游标所需的内存信息。它给出运行时内存以及估算高效执行操作需要的内存总量。</span></div></div><h3 id="6KWAWq1GQpcav6qqy8dvYj" class="wolai-block"><span class="inline-wrap">v$sql_plan_statistics_all</span></h3><div id="qQ1JdWajEjU1Y8yjDSuQdq" class="wolai-block wolai-text"><div><span class="inline-wrap">这个视图将<span class="jill"></span>v</span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>q</mi><msub><mi>l</mi><mi>p</mi></msub><mi>l</mi><mi>a</mi><mi>n</mi><mtext>、</mtext><mi>v</mi></mrow><annotation encoding="application/x-tex">sql_plan、v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">an</span><span class="mord cjk_fallback">、</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span></span><span class="inline-wrap">sql_plan_statistics_all、v$sql_workarea<span class="jill"></span>视图通过一个单独的视图展现出来。</span></div></div><h2 id="oVn9kvydH5LxVbAo3QyoNN" class="wolai-block"><span class="inline-wrap">查看子游标</span></h2><div id="pwaYmRdL7fqvpjFbrWSRCK" class="wolai-block wolai-text"><div><span class="inline-wrap">游标通过<span class="jill"></span>address、child_number<span class="jill"></span>列来标识。通过<span class="jill"></span>address<span class="jill"></span>可以标志父游标。两个列一起标志子游标。</span></div></div><code-block id="wKGtWCfMd64cJZq2zwNVj4" class="wolai-block"><div class="wolai-pre"><div data-lang="Sql" class="marker"></div><pre><span class="token keyword">SQL</span><span class="token operator">></span> <span class="token keyword">select</span> <span class="token keyword">status</span><span class="token punctuation">,</span>sql_id<span class="token punctuation">,</span>sql_child_number <span class="token keyword">from</span> v$<span class="token keyword">session</span> <span class="token keyword">where</span> username<span class="token operator">=</span><span class="token string">'TENGFEI'</span><span class="token punctuation">;</span>

<span class="token keyword">STATUS</span>	 SQL_ID        SQL_CHILD_NUMBER
<span class="token comment">-------- ------------- ----------------</span>
ACTIVE	 <span class="token number">4</span>ravrg0b33b56		      <span class="token number">0</span></pre></div></code-block><div id="m2sBXfWTZvDGDk2A4Y3Dw9" class="wolai-block wolai-text"><div><span class="inline-wrap">包含<span class="jill"></span>sql_text<span class="jill"></span>和游标的视图查询</span></div></div><code-block id="imdTe9UikWfHnKRCqeXsS3" class="wolai-block"><div class="wolai-pre"><div data-lang="Sql" class="marker"></div><pre><span class="token keyword">select</span> sql_id<span class="token punctuation">,</span>sql_text<span class="token punctuation">,</span>child_number <span class="token keyword">from</span>  v$<span class="token keyword">sql</span>  <span class="token keyword">where</span> sql_text <span class="token operator">like</span> <span class="token string">'%1644%'</span></pre></div></code-block><h2 id="iThuZhYDzXysykJMEPiWvL" class="wolai-block"><span class="inline-wrap">查询动态性能视图</span></h2><div id="jrs4HSUHNZLUVHc9tssSxU" class="wolai-block wolai-text"><div><span class="inline-wrap">使用<span class="jill"></span>dbms_xplan<span class="jill"></span>包的<span class="jill"></span>display_cursor<span class="jill"></span>函数(通过<span class="jill"></span>v$sql_plan_statistics_all<span class="jill"></span>视图)。但需要<span class="jill"></span>SQL_ID<span class="jill"></span>和子游标两个参数。</span></div></div><code-block id="sP1ry3imVt96qdkvnWNWcf" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre><span class="token constant">SQL</span><span class="token operator">></span> select <span class="token operator">*</span> <span class="token keyword module">from</span> <span class="token function">table</span><span class="token punctuation">(</span>dbms_xplan<span class="token punctuation">.</span><span class="token method function property-access">display_cursor</span><span class="token punctuation">(</span><span class="token string">'bsxn4u3tv2crs'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token constant">PLAN_TABLE_OUTPUT</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token constant">SQL_ID</span>	bsxn4u3tv2crs<span class="token punctuation">,</span> child number <span class="token number">0</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
insert into idt <span class="token function">values</span><span class="token punctuation">(</span><span class="token number">05</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">1644</span><span class="token punctuation">)</span>


<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token operator">|</span> <span class="token maybe-class-name">Id</span>  <span class="token operator">|</span> <span class="token maybe-class-name">Operation</span>		 <span class="token operator">|</span> <span class="token maybe-class-name">Name</span> <span class="token operator">|</span> <span class="token maybe-class-name">Cost</span>	<span class="token operator">|</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span> <span class="token constant">INSERT</span> <span class="token constant">STATEMENT</span>	 <span class="token operator">|</span>	<span class="token operator">|</span>     <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span>  <span class="token constant">LOAD</span> <span class="token constant">TABLE</span> <span class="token constant">CONVENTIONAL</span> <span class="token operator">|</span>	<span class="token operator">|</span>	<span class="token operator">|</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

<span class="token constant">PLAN_TABLE_OUTPUT</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>

<span class="token maybe-class-name">Note</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
   <span class="token operator">-</span> cpu costing is <span class="token function">off</span> <span class="token punctuation">(</span>consider enabling it<span class="token punctuation">)</span>


<span class="token number">16</span> rows selected<span class="token punctuation">.</span></pre></div></code-block><h2 id="xjs6KZmKt52rNuhAGt3Mwo" class="wolai-block"><span class="inline-wrap">AWR<span class="jill"></span>和<span class="jill"></span>Statspack</span></h2><div id="qv9GJsSD42FdssSGng8TYJ" class="wolai-block wolai-text"><div><span class="inline-wrap">捕获某个快照时,AWR<span class="jill"></span>和<span class="jill"></span>Statspack<span class="jill"></span>能够收集执行计划。</span></div></div><code-block id="eA5hkxAXoqcxcQKhiY5o9V" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre><span class="token constant">SQL</span><span class="token operator">></span> select <span class="token operator">*</span> <span class="token keyword module">from</span> <span class="token function">table</span><span class="token punctuation">(</span>dbms_xplan<span class="token punctuation">.</span><span class="token method function property-access">display_awr</span><span class="token punctuation">(</span><span class="token string">'bsxn4u3tv2crs'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></code-block><div id="eqzD6Cu3fFq8GuA4qz764v" class="wolai-block wolai-text"><div><span class="inline-wrap">当捕获一个大于等于<span class="jill"></span>6<span class="jill"></span>级快照时<span class="jill"></span>Statspack<span class="jill"></span>将执行计划存储在<span class="jill"></span>stats$spl_plan<span class="jill"></span>中。</span></div></div><h2 id="ovhomz6RjxSqsSBNXv5d4Q" class="wolai-block"><span class="inline-wrap">跟踪工具</span></h2></article><footer></footer></body></html>