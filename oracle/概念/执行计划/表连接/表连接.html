<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/wolai.css"/><title>表连接 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body class="full-width small-font less-lead"><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="表连接" class="main-title"></div></div></header><article><h2 id="vUmfAbNTmLCVkXd8nToY9P" class="wolai-block"><span class="inline-wrap">环境准备</span></h2><code-block id="sze9Sk8SAwH5WbBA4J2whe" class="wolai-block"><div class="wolai-pre"><div data-lang="Sql" class="marker"></div><pre><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> tbl_small<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> tbl_small <span class="token punctuation">(</span>
id_s <span class="token keyword">SMALLINT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
name_s <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> tbl_big<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> tbl_big <span class="token punctuation">(</span>
id_b <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
name_b <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
id_s <span class="token keyword">SMALLINT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">BEGIN</span>
<span class="token keyword">FOR</span> i <span class="token operator">IN</span> <span class="token number">1</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token number">10</span> <span class="token keyword">LOOP</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tbl_small <span class="token keyword">VALUES</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token string">'small'</span><span class="token operator">||</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span> <span class="token keyword">LOOP</span><span class="token punctuation">;</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">BEGIN</span>
<span class="token keyword">FOR</span> i <span class="token operator">IN</span> <span class="token number">1</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token number">10000</span> <span class="token keyword">LOOP</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tbl_big <span class="token keyword">VALUES</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token string">'big'</span><span class="token operator">||</span>i<span class="token punctuation">,</span>ceil<span class="token punctuation">(</span>i<span class="token operator">/</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span> <span class="token keyword">LOOP</span><span class="token punctuation">;</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>
</pre></div></code-block><h2 id="iZGu54bgCjfG1DrFB7DzNE" class="wolai-block"><span class="inline-wrap">HASH JOIN 散列连接</span></h2><ol class="wolai-block"><li id="7BavQnG597PY3Tx2gT7hQc"><div class="marker"></div><span class="inline-wrap">概念说明</span><span class="inline-wrap">
</span><span class="inline-wrap">散列连接是<span class="jill"></span>CBO<span class="jill"></span>常用的连接方式，优化器用两个表（通常是小表）利用连接键在内存中建立散列表，存储到散列表后，扫描较大的表，同样对<span class="jill"></span>JOIN KEY<span class="jill"></span>进行<span class="jill"></span>HASH<span class="jill"></span>后探测散列表，找出与散列表匹配的行。如果表太多，不能一次性写到内存中，就分成分区，写入磁盘缓存段。所以只适合小表。</span><blockquote id="wLiMcNSzNA18Kzrp73j7He" class="wolai-block"><span class="inline-wrap"><a href="https://docs.oracle.com/database/121/TGSQL/tgsql_join.htm#TGSQL245"><span>Oracle<span class="jill"></span>官方文档</span></a></span><span class="inline-wrap">
</span><span class="inline-wrap">The optimizer uses the smaller of two data sets to build a hash table on the join key in memory, using a deterministic hash function to specify the location in the hash table in which to store each row. The database then scans the larger data set, probing the hash table to find the rows that meet the join condition.</span></blockquote></li><li id="vme2X3AgNw3V5wKLuDCZCs"><div class="marker"></div><span class="inline-wrap">hint<span class="jill"></span>方式</span><code-block id="d45CTf7MU4zFq15B18VysQ" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre><span class="token constant">USE_HASH</span><span class="token punctuation">(</span>table_name1 table_name2<span class="token punctuation">)</span></pre></div></code-block></li><li id="utt4cXXZLMXTsBwmWhpre8"><div class="marker"></div><span class="inline-wrap">使用场景</span><span class="inline-wrap">
</span><span class="inline-wrap">Hash join<span class="jill"></span>在两个表的数据量差别很大且小表适合存储在内存中。</span></li><li id="bV3YQK7P7xtXrxyTc9cCgi"><div class="marker"></div><span class="inline-wrap">SQL<span class="jill"></span>命令</span><code-block id="j4a4UAFcgFr8mD2NpAQNBL" class="wolai-block"><div class="wolai-pre"><div data-lang="Sql" class="marker"></div><pre><span class="token keyword">SELECT</span> id_b<span class="token punctuation">,</span>name_s <span class="token keyword">FROM</span> tbl_small s<span class="token punctuation">,</span>tbl_big b <span class="token keyword">WHERE</span> s<span class="token punctuation">.</span>id_s <span class="token operator">=</span> b<span class="token punctuation">.</span>id_b<span class="token punctuation">;</span></pre></div></code-block></li><li id="8p8FQq8kVJzS1wzQdfnnBr"><div class="marker"></div><span class="inline-wrap">执行计划</span><code-block id="mA7ZC9wy1quAYk7j7UYb82" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre><span class="token maybe-class-name">Plan</span> hash value<span class="token operator">:</span> <span class="token number">1167862901</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token operator">|</span> <span class="token maybe-class-name">Id</span>  <span class="token operator">|</span> <span class="token maybe-class-name">Operation</span>	         <span class="token operator">|</span> <span class="token maybe-class-name">Name</span>      <span class="token operator">|</span> <span class="token maybe-class-name">Rows</span>  <span class="token operator">|</span> <span class="token maybe-class-name">Bytes</span> <span class="token operator">|</span> <span class="token function"><span class="token maybe-class-name">Cost</span></span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token constant">CPU</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token maybe-class-name">Time</span>     <span class="token operator">|</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span> <span class="token constant">SELECT</span> <span class="token constant">STATEMENT</span>   <span class="token operator">|</span>	         <span class="token operator">|</span> <span class="token number">10000</span> <span class="token operator">|</span>   654K<span class="token operator">|</span>    <span class="token number">14</span>	 <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01</span> <span class="token operator">|</span>
<span class="token operator">|</span><span class="token operator">*</span>  <span class="token number">1</span> <span class="token operator">|</span>  <span class="token constant">HASH</span> <span class="token constant">JOIN</span>	       <span class="token operator">|</span>	         <span class="token operator">|</span> <span class="token number">10000</span> <span class="token operator">|</span>   654K<span class="token operator">|</span>    <span class="token number">14</span>	 <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span>   <span class="token constant">TABLE</span> <span class="token constant">ACCESS</span> <span class="token constant">FULL</span><span class="token operator">|</span> <span class="token constant">TBL_SMALL</span> <span class="token operator">|</span>    <span class="token number">10</span> <span class="token operator">|</span>   <span class="token number">400</span> <span class="token operator">|</span>     <span class="token number">3</span>	 <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span>   <span class="token constant">TABLE</span> <span class="token constant">ACCESS</span> <span class="token constant">FULL</span><span class="token operator">|</span> <span class="token constant">TBL_BIG</span>   <span class="token operator">|</span> <span class="token number">10000</span> <span class="token operator">|</span>   263K<span class="token operator">|</span>    <span class="token number">11</span>	 <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01</span> <span class="token operator">|</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>

<span class="token maybe-class-name">Predicate</span> <span class="token function"><span class="token maybe-class-name">Information</span></span> <span class="token punctuation">(</span>identified by operation id<span class="token punctuation">)</span><span class="token operator">:</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

   <span class="token number">1</span> <span class="token operator">-</span> <span class="token function">access</span><span class="token punctuation">(</span><span class="token string">"S"</span><span class="token punctuation">.</span><span class="token string">"ID_S"</span><span class="token operator">=</span><span class="token constant">TO_NUMBER</span><span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">.</span><span class="token string">"ID_B"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


</pre></div></code-block></li></ol><h2 id="g5vgMtxaehN6Cq3y7jEVLn" class="wolai-block"><span class="inline-wrap">Netsted Loops Joins 循环嵌套连接</span></h2><ol class="wolai-block"><li id="7LxydEZzAxx3tCC2LA6VzH"><div class="marker"></div><span class="inline-wrap">概念说明</span><span class="inline-wrap">
</span><span class="inline-wrap">Nested loops 工作方式是循环从一张表中读取数据(驱动表<span class="jill"></span>outer table)，然后访问另一张表（被查找表 inner table,通常有索引）。驱动表中的每一行与<span class="jill"></span>inner<span class="jill"></span>表中的相应记录<span class="jill"></span>JOIN。类似一个嵌套的循环。</span><blockquote id="5XEJsvxBeC7Wvn11zjua8A" class="wolai-block"><span class="inline-wrap"><a href="https://docs.oracle.com/database/121/TGSQL/tgsql_join.htm#TGSQL244"><span>Oracle<span class="jill"></span>官方文档</span></a></span><span class="inline-wrap">
</span><span class="inline-wrap">Nested loops join an outer data set to an inner data set. For each row in the outer data set that matches the single-table predicates, the database retrieves all rows in the inner data set that satisfy the join predicate. If an index is available, then the database can use it to access the inner data set by rowid.</span></blockquote></li><li id="jUwPvUGDQBKB96eMvaHQiP"><div class="marker"></div><span class="inline-wrap">hint<span class="jill"></span>方式</span><code-block id="6fHpG8qnYRuM2dGMf8hUn2" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre><span class="token function">use_nl</span><span class="token punctuation">(</span>t1<span class="token punctuation">,</span>t2<span class="token punctuation">)</span></pre></div></code-block></li><li id="1MRFNsMSWzGV8q16k87bzB"><div class="marker"></div><span class="inline-wrap">使用场景</span><span class="inline-wrap">
</span><span class="inline-wrap">需要连接包含一个在连接字段的列有索引的大表，一个小表。</span></li><li id="48i6GVRsqL3oZSeVPNGfwE"><div class="marker"></div><span class="inline-wrap">SQL<span class="jill"></span>命令</span><code-block id="qyyQzBkEwHkdZwH7wna6h4" class="wolai-block"><div class="wolai-pre"><div data-lang="Sql" class="marker"></div><pre><span class="token keyword">SQL</span><span class="token operator">></span> <span class="token keyword">SELECT</span> id_b<span class="token punctuation">,</span>name_s <span class="token keyword">FROM</span> tbl_small s<span class="token punctuation">,</span>tbl_big b <span class="token keyword">WHERE</span> s<span class="token punctuation">.</span>id_s <span class="token operator">&lt;></span> b<span class="token punctuation">.</span>id_b<span class="token punctuation">;</span></pre></div></code-block></li><li id="6gLHxBmmRNePeiT2da4J7e"><div class="marker"></div><span class="inline-wrap">执行计划</span><code-block id="iRbf8MkAJh1LwitGGBwmra" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre><span class="token maybe-class-name">Plan</span> hash value<span class="token operator">:</span> <span class="token number">1730740048</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token operator">|</span> <span class="token maybe-class-name">Id</span>  <span class="token operator">|</span> <span class="token maybe-class-name">Operation</span>	   <span class="token operator">|</span> <span class="token maybe-class-name">Name</span>      <span class="token operator">|</span> <span class="token maybe-class-name">Rows</span>  <span class="token operator">|</span> <span class="token maybe-class-name">Bytes</span> <span class="token operator">|</span> <span class="token function"><span class="token maybe-class-name">Cost</span></span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token constant">CPU</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token maybe-class-name">Time</span>     <span class="token operator">|</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span> <span class="token constant">SELECT</span> <span class="token constant">STATEMENT</span>   <span class="token operator">|</span>	       <span class="token operator">|</span> <span class="token number">90000</span> <span class="token operator">|</span>  5888K<span class="token operator">|</span>   <span class="token number">100</span>	 <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">02</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span>  <span class="token constant">NESTED</span> <span class="token constant">LOOPS</span>	   <span class="token operator">|</span>	       <span class="token operator">|</span> <span class="token number">90000</span> <span class="token operator">|</span>  5888K<span class="token operator">|</span>   <span class="token number">100</span>	 <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">02</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span>   <span class="token constant">TABLE</span> <span class="token constant">ACCESS</span> <span class="token constant">FULL</span><span class="token operator">|</span> <span class="token constant">TBL_SMALL</span> <span class="token operator">|</span>    <span class="token number">10</span> <span class="token operator">|</span>   <span class="token number">400</span> <span class="token operator">|</span>     <span class="token number">3</span>	 <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01</span> <span class="token operator">|</span>
<span class="token operator">|</span><span class="token operator">*</span>  <span class="token number">3</span> <span class="token operator">|</span>   <span class="token constant">TABLE</span> <span class="token constant">ACCESS</span> <span class="token constant">FULL</span><span class="token operator">|</span> <span class="token constant">TBL_BIG</span>   <span class="token operator">|</span>  <span class="token number">9000</span> <span class="token operator">|</span>   237K<span class="token operator">|</span>    <span class="token number">10</span>	 <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01</span> <span class="token operator">|</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>

<span class="token maybe-class-name">Predicate</span> <span class="token function"><span class="token maybe-class-name">Information</span></span> <span class="token punctuation">(</span>identified by operation id<span class="token punctuation">)</span><span class="token operator">:</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

   <span class="token number">3</span> <span class="token operator">-</span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">"S"</span><span class="token punctuation">.</span><span class="token string">"ID_S"</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token constant">TO_NUMBER</span><span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">.</span><span class="token string">"ID_B"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre></div></code-block></li></ol><h2 id="8m8MCmTkjEuMGwxFaopapS" class="wolai-block"><span class="inline-wrap">Sort Merge Joins 排序合并连接</span></h2><ol class="wolai-block"><li id="bzKKyp87KvazzHwddrBZH6"><div class="marker"></div><span class="inline-wrap">概念说明</span><span class="inline-wrap">
</span><span class="inline-wrap">排序合并连接是先将关联表的关联列各自做排序，然后从各自的排序表中抽取数据，到另一个排序表中做匹配。如果有索引，数据库会避免在第一个数据集中排序，但第二个数据集总是会排序。</span><blockquote id="hovrWQBziYksWgWQfE2ubS" class="wolai-block"><span class="inline-wrap"><a href="https://docs.oracle.com/database/121/TGSQL/tgsql_join.htm#TGSQL94690"><span>Oracle<span class="jill"></span>官方文档</span></a></span><span class="inline-wrap">
</span><span class="inline-wrap">A sort merge join is a variation on a nested loops join.</span><span class="inline-wrap">
</span><span class="inline-wrap">If the two data sets in the join are not already sorted, then the database sorts them. These are the </span><span class="inline-wrap"><code>SORT JOIN</code></span><span class="inline-wrap"> operations. For each row in the first data set, the database probes the second data set for matching rows and joins them, basing its start position on the match made in the previous iteration. This is the </span><span class="inline-wrap"><code>MERGE JOIN</code></span><span class="inline-wrap"> operation.</span></blockquote></li><li id="cuaot98pfWUCiqnJkuDQsQ"><div class="marker"></div><span class="inline-wrap">hint<span class="jill"></span>方式</span><code-block id="2T2Dxr6RUdpFm8i8kVRe6X" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre><span class="token constant">USE_MERGE</span><span class="token punctuation">(</span>table_name1 table_name2<span class="token punctuation">)</span></pre></div></code-block></li><li id="vy3piPCN1j5PeHybHetQ9K"><div class="marker"></div><span class="inline-wrap">使用场景</span><ul class="wolai-block"><li id="5X5EjJyKBQCn7vHo1RAq7F"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">不等价关联(&gt;,&lt;,&gt;=,&lt;=,&lt;&gt;)</span></li></ul></li><li id="s5oMt1QkHcPrRzn3BpW6z2"><div class="marker"></div><span class="inline-wrap">SQL<span class="jill"></span>命令</span><code-block id="8ewTYqGXVbh8yiNGfraDk7" class="wolai-block"><div class="wolai-pre"><div data-lang="Sql" class="marker"></div><pre><span class="token keyword">SQL</span><span class="token operator">></span> <span class="token keyword">SELECT</span> id_b<span class="token punctuation">,</span>name_s <span class="token keyword">FROM</span> tbl_small s<span class="token punctuation">,</span>tbl_big b <span class="token keyword">WHERE</span> s<span class="token punctuation">.</span>id_s <span class="token operator">></span> b<span class="token punctuation">.</span>id_b<span class="token punctuation">;</span></pre></div></code-block></li><li id="9qRW4oXrFCpxubHinDZ6qd"><div class="marker"></div><span class="inline-wrap">执行计划</span><code-block id="uF3UcgxvmbrQWMm5C9Rm9y" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre><span class="token maybe-class-name">Plan</span> hash value<span class="token operator">:</span> <span class="token number">2904257422</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token operator">|</span> <span class="token maybe-class-name">Id</span>  <span class="token operator">|</span> <span class="token maybe-class-name">Operation</span>	          <span class="token operator">|</span> <span class="token maybe-class-name">Name</span>	    <span class="token operator">|</span> <span class="token maybe-class-name">Rows</span>	<span class="token operator">|</span> <span class="token maybe-class-name">Bytes</span> <span class="token operator">|</span> <span class="token function"><span class="token maybe-class-name">Cost</span></span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token constant">CPU</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token maybe-class-name">Time</span>	    <span class="token operator">|</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span> <span class="token constant">SELECT</span> <span class="token constant">STATEMENT</span>    <span class="token operator">|</span>		       	<span class="token operator">|</span>  <span class="token number">5000</span> <span class="token operator">|</span>   327K<span class="token operator">|</span>    <span class="token number">16</span>  <span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span>  <span class="token constant">MERGE</span> <span class="token constant">JOIN</span>	        <span class="token operator">|</span>		       	<span class="token operator">|</span>  <span class="token number">5000</span> <span class="token operator">|</span>   327K<span class="token operator">|</span>    <span class="token number">16</span>  <span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span>   <span class="token constant">SORT</span> <span class="token constant">JOIN</span>	        <span class="token operator">|</span>	         	<span class="token operator">|</span>    <span class="token number">10</span> <span class="token operator">|</span>   <span class="token number">400</span> <span class="token operator">|</span>     <span class="token number">4</span>  <span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span>    <span class="token constant">TABLE</span> <span class="token constant">ACCESS</span> <span class="token constant">FULL</span><span class="token operator">|</span> <span class="token constant">TBL_SMALL</span> <span class="token operator">|</span>    <span class="token number">10</span> <span class="token operator">|</span>   <span class="token number">400</span> <span class="token operator">|</span>     <span class="token number">3</span>   <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01</span> <span class="token operator">|</span>
<span class="token operator">|</span><span class="token operator">*</span>  <span class="token number">4</span> <span class="token operator">|</span>   <span class="token constant">SORT</span> <span class="token constant">JOIN</span>	        <span class="token operator">|</span>		       	<span class="token operator">|</span> <span class="token number">10000</span> <span class="token operator">|</span>   263K<span class="token operator">|</span>    <span class="token number">12</span>   <span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">5</span> <span class="token operator">|</span>    <span class="token constant">TABLE</span> <span class="token constant">ACCESS</span> <span class="token constant">FULL</span><span class="token operator">|</span> <span class="token constant">TBL_BIG</span> 	<span class="token operator">|</span> <span class="token number">10000</span> <span class="token operator">|</span>   263K<span class="token operator">|</span>    <span class="token number">11</span>   <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01</span> <span class="token operator">|</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

<span class="token maybe-class-name">Predicate</span> <span class="token function"><span class="token maybe-class-name">Information</span></span> <span class="token punctuation">(</span>identified by operation id<span class="token punctuation">)</span><span class="token operator">:</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

   <span class="token number">4</span> <span class="token operator">-</span> <span class="token function">access</span><span class="token punctuation">(</span><span class="token constant">INTERNAL_FUNCTION</span><span class="token punctuation">(</span><span class="token string">"S"</span><span class="token punctuation">.</span><span class="token string">"ID_S"</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token constant">TO_NUMBER</span><span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">.</span><span class="token string">"ID_B"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
       <span class="token function">filter</span><span class="token punctuation">(</span><span class="token constant">INTERNAL_FUNCTION</span><span class="token punctuation">(</span><span class="token string">"S"</span><span class="token punctuation">.</span><span class="token string">"ID_S"</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token constant">TO_NUMBER</span><span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">.</span><span class="token string">"ID_B"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></div></code-block></li></ol><h2 id="rXeWCaqXMSSxwYFtfn1qSM" class="wolai-block"><span class="inline-wrap">Cartestian Joins 笛卡尔连接</span></h2><ol class="wolai-block"><li id="bkKEEtrprKy4m5cs9QWTEU"><div class="marker"></div><span class="inline-wrap">概念说明</span><span class="inline-wrap">
</span><span class="inline-wrap">当数据库连接一个或多个表时，没有连接条件时就会使用笛卡尔连接。</span><blockquote id="tSuriv6baGq6WFfoxQ1Xpi" class="wolai-block"><span class="inline-wrap"><a href="https://docs.oracle.com/database/121/TGSQL/tgsql_join.htm#TGSQL94986"><span>Oracle<span class="jill"></span>官方文档</span></a></span><span class="inline-wrap">
</span><span class="inline-wrap">The database uses a </span><span class="inline-wrap"><b>Cartesian join</b></span><span class="inline-wrap"> when one or more of the tables does not have any join conditions to any other tables in the statement.</span></blockquote></li><li id="t4JTD7dxEzLps8cWDBnEnw"><div class="marker"></div><span class="inline-wrap">使用场景</span><ul class="wolai-block"><li id="r12WKHyXmHWRG6PhpRUAKe"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">没有连接条件存在</span></li><li id="jwkX3NXyLQXwH2qgZaNUZz"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">用于非常小的表时优化器会考虑使用</span></li><li id="s4A6dAQFtSdJnNh5UBeLRU"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">hint<span class="jill"></span>方式：</span><span class="inline-wrap"><code>ORDERED USE_NL(table_name)</code></span></li></ul></li><li id="615m4xahUs7e8BLd9pvxjS"><div class="marker"></div><span class="inline-wrap">SQL<span class="jill"></span>命令</span><code-block id="gV7LsaB2ojPfnqi4wnGefZ" class="wolai-block"><div class="wolai-pre"><div data-lang="Sql" class="marker"></div><pre><span class="token keyword">SQL</span><span class="token operator">></span> <span class="token keyword">SELECT</span> id_b<span class="token punctuation">,</span>name_s <span class="token keyword">FROM</span> tbl_small<span class="token punctuation">,</span>tbl_big<span class="token punctuation">;</span>
</pre></div></code-block></li><li id="r6SCV82YwVoEX8jMw5PoMr"><div class="marker"></div><span class="inline-wrap">执行计划</span><code-block id="oC44zL8GqGV3hbfoVe9Qra" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre><span class="token maybe-class-name">Execution</span> <span class="token maybe-class-name">Plan</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token maybe-class-name">Plan</span> hash value<span class="token operator">:</span> <span class="token number">1851076843</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token operator">|</span> <span class="token maybe-class-name">Id</span>  <span class="token operator">|</span> <span class="token maybe-class-name">Operation</span>	     <span class="token operator">|</span> <span class="token maybe-class-name">Name</span>	 <span class="token operator">|</span> <span class="token maybe-class-name">Rows</span>  <span class="token operator">|</span> <span class="token maybe-class-name">Bytes</span> <span class="token operator">|</span> <span class="token function"><span class="token maybe-class-name">Cost</span></span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token constant">CPU</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token maybe-class-name">Time</span>	 <span class="token operator">|</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span> <span class="token constant">SELECT</span> <span class="token constant">STATEMENT</span>     <span class="token operator">|</span>		 <span class="token operator">|</span>   100K<span class="token operator">|</span>  5273K<span class="token operator">|</span>   <span class="token number">100</span>   <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">02</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span>  <span class="token constant">MERGE</span> <span class="token constant">JOIN</span> <span class="token constant">CARTESIAN</span><span class="token operator">|</span>		 <span class="token operator">|</span>   100K<span class="token operator">|</span>  5273K<span class="token operator">|</span>   <span class="token number">100</span>   <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">02</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span>   <span class="token constant">TABLE</span> <span class="token constant">ACCESS</span> <span class="token constant">FULL</span>  <span class="token operator">|</span> <span class="token constant">TBL_SMALL</span> <span class="token operator">|</span>    <span class="token number">10</span> <span class="token operator">|</span>   <span class="token number">270</span> <span class="token operator">|</span>     <span class="token number">3</span>   <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span>   <span class="token constant">BUFFER</span> <span class="token constant">SORT</span>	     <span class="token operator">|</span>		 <span class="token operator">|</span> <span class="token number">10000</span> <span class="token operator">|</span>   263K<span class="token operator">|</span>    <span class="token number">97</span>   <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">02</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">4</span> <span class="token operator">|</span>    <span class="token constant">TABLE</span> <span class="token constant">ACCESS</span> <span class="token constant">FULL</span> <span class="token operator">|</span> <span class="token constant">TBL_BIG</span>	 <span class="token operator">|</span> <span class="token number">10000</span> <span class="token operator">|</span>   263K<span class="token operator">|</span>    <span class="token number">10</span>   <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">|</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01</span> <span class="token operator">|</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>

<span class="token maybe-class-name">Note</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
   <span class="token operator">-</span> dynamic sampling used <span class="token keyword control-flow">for</span> <span class="token keyword">this</span> <span class="token function">statement</span> <span class="token punctuation">(</span>level<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>

<span class="token constant">SQL</span><span class="token operator">></span> </pre></div></code-block></li></ol></article><footer></footer></body></html>