<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../css/wolai.css"/><title>安装 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body class="full-width small-font less-lead"><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="安装" class="main-title"></div></div></header><article><h1 id="pg1Z8AqCS6CERc7ubXKCWG" class="wolai-block"><span class="inline-wrap">Docker<span class="jill"></span>方式安装<span class="jill"></span>svn</span></h1><div id="kUVHfFoffs7FznxBXkYmhW" class="wolai-bookmark wolai-block"><a href="https://blog.csdn.net/omage/article/details/106712873#:~:text=%E4%BD%BF%E7%94%A8Docker%E6%90%AD%E5%BB%BAsvn%E6%9C%8D%E5%8A%A1%20%E5%99%A8%E6%95%99%E7%A8%8B%20svn%20%E7%AE%80%E4%BB%8B%20SVN%20%E6%98%AFSubv,er%20sion%E7%9A%84%E7%AE%80%E7%A7%B0%EF%BC%8C%E6%98%AF%E4%B8%80%E4%B8%AA%E5%BC%80%E6%94%BE%E6%BA%90%E4%BB%A3%E7%A0%81%E7%9A%84%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%EF%BC%8C%E7%9B%B8%E8%BE%83%E4%BA%8ERCS%E3%80%81CVS%EF%BC%8C%E5%AE%83%E9%87%87%E7%94%A8%E4%BA%86%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%EF%BC%8C%E5%AE%83%E7%9A%84%E8%AE%BE%E8%AE%A1%E7%9B%AE%E6%A0%87%E5%B0%B1%E6%98%AF%E5%8F%96%E4%BB%A3CVS%E3%80%82%20%E4%BA%92%E8%81%94%E7%BD%91%E4%B8%8A%E5%BE%88%E5%A4%9A%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%20%E6%9C%8D%E5%8A%A1%20%E5%B7%B2%E4%BB%8ECVS%E8%BF%81%E7%A7%BB%E5%88%B0Subv%20er%20sion%E3%80%82">如何使用Docker搭建svn服务_docker svn_omage的博客-CSDN博客</a><div class="info-box"><div class="text-pane"><div data-title="如何使用Docker搭建svn服务_docker svn_omage的博客-CSDN博客"></div><div data-desc="下载SVN docker镜像docker pullelleflorio/svn-server创建目录（示例)：/opt/svn/opt/svn/repo/opt/svn/config/opt/svn/svnadmin_data运行Docker（先挂载临时目录）docker run --name svn -v /opt/sdb/svn:/tmp/svn -d elleflorio/svn-serve"></div><div class="icon-host"><div class="icon icon-image" style="background-image: url(&quot;https://g.csdnimg.cn/static/logo/favicon32.ico&quot;)"></div><div data-hostname="blog.csdn.net"></div></div></div><div class="preview-pane"></div></div></div><div id="1ogvv56rFmZjn8BMcak26t" class="wolai-block wolai-text"><div><span class="inline-wrap">拉取镜像</span></div></div><code-block id="1J5bzQZEUtAgNsfv1CJQPz" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">docker pull elleflorio<span class="token operator">/</span>svn<span class="token operator">-</span>server</pre></div></code-block><div id="tJWE4zCDUnjFYBNV3aoRum" class="wolai-block wolai-text"><div><span class="inline-wrap">创建目录</span></div></div><code-block id="bep6MMWWqANFQA7PmA5iLN" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">mkdir <span class="token operator">-</span>p <span class="token operator">/</span>opt<span class="token operator">/</span>svn <span class="token operator">/</span>opt<span class="token operator">/</span>svn<span class="token operator">/</span>repo <span class="token operator">/</span>opt<span class="token operator">/</span>svn<span class="token operator">/</span>config <span class="token operator">/</span>opt<span class="token operator">/</span>svn<span class="token operator">/</span>svnadmin_data</pre></div></code-block><div id="bSQvi7CvSzYqAHrK5dmAGk" class="wolai-block wolai-text"><div><span class="inline-wrap">获取配置文件，临时运行<span class="jill"></span>Docker</span></div></div><code-block id="rUJbfMtwcvqmixDRrmHDCr" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">docker run <span class="token operator">--</span>name svn <span class="token operator">-</span>v <span class="token operator">/</span>opt<span class="token operator">/</span>sdb<span class="token operator">/</span>svn<span class="token operator">:</span><span class="token operator">/</span>tmp<span class="token operator">/</span>svn <span class="token operator">-</span>d elleflorio<span class="token operator">/</span>svn<span class="token operator">-</span>server</pre></div></code-block><div id="wq1vyAb71LV7m75ZpahxwM" class="wolai-block wolai-text"><div><span class="inline-wrap">进入<span class="jill"></span>svn<span class="jill"></span>容器</span></div></div><code-block id="mV1nbojbgzRxMw4RggLwLC" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">docker exec <span class="token operator">-</span>it svn sh
<span class="token operator">/</span>etc<span class="token operator">/</span>apache2<span class="token operator">/</span>conf<span class="token punctuation">.</span><span class="token property-access">d</span><span class="token operator">/</span>dav_svn<span class="token punctuation">.</span><span class="token property-access">conf</span>
cp <span class="token operator">/</span>etc<span class="token operator">/</span>subversion<span class="token comment">/*  /tmp/svn/config
cp /opt/svnadmin/data/* /tmp/svn/svnadmin_data
exit</span></pre></div></code-block><div id="kCLiiQpQj2HiP5tZUiesGm" class="wolai-block wolai-text"><div><span class="inline-wrap">删除容器</span></div></div><code-block id="bGyS4dQ7mrx3rcPbdnmT6G" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token function">docker</span> stop svn <span class="token operator">&amp;&amp;</span> <span class="token function">docker</span> <span class="token function">rm</span> svn</pre></div></code-block><div id="pvnyHN7dQJF8sVhFwSF8hj" class="wolai-block wolai-text"><div><span class="inline-wrap">修改宿主目录的权限</span></div></div><code-block id="f9bPcjzTdtiXTUGoW8guV2" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token function">chmod</span> <span class="token parameter variable">-R</span> a+w /opt/svn</pre></div></code-block><div id="9vnV1JZ9YXZhaPasVePTp6" class="wolai-block wolai-text"><div><span class="inline-wrap">重新运行容器，并挂在配置</span></div></div><code-block id="vgmtdPXoRMjWHA1SmY9o4Q" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">docker run <span class="token operator">--</span>name svn <span class="token operator">-</span>v <span class="token operator">/</span>opt<span class="token operator">/</span>svn<span class="token operator">/</span>repo<span class="token operator">:</span><span class="token operator">/</span>home<span class="token operator">/</span>svn <span class="token operator">-</span>v <span class="token operator">/</span>opt<span class="token operator">/</span>svn<span class="token operator">/</span>config<span class="token operator">:</span><span class="token operator">/</span>etc<span class="token operator">/</span>subversion <span class="token operator">-</span>v <span class="token operator">/</span>opt<span class="token operator">/</span>svn<span class="token operator">/</span>svnadmin_data<span class="token operator">:</span><span class="token operator">/</span>opt<span class="token operator">/</span>svnadmin<span class="token operator">/</span>data  <span class="token operator">-</span>p <span class="token number">802</span><span class="token operator">:</span><span class="token number">80</span> <span class="token operator">-</span>p <span class="token number">3691</span><span class="token operator">:</span><span class="token number">3690</span> <span class="token operator">-</span>d elleflorio<span class="token operator">/</span>svn<span class="token operator">-</span>server</pre></div></code-block><div id="97QbYrNEH5aVGP6QVsBTSE" class="wolai-block wolai-text"><div><span class="inline-wrap">进入容器后,创建仓库</span></div></div><code-block id="2RAyQxn92xWJn5wjkZHoyY" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">docker exec <span class="token operator">-</span>it svn sh
mkdir <span class="token operator">-</span>p <span class="token operator">/</span>home<span class="token operator">/</span>svn<span class="token operator">/</span>myrep
svnadmin create <span class="token operator">--</span>pre<span class="token operator">-</span><span class="token number">1.6</span><span class="token operator">-</span>compatible <span class="token operator">/</span>home<span class="token operator">/</span>svn<span class="token operator">/</span>myrep</pre></div></code-block><div id="pjxJLnzF66WAqurcfpPtii" class="wolai-block wolai-text"><div><span class="inline-wrap">将下列内容添加到/etc/subversion/subversion-access-control</span></div></div><code-block id="p5vWpUoKAQvuEjWGtoUG6n" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token punctuation">[</span>groups<span class="token punctuation">]</span>
 
<span class="token punctuation">[</span><span class="token operator">/</span><span class="token punctuation">]</span>
<span class="token operator">*</span> <span class="token operator">=</span> 
admin <span class="token operator">=</span> rw
test <span class="token operator">=</span> rw</pre></div></code-block><div id="b8gWN4u7ExQQwSarBXLQNy" class="wolai-block wolai-text"><div><span class="inline-wrap">添加用户账号</span></div></div><code-block id="5sSMXsbHFzXoDGxNqKR8Tm" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">htpasswd <span class="token operator">-</span>c <span class="token operator">-</span>b <span class="token operator">/</span>etc<span class="token operator">/</span>subversion<span class="token operator">/</span>passwd admin <span class="token operator">&lt;</span>password<span class="token operator">></span>
htpasswd <span class="token operator">-</span>c <span class="token operator">-</span>b <span class="token operator">/</span>etc<span class="token operator">/</span>subversion<span class="token operator">/</span>passwd test <span class="token operator">&lt;</span>password<span class="token operator">></span></pre></div></code-block><div id="q6qnvCnug9GJbqwLm6V8qx" class="wolai-block wolai-text"><div><span class="inline-wrap">赋权</span></div></div><code-block id="hpcBGBoDxoFnmSLqomF2ve" class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all">chmod <span class="token operator">-</span><span class="token constant">R</span>  <span class="token number">777</span> <span class="token operator">/</span>etc<span class="token operator">/</span>subversion<span class="token operator">/</span></pre></div></code-block><div id="1GTa4LJ4vey4qFd9F2KmgV" class="wolai-block wolai-text"><div><span class="inline-wrap">退出后容器，对新加的<span class="jill"></span>repository<span class="jill"></span>的文件夹添加写权限</span></div></div><code-block id="cSQCvDvh7Bk1ekGdawv84o" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token function">chmod</span> <span class="token parameter variable">-R</span> a+w /opt/svb/repo</pre></div></code-block><div id="qF5iACh99qyuSVnPB4tMSH" class="wolai-block wolai-text"><div><span class="inline-wrap">访问</span><span class="inline-wrap"><a href="http://IP，应该出现Itworks!字样。"><span>http://IP，应该出现<span class="jill"></span>Itworks!字样。</span></a></span></div></div><div id="r7uqU9YHSQBk43kgXysT6P" class="wolai-block wolai-text"><div><span class="inline-wrap">访问</span><span class="inline-wrap"><a href="http://IP/svn，出现登录提示框。"><span>http://IP/svn，出现登录提示框。</span></a></span></div></div><div id="gwJtdw25dKgfXkcZcQM1g8" class="wolai-block wolai-text"><div><span class="inline-wrap">访问</span><span class="inline-wrap"><a href="http://IP/svnadmin，出现后台管理"><span>http://IP/svnadmin，出现后台管理</span></a></span></div></div><div id="h4yg4wYAMR5xRbyGMEw1BV" class="wolai-block wolai-text"><div><span class="inline-wrap">Subversion authorization file：/etc/subversion/subversion-access-control</span></div></div><div id="catmndVR8k4ujjXEV9d127" class="wolai-block wolai-text"><div><span class="inline-wrap">User authentication file (SVNUserFile)：/etc/subversion/passwd</span></div></div><div id="jNo4JegVHVkv2GH1Jrt52j" class="wolai-block wolai-text"><div><span class="inline-wrap">Parent directory of the repositories (SVNParentPath)：/home/svn</span></div></div><div id="rHHoLuJWm3YFT9HfHWhxkw" class="wolai-block wolai-text"><div><span class="inline-wrap">Subversion client executable：/usr/bin/svn</span></div></div><div id="2uKc6y8CiYkffhZ8ZSWyAy" class="wolai-block wolai-text"><div><span class="inline-wrap">Subversion admin executable：/usr/bin/svnadmin</span></div></div></article><footer></footer></body></html>